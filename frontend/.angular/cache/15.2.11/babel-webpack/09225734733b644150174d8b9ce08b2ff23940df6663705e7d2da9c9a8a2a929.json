{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/project.service\";\nimport * as i3 from \"src/app/services/user.service\";\nimport * as i4 from \"@angular/router\";\nfunction JoinProjectModalComponent_mat_hint_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nexport class JoinProjectModalComponent {\n  constructor(dialogRef, projectService, userService, router, data) {\n    this.dialogRef = dialogRef;\n    this.projectService = projectService;\n    this.userService = userService;\n    this.router = router;\n    this.data = data;\n    this.inputCode = '';\n    this.isError = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {}\n  joinProject() {\n    this.projectService.joinProject(this.inputCode).then(project => {\n      this.dialogRef.close();\n      this.router.navigate(['project/' + project.projectID]);\n    }).catch(e => {\n      this.showError(e.error);\n    });\n  }\n  onNoClick() {\n    this.dialogRef.close();\n  }\n  showError(message) {\n    this.isError = true;\n    this.errorMessage = message;\n  }\n}\nJoinProjectModalComponent.ɵfac = function JoinProjectModalComponent_Factory(t) {\n  return new (t || JoinProjectModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.ProjectService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\nJoinProjectModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JoinProjectModalComponent,\n  selectors: [[\"app-join-project-modal\"]],\n  decls: 12,\n  vars: 2,\n  consts: [[\"mat-dialog-title\", \"\"], [\"appearance\", \"outline\", 2, \"width\", \"100%\", \"margin-top\", \"20px\"], [\"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"mat-error\", 4, \"ngIf\"], [\"mat-dialog-actions\", \"\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"cdkFocusInitial\", \"\", 3, \"click\"], [1, \"mat-error\"]],\n  template: function JoinProjectModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Join Project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"mat-form-field\", 1)(3, \"mat-label\");\n      i0.ɵɵtext(4, \"Invite Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function JoinProjectModalComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.inputCode = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, JoinProjectModalComponent_mat_hint_6_Template, 2, 1, \"mat-hint\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function JoinProjectModalComponent_Template_button_click_8_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵtext(9, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function JoinProjectModalComponent_Template_button_click_10_listener() {\n        return ctx.joinProject();\n      });\n      i0.ɵɵtext(11, \" Join Project! \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputCode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isError);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAuBA,eAAe,QAAQ,0BAA0B;;;;;;;;ICGtEC,mCAA4C;IAAAA,YAAkB;IAAAA,iBAAW;;;;IAA7BA,eAAkB;IAAlBA,yCAAkB;;;ADOhE,OAAM,MAAOC,yBAAyB;EAKpCC,YACSC,SAAkD,EAClDC,cAA8B,EAC9BC,WAAwB,EACxBC,MAAc,EACWC,IAAS;IAJlC,cAAS,GAATJ,SAAS;IACT,mBAAc,GAAdC,cAAc;IACd,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IACmB,SAAI,GAAJC,IAAI;IATtC,cAAS,GAAG,EAAE;IACd,YAAO,GAAG,KAAK;IACf,iBAAY,GAAG,EAAE;EAQd;EAEHC,QAAQ,IAAU;EAElBC,WAAW;IACT,IAAI,CAACL,cAAc,CAChBK,WAAW,CAAC,IAAI,CAACC,SAAS,CAAC,CAC3BC,IAAI,CAAEC,OAAO,IAAI;MAChB,IAAI,CAACT,SAAS,CAACU,KAAK,EAAE;MACtB,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,CAAC,UAAU,GAAGF,OAAO,CAACG,SAAS,CAAC,CAAC;IACxD,CAAC,CAAC,CACDC,KAAK,CAAEC,CAAC,IAAI;MACX,IAAI,CAACC,SAAS,CAACD,CAAC,CAACE,KAAK,CAAC;IACzB,CAAC,CAAC;EACN;EAEAC,SAAS;IACP,IAAI,CAACjB,SAAS,CAACU,KAAK,EAAE;EACxB;EAEAK,SAAS,CAACG,OAAO;IACf,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,YAAY,GAAGF,OAAO;EAC7B;;;mBAlCWpB,yBAAyB,8KAU1BF,eAAe;AAAA;;QAVdE,yBAAyB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXtC5B,6BAAqB;MAAAA,4BAAY;MAAAA,iBAAK;MACtCA,yCAA2E;MAC9DA,2BAAW;MAAAA,iBAAY;MAClCA,gCAA0C;MAA1BA;QAAA;MAAA,EAAuB;MAAvCA,iBAA0C;MAC1CA,oFAAyE;MAC3EA,iBAAiB;MACjBA,8BAAwB;MACHA;QAAA,OAAS6B,eAAW;MAAA,EAAC;MAAC7B,sBAAM;MAAAA,iBAAS;MACxDA,kCAA2D;MAAxCA;QAAA,OAAS6B,iBAAa;MAAA,EAAC;MACxC7B,gCACF;MAAAA,iBAAS;;;MAPOA,eAAuB;MAAvBA,uCAAuB;MACVA,eAAa;MAAbA,kCAAa","names":["MAT_DIALOG_DATA","i0","JoinProjectModalComponent","constructor","dialogRef","projectService","userService","router","data","ngOnInit","joinProject","inputCode","then","project","close","navigate","projectID","catch","e","showError","error","onNoClick","message","isError","errorMessage","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/marieklinaeva/github/ck-board/frontend/src/app/components/join-project-modal/join-project-modal.component.ts","/Users/marieklinaeva/github/ck-board/frontend/src/app/components/join-project-modal/join-project-modal.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-join-project-modal',\n  templateUrl: './join-project-modal.component.html',\n  styleUrls: ['./join-project-modal.component.scss'],\n})\nexport class JoinProjectModalComponent implements OnInit {\n  inputCode = '';\n  isError = false;\n  errorMessage = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<JoinProjectModalComponent>,\n    public projectService: ProjectService,\n    public userService: UserService,\n    public router: Router,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  ngOnInit(): void {}\n\n  joinProject() {\n    this.projectService\n      .joinProject(this.inputCode)\n      .then((project) => {\n        this.dialogRef.close();\n        this.router.navigate(['project/' + project.projectID]);\n      })\n      .catch((e) => {\n        this.showError(e.error);\n      });\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  showError(message) {\n    this.isError = true;\n    this.errorMessage = message;\n  }\n}\n","<h1 mat-dialog-title>Join Project</h1>\n<mat-form-field appearance=\"outline\" style=\"width: 100%; margin-top: 20px\">\n  <mat-label>Invite Code</mat-label>\n  <input matInput [(ngModel)]=\"inputCode\" />\n  <mat-hint class=\"mat-error\" *ngIf=\"isError\">{{ errorMessage }}</mat-hint>\n</mat-form-field>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onNoClick()\">Cancel</button>\n  <button mat-button (click)=\"joinProject()\" cdkFocusInitial>\n    Join Project!\n  </button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}