{"ast":null,"code":"import _asyncToGenerator from \"/Users/marieklinaeva/github/ck-board/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { CompletionQuality } from 'src/app/models/todoItem';\nimport { FormControl, Validators } from '@angular/forms';\nimport { MyErrorStateMatcher } from 'src/app/utils/ErrorStateMatcher';\nimport { EXPANDED_TODO_TYPE, EXPANDED_COMPLETION_QUALITY } from 'src/app/utils/constants';\nimport { AddTodoListModalComponent } from '../add-todo-list-modal/add-todo-list-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/group.service\";\nimport * as i3 from \"src/app/services/user.service\";\nimport * as i4 from \"src/app/services/todoItem.service\";\nfunction TodoItemCardModalComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TodoItemCardModalComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editTodoItem(ctx_r4.todoItem));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"edit\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TodoItemCardModalComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TodoItemCardModalComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.restoreTodoItem(ctx_r6.todoItem));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"restore\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TodoItemCardModalComponent_div_27_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", option_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.EXPANDED_COMPLETION_QUALITY[option_r9], \" \");\n  }\n}\nfunction TodoItemCardModalComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 16)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Completion Quality\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function TodoItemCardModalComponent_div_27_Template_mat_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.completionQuality = $event);\n    })(\"valueChange\", function TodoItemCardModalComponent_div_27_Template_mat_select_valueChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.defaultQuality = $event);\n    });\n    i0.ɵɵtemplate(5, TodoItemCardModalComponent_div_27_mat_option_5_Template, 2, 2, \"mat-option\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-chip\", 19);\n    i0.ɵɵlistener(\"click\", function TodoItemCardModalComponent_div_27_Template_mat_chip_click_6_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.completeTask());\n    });\n    i0.ɵɵelementStart(7, \"span\", 20);\n    i0.ɵɵtext(8, \" Mark as Done \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.completionQuality)(\"formControl\", ctx_r2.completionQualityFormControl)(\"errorStateMatcher\", ctx_r2.matcher)(\"value\", ctx_r2.defaultQuality);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.completionQualityOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.completionQualityFormControl.valid || ctx_r2.completionQuality === \"N_A\");\n  }\n}\nfunction TodoItemCardModalComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2, \" Completion Quality: \");\n    i0.ɵɵelementStart(3, \"mat-chip\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.taskCompletionQuality, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"color\": a0\n  };\n};\nconst linkifyStr = require('linkifyjs/lib/linkify-string');\nexport class TodoItemCardModalComponent {\n  constructor(dialogRef, dialog, groupService, userService, todoItemService, data) {\n    var _a, _b;\n    this.dialogRef = dialogRef;\n    this.dialog = dialog;\n    this.groupService = groupService;\n    this.userService = userService;\n    this.todoItemService = todoItemService;\n    this.data = data;\n    this.taskTitle = '';\n    this.taskDescription = '';\n    this.taskCompletionQuality = '';\n    this.assignee = '';\n    this.status = '';\n    this.statusColor = '';\n    this.taskTypes = '';\n    this.EXPANDED_COMPLETION_QUALITY = EXPANDED_COMPLETION_QUALITY;\n    this.completionQualityOptions = [CompletionQuality.N_A, CompletionQuality.INCOMPLETE, CompletionQuality.VERY_UNSATISFIED, CompletionQuality.UNSATISFIED, CompletionQuality.NEUTRAL, CompletionQuality.SATISFIED, CompletionQuality.VERY_SATISFIED];\n    this.completionQuality = CompletionQuality.N_A;\n    this.defaultQuality = CompletionQuality.N_A;\n    this.completionQualityFormControl = new FormControl('valid', [Validators.required]);\n    this.matcher = new MyErrorStateMatcher();\n    this.todoItem = Object.assign({}, data.todoItem);\n    this.taskTitle = data.todoItem.title;\n    this.projectID = data.projectID;\n    this.userID = data.userID;\n    this.group = data.group;\n    this.taskDescription = linkifyStr(((_a = data.todoItem) === null || _a === void 0 ? void 0 : _a.description) ? data.todoItem.description : '', {\n      defaultProtocol: 'https',\n      target: '_blank'\n    });\n    this.taskTypes = data.todoItem.type.map(type => EXPANDED_TODO_TYPE[type]).join(', ');\n    if (data.todoItem.completed) {\n      this.taskCompletionQuality = ((_b = data.todoItem) === null || _b === void 0 ? void 0 : _b.quality) ? EXPANDED_COMPLETION_QUALITY[data.todoItem.quality] : EXPANDED_COMPLETION_QUALITY['SATISFIED'];\n    }\n    this.calclateTaskStatus(data.todoItem);\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.updateAssignee(_this.data.todoItem);\n    })();\n  }\n  updateAssignee(todoItem) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (todoItem.groupID) {\n        _this2.assignee = (yield _this2.groupService.getById(todoItem.groupID)).name;\n      } else {\n        _this2.assignee = (yield _this2.userService.getOneById(todoItem.userID)).username;\n      }\n    })();\n  }\n  calclateTaskStatus(todoItem) {\n    const date = new Date(`${todoItem.deadline.date} ${todoItem.deadline.time}`);\n    const currentDate = new Date();\n    const incomplete = (todoItem === null || todoItem === void 0 ? void 0 : todoItem.quality) == CompletionQuality.INCOMPLETE;\n    const overdue = date < currentDate && !todoItem.completed;\n    this.status = incomplete ? 'Incomplete' : overdue ? 'Missed' : todoItem.completed ? 'Complete' : 'Pending';\n    this.statusColor = incomplete ? 'red' : overdue ? 'red' : todoItem.completed ? 'green' : 'orange';\n  }\n  completeTask() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.completionQualityFormControl.valid || _this3.completionQuality === 'N_A') {\n        return;\n      }\n      const updatedTodo = yield _this3.todoItemService.update(_this3.data.todoItem.todoItemID, {\n        completed: true,\n        quality: _this3.completionQuality\n      });\n      _this3.dialogRef.close();\n      _this3.data.onComplete(updatedTodo);\n    })();\n  }\n  editTodoItem(todoItem) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.dialog.open(AddTodoListModalComponent, {\n        width: '600px',\n        data: {\n          projectID: _this4.projectID,\n          userID: _this4.userID,\n          todoItem: todoItem,\n          group: todoItem.groupID ? yield _this4.groupService.getById(todoItem.groupID) : null,\n          onComplete: function () {\n            var _ref = _asyncToGenerator(function* (todoItem) {\n              if (todoItem) {\n                Object.assign(_this4.todoItem, todoItem);\n                _this4.taskTitle = todoItem.title;\n                _this4.taskDescription = linkifyStr((todoItem === null || todoItem === void 0 ? void 0 : todoItem.description) ? todoItem.description : '', {\n                  defaultProtocol: 'https',\n                  target: '_blank'\n                });\n                _this4.taskTypes = todoItem.type.map(type => EXPANDED_TODO_TYPE[type]).join(', ');\n                yield _this4.updateAssignee(_this4.todoItem);\n                _this4.data.onEdit(_this4.todoItem);\n              }\n            });\n            return function onComplete(_x) {\n              return _ref.apply(this, arguments);\n            };\n          }()\n        }\n      });\n    })();\n  }\n  restoreTodoItem(todoItem) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.dialog.open(AddTodoListModalComponent, {\n        width: '600px',\n        data: {\n          projectID: _this5.projectID,\n          userID: _this5.userID,\n          restoreTodoItem: todoItem,\n          onComplete: function () {\n            var _ref2 = _asyncToGenerator(function* (todoItem) {\n              if (todoItem) {\n                Object.assign(_this5.todoItem, todoItem);\n                _this5.taskCompletionQuality = EXPANDED_COMPLETION_QUALITY['N_A'];\n                _this5.taskTitle = todoItem.title;\n                _this5.taskDescription = linkifyStr((todoItem === null || todoItem === void 0 ? void 0 : todoItem.description) ? todoItem.description : '', {\n                  defaultProtocol: 'https',\n                  target: '_blank'\n                });\n                _this5.taskTypes = todoItem.type.map(type => EXPANDED_TODO_TYPE[type]).join(', ');\n                _this5.calclateTaskStatus(todoItem);\n                yield _this5.updateAssignee(_this5.todoItem);\n                _this5.data.onRestore(todoItem);\n              }\n            });\n            return function onComplete(_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()\n        }\n      });\n    })();\n  }\n  onNoClick() {\n    this.close();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n}\nTodoItemCardModalComponent.ɵfac = function TodoItemCardModalComponent_Factory(t) {\n  return new (t || TodoItemCardModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.GroupService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.TodoItemService), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\nTodoItemCardModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoItemCardModalComponent,\n  selectors: [[\"app-todo-item-card-modal\"]],\n  decls: 32,\n  vars: 15,\n  consts: [[1, \"details\"], [\"mat-card-avatar\", \"\", 1, \"avatar\"], [1, \"fill-remaining-space\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Edit Task\", 3, \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Restore Task\", 3, \"click\", 4, \"ngIf\"], [2, \"overflow-wrap\", \"break-word\", 3, \"innerHTML\"], [1, \"todoItemDetails\"], [2, \"display\", \"flex\"], [2, \"margin-right\", \"15px\"], [2, \"font-weight\", \"500\", \"margin-bottom\", \"2px\"], [2, \"font-weight\", \"500\", \"margin\", \"0 30px\", 3, \"ngStyle\"], [4, \"ngIf\"], [\"mat-dialog-actions\", \"\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Edit Task\", 3, \"click\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Restore Task\", 3, \"click\"], [\"appearance\", \"fill\"], [\"panelClass\", \"completion-quality-panel\", 3, \"ngModel\", \"formControl\", \"errorStateMatcher\", \"value\", \"ngModelChange\", \"valueChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", \"selected\", \"\", 1, \"config-button\", 2, \"text-align\", \"center\", 3, \"disabled\", \"click\"], [2, \"width\", \"100%\", \"text-align\", \"center\"], [3, \"value\"], [\"color\", \"accent\", \"selected\", \"\", 2, \"margin\", \"0 5px\"]],\n  template: function TodoItemCardModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\", 0)(2, \"mat-card-header\");\n      i0.ɵɵelement(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"mat-card-title\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"span\", 2);\n      i0.ɵɵelementStart(7, \"mat-card-subtitle\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, TodoItemCardModalComponent_button_9_Template, 3, 0, \"button\", 3);\n      i0.ɵɵtemplate(10, TodoItemCardModalComponent_button_10_Template, 3, 0, \"button\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"p\", 5);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"div\", 7)(18, \"mat-icon\", 8);\n      i0.ɵɵtext(19, \"access_time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\")(21, \"p\", 9);\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"p\");\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"p\", 10);\n      i0.ɵɵtext(26);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(27, TodoItemCardModalComponent_div_27_Template, 9, 6, \"div\", 11);\n      i0.ɵɵtemplate(28, TodoItemCardModalComponent_div_28_Template, 5, 1, \"div\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 12)(30, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function TodoItemCardModalComponent_Template_button_click_30_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵtext(31, \"Close\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.taskTitle);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.assignee);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.todoItem.completed);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.todoItem.completed);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"innerHTML\", ctx.taskDescription, i0.ɵɵsanitizeHtml);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.taskDescription, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Type : \", ctx.taskTypes, \"\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.todoItem.deadline.date, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.todoItem.deadline.time);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(13, _c0, ctx.statusColor));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.status);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.todoItem.completed);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.todoItem.completed);\n    }\n  },\n  styles: [\".avatar[_ngcontent-%COMP%] {\\n  background-image: url(\\\"https://www.mtsolar.us/wp-content/uploads/2020/04/avatar-placeholder.png\\\");\\n  background-size: cover;\\n}\\n\\n.fill-remaining-space[_ngcontent-%COMP%] {\\n  flex: 1 1 auto;\\n}\\n\\n.details[_ngcontent-%COMP%] {\\n  box-shadow: none !important;\\n  padding: 0 !important;\\n}\\n\\n.todoItemDetails[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin: 10px 0;\\n  align-items: center;\\n}\\n\\n.config-button[_ngcontent-%COMP%] {\\n  margin: 5px;\\n}\\n\\n  .mat-select-panel.completion-quality-panel {\\n  max-height: 800px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90b2RvLWl0ZW0tY2FyZC1tb2RhbC90b2RvLWl0ZW0tY2FyZC1tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlHQUFBO0VBQ0Esc0JBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7QUFDRjs7QUFFQTtFQUNFLDJCQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuYXZhdGFyIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL3d3dy5tdHNvbGFyLnVzL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIwLzA0L2F2YXRhci1wbGFjZWhvbGRlci5wbmcnKTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cblxuLmZpbGwtcmVtYWluaW5nLXNwYWNlIHtcbiAgZmxleDogMSAxIGF1dG87XG59XG5cbi5kZXRhaWxzIHtcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG59XG5cbi50b2RvSXRlbURldGFpbHN7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbjogMTBweCAwO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uY29uZmlnLWJ1dHRvbiB7XG4gIG1hcmdpbjogNXB4O1xufVxuXG46Om5nLWRlZXAgLm1hdC1zZWxlY3QtcGFuZWwuY29tcGxldGlvbi1xdWFsaXR5LXBhbmVsIHtcbiAgbWF4LWhlaWdodDogODAwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MAT_DIALOG_DATA","CompletionQuality","FormControl","Validators","MyErrorStateMatcher","EXPANDED_TODO_TYPE","EXPANDED_COMPLETION_QUALITY","AddTodoListModalComponent","i0","linkifyStr","require","TodoItemCardModalComponent","constructor","dialogRef","dialog","groupService","userService","todoItemService","data","N_A","INCOMPLETE","VERY_UNSATISFIED","UNSATISFIED","NEUTRAL","SATISFIED","VERY_SATISFIED","required","todoItem","taskTitle","title","projectID","userID","group","taskDescription","description","defaultProtocol","target","taskTypes","type","map","join","completed","taskCompletionQuality","quality","calclateTaskStatus","ngOnInit","updateAssignee","groupID","assignee","getById","name","getOneById","username","date","Date","deadline","time","currentDate","incomplete","overdue","status","statusColor","completeTask","completionQualityFormControl","valid","completionQuality","updatedTodo","update","todoItemID","close","onComplete","editTodoItem","open","width","Object","assign","onEdit","restoreTodoItem","onRestore","onNoClick","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/marieklinaeva/github/ck-board/frontend/src/app/components/todo-item-card-modal/todo-item-card-modal.component.ts","/Users/marieklinaeva/github/ck-board/frontend/src/app/components/todo-item-card-modal/todo-item-card-modal.component.html"],"sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service';\nimport { GroupService } from 'src/app/services/group.service';\nimport {\n  MatDialog,\n  MatDialogRef,\n  MAT_DIALOG_DATA,\n} from '@angular/material/dialog';\nimport {\n  TodoItem,\n  TodoItemType,\n  CompletionQuality,\n} from 'src/app/models/todoItem';\nimport { FormControl, Validators } from '@angular/forms';\nimport { MyErrorStateMatcher } from 'src/app/utils/ErrorStateMatcher';\nimport {\n  EXPANDED_TODO_TYPE,\n  EXPANDED_COMPLETION_QUALITY,\n} from 'src/app/utils/constants';\nimport { TodoItemService } from 'src/app/services/todoItem.service';\nimport { Group } from 'src/app/models/group';\nimport { AddTodoListModalComponent } from '../add-todo-list-modal/add-todo-list-modal.component';\n\nconst linkifyStr = require('linkifyjs/lib/linkify-string');\n\n@Component({\n  selector: 'app-todo-item-card-modal',\n  templateUrl: './todo-item-card-modal.component.html',\n  styleUrls: ['./todo-item-card-modal.component.scss'],\n})\nexport class TodoItemCardModalComponent implements OnInit {\n  todoItem: TodoItem;\n  taskTitle: string = '';\n  taskDescription: string = '';\n  taskCompletionQuality: string = '';\n  assignee: string = '';\n  status: string = '';\n  statusColor: string = '';\n  taskTypes: string = '';\n  EXPANDED_COMPLETION_QUALITY: typeof EXPANDED_COMPLETION_QUALITY =\n    EXPANDED_COMPLETION_QUALITY;\n  completionQualityOptions = [\n    CompletionQuality.N_A,\n    CompletionQuality.INCOMPLETE,\n    CompletionQuality.VERY_UNSATISFIED,\n    CompletionQuality.UNSATISFIED,\n    CompletionQuality.NEUTRAL,\n    CompletionQuality.SATISFIED,\n    CompletionQuality.VERY_SATISFIED,\n  ];\n  completionQuality: CompletionQuality = CompletionQuality.N_A;\n  defaultQuality = CompletionQuality.N_A;\n\n  completionQualityFormControl = new FormControl('valid', [\n    Validators.required,\n  ]);\n  matcher = new MyErrorStateMatcher();\n\n  projectID: string;\n  userID: string;\n  group: Group | null;\n\n  constructor(\n    public dialogRef: MatDialogRef<TodoItemCardModalComponent>,\n    public dialog: MatDialog,\n    public groupService: GroupService,\n    public userService: UserService,\n    public todoItemService: TodoItemService,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    this.todoItem = { ...data.todoItem };\n    this.taskTitle = data.todoItem.title;\n    this.projectID = data.projectID;\n    this.userID = data.userID;\n    this.group = data.group;\n    this.taskDescription = linkifyStr(\n      data.todoItem?.description ? data.todoItem.description : '',\n      {\n        defaultProtocol: 'https',\n        target: '_blank',\n      }\n    );\n    this.taskTypes = data.todoItem.type\n      .map((type) => EXPANDED_TODO_TYPE[type])\n      .join(', ');\n    if (data.todoItem.completed) {\n      this.taskCompletionQuality = data.todoItem?.quality\n        ? EXPANDED_COMPLETION_QUALITY[data.todoItem.quality]\n        : EXPANDED_COMPLETION_QUALITY['SATISFIED'];\n    }\n    this.calclateTaskStatus(data.todoItem);\n  }\n\n  async ngOnInit(): Promise<void> {\n    await this.updateAssignee(this.data.todoItem);\n  }\n\n  async updateAssignee(todoItem: TodoItem) {\n    if (todoItem.groupID) {\n      this.assignee = (await this.groupService.getById(todoItem.groupID)).name;\n    } else {\n      this.assignee = (\n        await this.userService.getOneById(todoItem.userID)\n      ).username;\n    }\n  }\n\n  calclateTaskStatus(todoItem: TodoItem) {\n    const date = new Date(\n      `${todoItem.deadline.date} ${todoItem.deadline.time}`\n    );\n    const currentDate = new Date();\n    const incomplete = todoItem?.quality == CompletionQuality.INCOMPLETE;\n    const overdue = date < currentDate && !todoItem.completed;\n    this.status = incomplete\n      ? 'Incomplete'\n      : overdue\n      ? 'Missed'\n      : todoItem.completed\n      ? 'Complete'\n      : 'Pending';\n    this.statusColor = incomplete\n      ? 'red'\n      : overdue\n      ? 'red'\n      : todoItem.completed\n      ? 'green'\n      : 'orange';\n  }\n\n  async completeTask() {\n    if (\n      !this.completionQualityFormControl.valid ||\n      this.completionQuality === 'N_A'\n    ) {\n      return;\n    }\n    const updatedTodo = await this.todoItemService.update(\n      this.data.todoItem.todoItemID,\n      {\n        completed: true,\n        quality: this.completionQuality,\n      }\n    );\n    this.dialogRef.close();\n    this.data.onComplete(updatedTodo);\n  }\n\n  async editTodoItem(todoItem: TodoItem) {\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        todoItem: todoItem,\n        group: todoItem.groupID\n          ? await this.groupService.getById(todoItem.groupID)\n          : null,\n        onComplete: async (todoItem?: TodoItem) => {\n          if (todoItem) {\n            Object.assign(this.todoItem, todoItem);\n            this.taskTitle = todoItem.title;\n            this.taskDescription = linkifyStr(\n              todoItem?.description ? todoItem.description : '',\n              {\n                defaultProtocol: 'https',\n                target: '_blank',\n              }\n            );\n            this.taskTypes = todoItem.type\n              .map((type) => EXPANDED_TODO_TYPE[type])\n              .join(', ');\n            await this.updateAssignee(this.todoItem);\n            this.data.onEdit(this.todoItem);\n          }\n        },\n      },\n    });\n  }\n\n  async restoreTodoItem(todoItem: TodoItem) {\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        restoreTodoItem: todoItem,\n        onComplete: async (todoItem?: TodoItem) => {\n          if (todoItem) {\n            Object.assign(this.todoItem, todoItem);\n            this.taskCompletionQuality = EXPANDED_COMPLETION_QUALITY['N_A'];\n            this.taskTitle = todoItem.title;\n            this.taskDescription = linkifyStr(\n              todoItem?.description ? todoItem.description : '',\n              {\n                defaultProtocol: 'https',\n                target: '_blank',\n              }\n            );\n            this.taskTypes = todoItem.type\n              .map((type) => EXPANDED_TODO_TYPE[type])\n              .join(', ');\n            this.calclateTaskStatus(todoItem);\n            await this.updateAssignee(this.todoItem);\n            this.data.onRestore(todoItem);\n          }\n        },\n      },\n    });\n  }\n\n  onNoClick(): void {\n    this.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n}\n","<div>\n  <mat-card class=\"details\">\n    <mat-card-header>\n      <div mat-card-avatar class=\"avatar\"></div>\n      <mat-card-title>{{ taskTitle }}</mat-card-title>\n\n      <span class=\"fill-remaining-space\"></span>\n      <mat-card-subtitle>{{ assignee }}</mat-card-subtitle>\n      <button\n        *ngIf=\"!todoItem.completed\"\n        mat-icon-button\n        matTooltip=\"Edit Task\"\n        (click)=\"editTodoItem(todoItem)\"\n      >\n        <mat-icon>edit</mat-icon>\n      </button>\n      <button\n        *ngIf=\"todoItem.completed\"\n        mat-icon-button\n        matTooltip=\"Restore Task\"\n        (click)=\"restoreTodoItem(todoItem)\"\n      >\n        <mat-icon>restore</mat-icon>\n      </button>\n    </mat-card-header>\n    <mat-card-content>\n      <p style=\"overflow-wrap: break-word\" [innerHTML]=\"taskDescription\">\n        {{ taskDescription }}\n      </p>\n    </mat-card-content>\n    <p>Type : {{taskTypes}}</p>\n    <div class=\"todoItemDetails\">\n      <div style=\"display: flex;\">\n        <mat-icon style=\"margin-right: 15px;\">access_time</mat-icon>\n        <div>\n          <p style=\"font-weight: 500; margin-bottom: 2px\">\n            {{todoItem.deadline.date}}\n          </p>\n          <p>{{todoItem.deadline.time}}</p>\n        </div>\n      </div>\n      <p style=\"font-weight: 500; margin: 0 30px;\" [ngStyle]=\"{'color': statusColor}\">{{status}}</p>\n    </div>\n    <div *ngIf=\"!todoItem.completed\">\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Completion Quality</mat-label>\n        <mat-select\n          [(ngModel)]=\"completionQuality\"\n          [formControl]=\"completionQualityFormControl\"\n          [errorStateMatcher]=\"matcher\"\n          [(value)]=\"defaultQuality\"\n          panelClass=\"completion-quality-panel\"\n        >\n        <mat-option *ngFor=\"let option of completionQualityOptions\" [value]=option>\n          {{ EXPANDED_COMPLETION_QUALITY[option] }}\n        </mat-option>\n        \n        </mat-select>\n      </mat-form-field>\n      <mat-chip \n        [disabled]=\"!completionQualityFormControl.valid || completionQuality === 'N_A'\" \n        (click)=\"completeTask()\"\n        class=\"config-button\" mat-raised-button color=\"accent\" \n        style=\"text-align: center\" selected>\n        <span style=\"width: 100%;text-align: center;\">\n          Mark as Done\n        </span>\n      </mat-chip>\n    </div>\n    <div *ngIf=\"todoItem.completed\">\n      <h4>\n        Completion Quality:\n        <mat-chip color=\"accent\" selected style=\"margin: 0 5px\">\n          {{taskCompletionQuality}}\n        </mat-chip>\n      </h4>\n    </div>\n  </mat-card>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"close()\">Close</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}