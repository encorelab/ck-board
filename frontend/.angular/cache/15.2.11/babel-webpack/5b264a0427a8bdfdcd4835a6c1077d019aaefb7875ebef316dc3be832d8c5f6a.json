{"ast":null,"code":"import _asyncToGenerator from \"/Users/marieklinaeva/github/ck-board/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { fabric } from 'fabric';\nimport { BoardScope, BoardType, ViewType } from 'src/app/models/board';\nimport { generateUniqueID } from 'src/app/utils/Utils';\nimport { TAG_DEFAULT_COLOR } from 'src/app/utils/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"src/app/services/fileUpload.service\";\nimport * as i4 from \"src/app/utils/FabricUtils\";\nfunction AddBoardModalComponent_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Board Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBoardModalComponent_mat_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const project_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", project_r10.projectID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", project_r10.name, \" \");\n  }\n}\nfunction AddBoardModalComponent_mat_error_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Project is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBoardModalComponent_mat_hint_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\", 46);\n    i0.ɵɵtext(1, \" Task Title is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nfunction AddBoardModalComponent_mat_chip_114_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tag_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, tag_r11.color));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r11.name, \" \");\n  }\n}\nfunction AddBoardModalComponent_mat_chip_115_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-chip\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"mat-icon\", 48);\n    i0.ɵɵlistener(\"click\", function AddBoardModalComponent_mat_chip_115_Template_mat_icon_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const tag_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.removeTag(tag_r12));\n    });\n    i0.ɵɵtext(3, \"cancel\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, tag_r12.color));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r12.name, \" \");\n  }\n}\nexport class AddBoardModalComponent {\n  constructor(dialogRef, UserService, userService, fileUploadService, fabricUtils, data) {\n    this.dialogRef = dialogRef;\n    this.UserService = UserService;\n    this.userService = userService;\n    this.fileUploadService = fileUploadService;\n    this.fabricUtils = fabricUtils;\n    this.data = data;\n    this.tagDefaultColor = TAG_DEFAULT_COLOR;\n    this.boardType = BoardType.BRAINSTORMING;\n    this.defaultView = ViewType.BUCKETS;\n    this.boardName = '';\n    this.boardScope = BoardScope.PROJECT_SHARED;\n    this.bgImgURL = null;\n    this.taskTitle = '';\n    this.taskMessage = '';\n    this.tags = [];\n    this.newTagText = '';\n    this.newTagColor = TAG_DEFAULT_COLOR;\n    this.initialZoom = 100;\n    this.backgroundSize = 100;\n    this.backgroundPosX = 0;\n    this.backgroundPosY = 0;\n    this.upvoteLimit = 5;\n    this.selectedProject = '';\n    this.permissions = {\n      allowStudentMoveAny: true,\n      allowStudentUpvoting: true,\n      allowStudentEditAddDeletePost: true,\n      allowStudentCommenting: true,\n      allowStudentTagging: true,\n      showAuthorNameStudent: true,\n      showAuthorNameTeacher: true,\n      showBucketStudent: true,\n      showSnackBarStudent: false,\n      allowTracing: false\n    };\n    this.viewSettings = {\n      allowCanvas: true,\n      allowWorkspace: true,\n      allowBuckets: true,\n      allowMonitor: true\n    };\n    this.projects = data.projects;\n    this.selectedProject = data.defaultProject || '';\n  }\n  ngOnInit() {\n    this.boardID = generateUniqueID();\n    this.defaultTags = this.fabricUtils.getDefaultTagsForBoard(this.boardID);\n  }\n  addTag() {\n    this.tags.push({\n      tagID: generateUniqueID(),\n      boardID: this.boardID,\n      name: this.newTagText,\n      color: this.newTagColor\n    });\n    this.newTagText = '';\n  }\n  removeTag(tagRemove) {\n    this.tags = this.tags.filter(tag => tag != tagRemove);\n  }\n  compressFile() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const image = yield _this.fileUploadService.compressFile();\n      _this.bgImgURL = yield _this.fileUploadService.upload(image);\n      fabric.Image.fromURL(_this.bgImgURL, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (image) {\n          _this.bgImgSettings = _this.fabricUtils.createImageSettings(image);\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n  handleDialogSubmit() {\n    this.data.createBoard({\n      projectID: this.selectedProject,\n      boardID: this.boardID,\n      ownerID: this.data.user.userID,\n      name: this.boardName.trim(),\n      scope: this.boardScope,\n      task: {\n        title: this.taskTitle,\n        message: this.taskMessage\n      },\n      bgImage: this.bgImgURL ? {\n        url: this.bgImgURL,\n        imgSettings: this.bgImgSettings\n      } : null,\n      permissions: this.permissions,\n      type: this.boardType,\n      tags: this.tags.concat(this.defaultTags),\n      initialZoom: this.initialZoom,\n      upvoteLimit: this.upvoteLimit,\n      visible: true,\n      defaultView: this.defaultView,\n      viewSettings: this.viewSettings\n    }, this.selectedProject);\n    this.dialogRef.close();\n  }\n  resetColor() {\n    this.newTagColor = TAG_DEFAULT_COLOR;\n  }\n  onNoClick() {\n    this.dialogRef.close();\n  }\n}\nAddBoardModalComponent.ɵfac = function AddBoardModalComponent_Factory(t) {\n  return new (t || AddBoardModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.FileUploadService), i0.ɵɵdirectiveInject(i4.FabricUtils), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\nAddBoardModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddBoardModalComponent,\n  selectors: [[\"app-add-board-modal\"]],\n  decls: 132,\n  vars: 43,\n  consts: [[\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\"], [\"dynamicHeight\", \"\", \"animationDuration\", \"0ms\"], [\"label\", \"Board\"], [2, \"margin-top\", \"20px\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"BRAINSTORMING\", 2, \"margin-left\", \"10px\"], [\"value\", \"QUESTION_AUTHORING\", 2, \"margin-left\", \"10px\"], [\"appearance\", \"outline\", 2, \"width\", \"100%\", \"margin-top\", \"20px\"], [\"matInput\", \"\", \"required\", \"\", \"minlength\", \"1\", 3, \"ngModel\", \"ngModelChange\"], [\"boardNameInput\", \"ngModel\"], [4, \"ngIf\"], [2, \"width\", \"100%\"], [\"required\", \"\", \"name\", \"project\", 3, \"ngModel\", \"ngModelChange\"], [\"projectInput\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [2, \"flex\", \"display\", \"flex-direction\", \"column\"], [2, \"font-weight\", \"bold\"], [\"min\", \"1\", \"max\", \"20\", \"step\", \"1\", \"thumbLabel\", \"\", 1, \"slider\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"CANVAS\", 2, \"margin-left\", \"10px\", 3, \"disabled\"], [\"value\", \"WORKSPACE\", 2, \"margin-left\", \"10px\", 3, \"disabled\"], [\"value\", \"BUCKETS\", 2, \"margin-left\", \"10px\", 3, \"disabled\"], [\"value\", \"MONITOR\", 2, \"margin-left\", \"10px\", 3, \"disabled\"], [2, \"margin-left\", \"10px\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"color\", \"primary\", \"selected\", \"\", 3, \"click\"], [1, \"chip-icon\"], [\"label\", \"Task\"], [\"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"taskTitleInput\", \"ngModel\"], [\"class\", \"mat-error\", 4, \"ngIf\"], [\"appearance\", \"outline\", 2, \"width\", \"100%\"], [\"matInput\", \"\", \"rows\", \"5\", \"cols\", \"40\", 3, \"ngModel\", \"ngModelChange\"], [\"taskMessageInput\", \"ngModel\"], [\"label\", \"Permissions\"], [\"label\", \"Tags\"], [1, \"tags-list\"], [3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\"], [3, \"colorPicker\", \"colorPickerChange\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"mat-dialog-actions\", \"\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"cdkFocusInitial\", \"\", 3, \"disabled\", \"click\"], [3, \"value\"], [1, \"mat-error\"], [3, \"ngStyle\"], [1, \"cancel\", 3, \"click\"]],\n  template: function AddBoardModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Board Configuration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"mat-tab-group\", 2)(4, \"mat-tab\", 3)(5, \"h2\", 4);\n      i0.ɵɵtext(6, \"Board Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"mat-radio-group\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_radio_group_ngModelChange_7_listener($event) {\n        return ctx.boardType = $event;\n      });\n      i0.ɵɵelementStart(8, \"mat-radio-button\", 6);\n      i0.ɵɵtext(9, \" Idea generation \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"mat-radio-button\", 7);\n      i0.ɵɵtext(11, \" Question Authoring \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"mat-form-field\", 8)(13, \"mat-label\");\n      i0.ɵɵtext(14, \"Board Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 9, 10);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.boardName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, AddBoardModalComponent_mat_error_17_Template, 2, 0, \"mat-error\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"mat-form-field\", 12)(19, \"mat-label\");\n      i0.ɵɵtext(20, \"Project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"mat-select\", 13, 14);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_select_ngModelChange_21_listener($event) {\n        return ctx.selectedProject = $event;\n      });\n      i0.ɵɵtemplate(23, AddBoardModalComponent_mat_option_23_Template, 2, 2, \"mat-option\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, AddBoardModalComponent_mat_error_24_Template, 2, 0, \"mat-error\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 16)(26, \"mat-label\", 17);\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"mat-slider\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_slider_ngModelChange_28_listener($event) {\n        return ctx.upvoteLimit = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"p\")(30, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_30_listener($event) {\n        return ctx.permissions.allowTracing = $event;\n      });\n      i0.ɵɵtext(31, \" Enable logging of all user activities \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"p\")(33, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_33_listener($event) {\n        return ctx.permissions.showSnackBarStudent = $event;\n      });\n      i0.ɵɵtext(34, \" Display task description when board is opened \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"p\")(36, \"label\")(37, \"strong\");\n      i0.ɵɵtext(38, \"Default View\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"mat-radio-group\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_radio_group_ngModelChange_39_listener($event) {\n        return ctx.defaultView = $event;\n      });\n      i0.ɵɵelementStart(40, \"mat-radio-button\", 19);\n      i0.ɵɵtext(41, \"Canvas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"mat-radio-button\", 20);\n      i0.ɵɵtext(43, \"Workspace\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"mat-radio-button\", 21);\n      i0.ɵɵtext(45, \"Buckets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"mat-radio-button\", 22);\n      i0.ɵɵtext(47, \"Monitor\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(48, \"p\")(49, \"label\")(50, \"strong\");\n      i0.ɵɵtext(51, \"Enable/Disable Views\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(52, \"mat-checkbox\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_52_listener($event) {\n        return ctx.viewSettings.allowCanvas = $event;\n      });\n      i0.ɵɵtext(53, \"Canvas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"mat-checkbox\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_54_listener($event) {\n        return ctx.viewSettings.allowWorkspace = $event;\n      });\n      i0.ɵɵtext(55, \"Workspace\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"mat-checkbox\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_56_listener($event) {\n        return ctx.viewSettings.allowBuckets = $event;\n      });\n      i0.ɵɵtext(57, \"Buckets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"mat-checkbox\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_58_listener($event) {\n        return ctx.viewSettings.allowMonitor = $event;\n      });\n      i0.ɵɵtext(59, \"Monitor\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"h4\");\n      i0.ɵɵtext(61, \"Set Background Image:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"mat-chip\", 24);\n      i0.ɵɵlistener(\"click\", function AddBoardModalComponent_Template_mat_chip_click_62_listener() {\n        return ctx.compressFile();\n      });\n      i0.ɵɵelementStart(63, \"mat-icon\", 25);\n      i0.ɵɵtext(64, \"upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(65, \" Upload New Background Image \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(66, \"mat-tab\", 26)(67, \"mat-form-field\", 8)(68, \"mat-label\");\n      i0.ɵɵtext(69, \"Task Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"input\", 27, 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_input_ngModelChange_70_listener($event) {\n        return ctx.taskTitle = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(72, AddBoardModalComponent_mat_hint_72_Template, 2, 0, \"mat-hint\", 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"mat-form-field\", 30)(74, \"mat-label\");\n      i0.ɵɵtext(75, \"Task Message\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"textarea\", 31, 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_textarea_ngModelChange_76_listener($event) {\n        return ctx.taskMessage = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(78, \"mat-tab\", 33)(79, \"h2\", 4);\n      i0.ɵɵtext(80, \"Post Features\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"p\")(82, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_82_listener($event) {\n        return ctx.permissions.allowStudentMoveAny = $event;\n      });\n      i0.ɵɵtext(83, \"Allow students to move any post\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(84, \"h2\", 4);\n      i0.ɵɵtext(85, \"Post Features\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"p\")(87, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_87_listener($event) {\n        return ctx.permissions.allowStudentEditAddDeletePost = $event;\n      });\n      i0.ɵɵtext(88, \"Allow students to create, edit, and delete posts\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(89, \"p\")(90, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_90_listener($event) {\n        return ctx.permissions.allowStudentUpvoting = $event;\n      });\n      i0.ɵɵtext(91, \"Allow students to upvote posts\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(92, \"p\")(93, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_93_listener($event) {\n        return ctx.permissions.allowStudentCommenting = $event;\n      });\n      i0.ɵɵtext(94, \"Allow students to comment on posts\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(95, \"p\")(96, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_96_listener($event) {\n        return ctx.permissions.allowStudentTagging = $event;\n      });\n      i0.ɵɵtext(97, \"Allow students to tag posts\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(98, \"h2\");\n      i0.ɵɵtext(99, \"Anonymization\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(100, \"p\")(101, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_101_listener($event) {\n        return ctx.permissions.showAuthorNameStudent = $event;\n      });\n      i0.ɵɵtext(102, \"Show author names to students\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(103, \"p\")(104, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_104_listener($event) {\n        return ctx.permissions.showAuthorNameTeacher = $event;\n      });\n      i0.ɵɵtext(105, \"Show author names to teachers\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(106, \"h2\");\n      i0.ɵɵtext(107, \"UI Elements\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(108, \"p\")(109, \"mat-checkbox\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_mat_checkbox_ngModelChange_109_listener($event) {\n        return ctx.permissions.showBucketStudent = $event;\n      });\n      i0.ɵɵtext(110, \"Show buckets to students\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(111, \"mat-tab\", 34)(112, \"div\", 35)(113, \"mat-chip-list\");\n      i0.ɵɵtemplate(114, AddBoardModalComponent_mat_chip_114_Template, 2, 4, \"mat-chip\", 36);\n      i0.ɵɵtemplate(115, AddBoardModalComponent_mat_chip_115_Template, 4, 4, \"mat-chip\", 36);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(116, \"mat-form-field\", 37)(117, \"mat-label\");\n      i0.ɵɵtext(118, \"New Tag Name...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"input\", 38);\n      i0.ɵɵlistener(\"ngModelChange\", function AddBoardModalComponent_Template_input_ngModelChange_119_listener($event) {\n        return ctx.newTagText = $event;\n      })(\"keyup.enter\", function AddBoardModalComponent_Template_input_keyup_enter_119_listener() {\n        return ctx.addTag();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(120, \"button\", 39)(121, \"mat-icon\", 40);\n      i0.ɵɵlistener(\"colorPickerChange\", function AddBoardModalComponent_Template_mat_icon_colorPickerChange_121_listener($event) {\n        return ctx.newTagColor = $event;\n      });\n      i0.ɵɵtext(122, \" circle \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(123, \"button\", 41);\n      i0.ɵɵlistener(\"click\", function AddBoardModalComponent_Template_button_click_123_listener() {\n        return ctx.addTag();\n      });\n      i0.ɵɵtext(124, \" Add Tag \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(125, \"button\", 41);\n      i0.ɵɵlistener(\"click\", function AddBoardModalComponent_Template_button_click_125_listener() {\n        return ctx.resetColor();\n      });\n      i0.ɵɵtext(126, \" Reset Color \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(127, \"div\", 42)(128, \"button\", 43);\n      i0.ɵɵlistener(\"click\", function AddBoardModalComponent_Template_button_click_128_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵtext(129, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(130, \"button\", 44);\n      i0.ɵɵlistener(\"click\", function AddBoardModalComponent_Template_button_click_130_listener() {\n        return ctx.handleDialogSubmit();\n      });\n      i0.ɵɵtext(131, \" Create Board! \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(16);\n      const _r2 = i0.ɵɵreference(22);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.boardType);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.boardName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedProject);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.projects);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Maximum Upvotes Per Student: \", ctx.upvoteLimit, \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.upvoteLimit);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowTracing);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.showSnackBarStudent);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.defaultView);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.viewSettings.allowCanvas === false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.viewSettings.allowWorkspace === false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.viewSettings.allowBuckets === false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.viewSettings.allowMonitor === false);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.viewSettings.allowCanvas)(\"disabled\", ctx.defaultView === \"CANVAS\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.viewSettings.allowWorkspace)(\"disabled\", ctx.defaultView === \"WORKSPACE\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.viewSettings.allowBuckets)(\"disabled\", ctx.defaultView === \"BUCKETS\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.viewSettings.allowMonitor)(\"disabled\", ctx.defaultView === \"MONITOR\");\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskTitle);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.taskMessage && !ctx.taskTitle.trim() || ctx.taskTitle && !ctx.taskTitle.trim());\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskMessage);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowStudentMoveAny);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowStudentEditAddDeletePost);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowStudentUpvoting);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowStudentCommenting);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.allowStudentTagging);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.showAuthorNameStudent);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.showAuthorNameTeacher);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.permissions.showBucketStudent);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.defaultTags);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tags);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newTagText);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleProp(\"color\", ctx.newTagColor);\n      i0.ɵɵproperty(\"colorPicker\", ctx.newTagColor);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.newTagText.length < 1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.newTagColor == ctx.tagDefaultColor);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.taskMessage && !ctx.taskTitle.trim() || ctx.taskTitle && !ctx.taskTitle.trim() || _r0.invalid || _r2.invalid || !ctx.boardType);\n    }\n  },\n  styles: [\".cancel[_ngcontent-%COMP%] {\\n  padding-left: 10px;\\n  width: 12px;\\n  height: 15px;\\n  font-size: medium;\\n}\\n\\n.tags-list[_ngcontent-%COMP%] {\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n}\\n\\n.slider[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZGQtYm9hcmQtbW9kYWwvYWRkLWJvYXJkLW1vZGFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLG9CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FuY2VsIHtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICB3aWR0aDogMTJweDtcbiAgaGVpZ2h0OiAxNXB4O1xuICBmb250LXNpemU6IG1lZGl1bTtcbn1cblxuLnRhZ3MtbGlzdCB7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbn1cblxuLnNsaWRlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MAT_DIALOG_DATA","fabric","BoardScope","BoardType","ViewType","generateUniqueID","TAG_DEFAULT_COLOR","i0","AddBoardModalComponent","constructor","dialogRef","UserService","userService","fileUploadService","fabricUtils","data","BRAINSTORMING","BUCKETS","PROJECT_SHARED","permissions","allowStudentMoveAny","allowStudentUpvoting","allowStudentEditAddDeletePost","allowStudentCommenting","allowStudentTagging","showAuthorNameStudent","showAuthorNameTeacher","showBucketStudent","showSnackBarStudent","allowTracing","viewSettings","allowCanvas","allowWorkspace","allowBuckets","allowMonitor","projects","selectedProject","defaultProject","ngOnInit","boardID","defaultTags","getDefaultTagsForBoard","addTag","tags","push","tagID","name","newTagText","color","newTagColor","removeTag","tagRemove","filter","tag","compressFile","image","bgImgURL","upload","Image","fromURL","bgImgSettings","createImageSettings","handleDialogSubmit","createBoard","projectID","ownerID","user","userID","boardName","trim","scope","boardScope","task","title","taskTitle","message","taskMessage","bgImage","url","imgSettings","type","boardType","concat","initialZoom","upvoteLimit","visible","defaultView","close","resetColor","onNoClick","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/marieklinaeva/github/ck-board/frontend/src/app/components/add-board-modal/add-board-modal.component.ts","/Users/marieklinaeva/github/ck-board/frontend/src/app/components/add-board-modal/add-board-modal.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { fabric } from 'fabric';\nimport {\n  BoardPermissions,\n  BoardScope,\n  BoardType,\n  ViewSettings,\n  ViewType,\n} from 'src/app/models/board';\nimport { Project } from 'src/app/models/project';\nimport { Tag } from 'src/app/models/tag';\nimport { FileUploadService } from 'src/app/services/fileUpload.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { FabricUtils, ImageSettings } from 'src/app/utils/FabricUtils';\nimport { generateUniqueID } from 'src/app/utils/Utils';\nimport { TAG_DEFAULT_COLOR } from 'src/app/utils/constants';\n\n@Component({\n  selector: 'app-add-board-modal',\n  templateUrl: './add-board-modal.component.html',\n  styleUrls: ['./add-board-modal.component.scss'],\n})\nexport class AddBoardModalComponent implements OnInit {\n  readonly tagDefaultColor = TAG_DEFAULT_COLOR;\n\n  boardID: string;\n\n  permissions: BoardPermissions;\n  boardType: BoardType = BoardType.BRAINSTORMING;\n\n  defaultView: ViewType = ViewType.BUCKETS;\n  viewSettings: ViewSettings;\n\n  boardName = '';\n  boardScope = BoardScope.PROJECT_SHARED;\n\n  bgImgURL: any = null;\n  bgImgSettings: ImageSettings;\n\n  taskTitle = '';\n  taskMessage = '';\n\n  tags: Tag[] = [];\n  defaultTags: Tag[];\n\n  newTagText = '';\n  newTagColor: any = TAG_DEFAULT_COLOR;\n\n  initialZoom = 100;\n  backgroundSize = 100;\n  backgroundPosX = 0;\n  backgroundPosY = 0;\n  upvoteLimit = 5;\n\n  projects: Project[];\n  selectedProject = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<AddBoardModalComponent>,\n    public UserService: UserService,\n    public userService: UserService,\n    public fileUploadService: FileUploadService,\n    public fabricUtils: FabricUtils,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    this.permissions = {\n      allowStudentMoveAny: true,\n      allowStudentUpvoting: true,\n      allowStudentEditAddDeletePost: true,\n      allowStudentCommenting: true,\n      allowStudentTagging: true,\n      showAuthorNameStudent: true,\n      showAuthorNameTeacher: true,\n      showBucketStudent: true,\n      showSnackBarStudent: false,\n      allowTracing: false,\n    };\n    this.viewSettings = {\n      allowCanvas: true,\n      allowWorkspace: true,\n      allowBuckets: true,\n      allowMonitor: true,\n    };\n    this.projects = data.projects;\n    this.selectedProject = data.defaultProject || '';\n  }\n\n  ngOnInit(): void {\n    this.boardID = generateUniqueID();\n    this.defaultTags = this.fabricUtils.getDefaultTagsForBoard(this.boardID);\n  }\n\n  addTag() {\n    this.tags.push({\n      tagID: generateUniqueID(),\n      boardID: this.boardID,\n      name: this.newTagText,\n      color: this.newTagColor,\n    });\n    this.newTagText = '';\n  }\n\n  removeTag(tagRemove) {\n    this.tags = this.tags.filter((tag) => tag != tagRemove);\n  }\n\n  async compressFile() {\n    const image = await this.fileUploadService.compressFile();\n    this.bgImgURL = await this.fileUploadService.upload(image);\n    fabric.Image.fromURL(this.bgImgURL, async (image) => {\n      this.bgImgSettings = this.fabricUtils.createImageSettings(image);\n    });\n  }\n\n  handleDialogSubmit() {\n    this.data.createBoard(\n      {\n        projectID: this.selectedProject,\n        boardID: this.boardID,\n        ownerID: this.data.user.userID,\n        name: this.boardName.trim(),\n        scope: this.boardScope,\n        task: {\n          title: this.taskTitle,\n          message: this.taskMessage,\n        },\n        bgImage: this.bgImgURL\n          ? { url: this.bgImgURL, imgSettings: this.bgImgSettings }\n          : null,\n        permissions: this.permissions,\n        type: this.boardType,\n        tags: this.tags.concat(this.defaultTags),\n        initialZoom: this.initialZoom,\n        upvoteLimit: this.upvoteLimit,\n        visible: true,\n        defaultView: this.defaultView,\n        viewSettings: this.viewSettings,\n      },\n      this.selectedProject\n    );\n    this.dialogRef.close();\n  }\n\n  resetColor() {\n    this.newTagColor = TAG_DEFAULT_COLOR;\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n}\n","<h1 mat-dialog-title>Board Configuration</h1>\n<div mat-dialog-content>\n  <mat-tab-group dynamicHeight animationDuration=\"0ms\">\n    <mat-tab label=\"Board\">\n      <h2 style=\"margin-top: 20px\">Board Type</h2>\n      <mat-radio-group \n        [(ngModel)]=\"boardType\"\n      >\n        <mat-radio-button \n          style=\"margin-left: 10px\" \n          value=\"BRAINSTORMING\"\n        >\n          Idea generation\n        </mat-radio-button>\n        <mat-radio-button style=\"margin-left: 10px\" value=\"QUESTION_AUTHORING\">\n          Question Authoring\n        </mat-radio-button>\n      </mat-radio-group>\n      <mat-form-field\n        appearance=\"outline\"\n        style=\"width: 100%; margin-top: 20px\"\n      >\n        <mat-label>Board Name</mat-label>\n        <input\n          matInput\n          [(ngModel)]=\"boardName\"\n          #boardNameInput=\"ngModel\"\n          required\n          minlength=\"1\"\n        />\n        <mat-error *ngIf=\"boardNameInput.invalid\">\n          Board Name is required.\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field style=\"width: 100%\">\n        <mat-label>Project</mat-label>\n        <mat-select\n          [(ngModel)]=\"selectedProject\"\n          required\n          #projectInput=\"ngModel\"\n          name=\"project\"\n        >\n          <mat-option\n            *ngFor=\"let project of projects\"\n            [value]=\"project.projectID\"\n          >\n            {{ project.name }}\n          </mat-option>\n        </mat-select>\n        <mat-error *ngIf=\"projectInput.invalid\">\n          Project is required.\n        </mat-error>\n      </mat-form-field>\n      <div style=\"flex: display; flex-direction: column\">\n        <mat-label style=\"font-weight: bold\"\n          >Maximum Upvotes Per Student: {{ upvoteLimit }}</mat-label\n        >\n        <mat-slider\n          class=\"slider\"\n          min=\"1\"\n          max=\"20\"\n          step=\"1\"\n          [(ngModel)]=\"upvoteLimit\"\n          thumbLabel\n        ></mat-slider>\n      </div>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowTracing\">\n          Enable logging of all user activities\n        </mat-checkbox>\n      </p>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.showSnackBarStudent\">\n          Display task description when board is opened\n        </mat-checkbox>\n      </p>\n      <p>\n        <label><strong>Default View</strong></label>\n        <mat-radio-group [(ngModel)]=\"defaultView\">\n          <mat-radio-button style=\"margin-left: 10px;\" value=\"CANVAS\"\n            [disabled]=\"viewSettings.allowCanvas === false\">Canvas</mat-radio-button>\n          <mat-radio-button style=\"margin-left: 10px;\" value=\"WORKSPACE\"\n            [disabled]=\"viewSettings.allowWorkspace === false\">Workspace</mat-radio-button>\n          <mat-radio-button style=\"margin-left: 10px;\" value=\"BUCKETS\"\n            [disabled]=\"viewSettings.allowBuckets === false\">Buckets</mat-radio-button>\n          <mat-radio-button style=\"margin-left: 10px;\" value=\"MONITOR\"\n            [disabled]=\"viewSettings.allowMonitor === false\">Monitor</mat-radio-button>\n        </mat-radio-group>\n      </p>\n      <p>\n        <label><strong>Enable/Disable Views</strong></label>\n        <mat-checkbox style=\"margin-left: 10px;\" [(ngModel)]=\"viewSettings.allowCanvas\"\n          [disabled]=\"defaultView === 'CANVAS'\">Canvas</mat-checkbox>\n        <mat-checkbox style=\"margin-left: 10px;\" [(ngModel)]=\"viewSettings.allowWorkspace\"\n          [disabled]=\"defaultView === 'WORKSPACE'\">Workspace</mat-checkbox>\n        <mat-checkbox style=\"margin-left: 10px;\" [(ngModel)]=\"viewSettings.allowBuckets\"\n          [disabled]=\"defaultView === 'BUCKETS'\">Buckets</mat-checkbox>\n        <mat-checkbox style=\"margin-left: 10px;\" [(ngModel)]=\"viewSettings.allowMonitor\"\n          [disabled]=\"defaultView === 'MONITOR'\">Monitor</mat-checkbox>\n      </p>\n      <h4>Set Background Image:</h4>\n      <mat-chip (click)=\"compressFile()\" color=\"primary\" selected>\n        <mat-icon class=\"chip-icon\">upload</mat-icon>\n        Upload New Background Image\n      </mat-chip>\n    </mat-tab>\n    <mat-tab label=\"Task\">\n      <mat-form-field\n        appearance=\"outline\"\n        style=\"width: 100%; margin-top: 20px\"\n      >\n        <mat-label>Task Title</mat-label>\n        <input matInput [(ngModel)]=\"taskTitle\" #taskTitleInput=\"ngModel\" />\n        <mat-hint\n          class=\"mat-error\"\n          *ngIf=\"\n            (taskMessage && !taskTitle.trim()) ||\n            (taskTitle && !taskTitle.trim())\n          \"\n        >\n          Task Title is required.\n        </mat-hint>\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\" style=\"width: 100%\">\n        <mat-label>Task Message</mat-label>\n        <textarea\n          matInput\n          rows=\"5\"\n          cols=\"40\"\n          [(ngModel)]=\"taskMessage\"\n          #taskMessageInput=\"ngModel\"\n        ></textarea>\n      </mat-form-field>\n    </mat-tab>\n    <mat-tab label=\"Permissions\">\n      <h2 style=\"margin-top: 20px\">Post Features</h2>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowStudentMoveAny\"\n          >Allow students to move any post</mat-checkbox\n        >\n      </p>\n      <h2 style=\"margin-top: 20px\">Post Features</h2>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowStudentEditAddDeletePost\"\n          >Allow students to create, edit, and delete posts</mat-checkbox\n        >\n      </p>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowStudentUpvoting\"\n          >Allow students to upvote posts</mat-checkbox\n        >\n      </p>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowStudentCommenting\"\n          >Allow students to comment on posts</mat-checkbox\n        >\n      </p>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.allowStudentTagging\"\n          >Allow students to tag posts</mat-checkbox\n        >\n      </p>\n      <h2>Anonymization</h2>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.showAuthorNameStudent\"\n          >Show author names to students</mat-checkbox\n        >\n      </p>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.showAuthorNameTeacher\"\n          >Show author names to teachers</mat-checkbox\n        >\n      </p>\n      <h2>UI Elements</h2>\n      <p>\n        <mat-checkbox [(ngModel)]=\"permissions.showBucketStudent\"\n          >Show buckets to students</mat-checkbox\n        >\n      </p>\n    </mat-tab>\n    <mat-tab label=\"Tags\">\n      <div class=\"tags-list\">\n        <mat-chip-list>\n          <mat-chip\n            *ngFor=\"let tag of defaultTags\"\n            [ngStyle]=\"{ 'background-color': tag.color }\"\n          >\n            {{ tag.name }}\n          </mat-chip>\n          <mat-chip\n            *ngFor=\"let tag of tags\"\n            [ngStyle]=\"{ 'background-color': tag.color }\"\n          >\n            {{ tag.name }}\n            <mat-icon class=\"cancel\" (click)=\"removeTag(tag)\">cancel</mat-icon>\n          </mat-chip>\n        </mat-chip-list>\n      </div>\n      <mat-form-field appearance=\"fill\">\n        <mat-label>New Tag Name...</mat-label>\n        <input matInput [(ngModel)]=\"newTagText\" (keyup.enter)=\"addTag()\" />\n        <button mat-icon-button matSuffix>\n          <mat-icon [(colorPicker)]=\"newTagColor\" [style.color]=\"newTagColor\">\n            circle\n          </mat-icon>\n        </button>\n      </mat-form-field>\n      <button\n        mat-button\n        [disabled]=\"newTagText.length < 1\"\n        color=\"primary\"\n        (click)=\"addTag()\"\n      >\n        Add Tag\n      </button>\n      <button\n        mat-button\n        [disabled]=\"newTagColor == tagDefaultColor\"\n        color=\"primary\"\n        (click)=\"resetColor()\"\n      >\n        Reset Color\n      </button>\n    </mat-tab>\n  </mat-tab-group>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onNoClick()\">Cancel</button>\n  <button\n    mat-button\n    cdkFocusInitial\n    [disabled]=\"\n      (taskMessage && !taskTitle.trim()) ||\n      (taskTitle && !taskTitle.trim()) ||\n      boardNameInput.invalid ||\n      projectInput.invalid ||\n      !boardType\n    \"\n    (click)=\"handleDialogSubmit()\"\n  >\n    Create Board!\n  </button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}