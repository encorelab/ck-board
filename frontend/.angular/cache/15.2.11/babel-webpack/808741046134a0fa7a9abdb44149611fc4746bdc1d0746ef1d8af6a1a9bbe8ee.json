{"ast":null,"code":"import _asyncToGenerator from \"/Users/marieklinaeva/github/ck-board/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ViewType } from 'src/app/models/board';\nimport { Role } from 'src/app/models/user';\nimport { GroupTaskStatus, TaskActionType, TaskWorkflowType } from 'src/app/models/workflow';\nimport { BucketsModalComponent } from '../buckets-modal/buckets-modal.component';\nimport { ListModalComponent } from '../list-modal/list-modal.component';\nimport { SwiperComponent } from 'swiper/angular';\nimport SwiperCore, { EffectCards } from 'swiper';\nimport Converters from 'src/app/utils/converters';\nimport { STUDENT_POST_COLOR, TEACHER_POST_COLOR, SocketEvent } from 'src/app/utils/constants';\nimport { interval } from 'rxjs';\nimport { ManageGroupModalComponent } from '../groups/manage-group-modal/manage-group-modal.component';\nimport { AddPostComponent } from '../add-post-modal/add-post.component';\nimport { PostType } from 'src/app/models/post';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"src/app/services/project.service\";\nimport * as i3 from \"src/app/services/board.service\";\nimport * as i4 from \"src/app/services/post.service\";\nimport * as i5 from \"src/app/services/workflow.service\";\nimport * as i6 from \"src/app/services/group.service\";\nimport * as i7 from \"src/app/services/socket.service\";\nimport * as i8 from \"src/app/services/snackbar.service\";\nimport * as i9 from \"src/app/services/canvas.service\";\nimport * as i10 from \"src/app/services/groupTask.service\";\nimport * as i11 from \"@angular/router\";\nimport * as i12 from \"@angular/material/legacy-dialog\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"swiper/angular\";\nimport * as i15 from \"@angular/material/legacy-button\";\nimport * as i16 from \"@angular/material/icon\";\nimport * as i17 from \"@angular/material/legacy-card\";\nimport * as i18 from \"@angular/material/core\";\nimport * as i19 from \"@angular/material/legacy-list\";\nimport * as i20 from \"@angular/material/divider\";\nimport * as i21 from \"@angular/material/legacy-tooltip\";\nimport * as i22 from \"@angular/material/sidenav\";\nimport * as i23 from \"@angular/material/legacy-progress-spinner\";\nimport * as i24 from \"@angular/material/legacy-progress-bar\";\nimport * as i25 from \"../html-post/html-post.component\";\nimport * as i26 from \"../toolbar/toolbar.component\";\nimport * as i27 from \"../toolbar-menu/toolbar-menu.component\";\nimport * as i28 from \"../view-navigation/view-navigation.component\";\nfunction CkWorkspaceComponent_app_toolbar_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"CK Workspace - \", ctx_r9.board.name, \"\");\n  }\n}\nfunction CkWorkspaceComponent_app_toolbar_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_app_toolbar_1_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.copyEmbedCode());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"file_copy\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CkWorkspaceComponent_app_toolbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-toolbar\", 9);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_app_toolbar_1_span_1_Template, 2, 1, \"span\", 4);\n    i0.ɵɵtemplate(2, CkWorkspaceComponent_app_toolbar_1_button_2_Template, 3, 0, \"button\", 10);\n    i0.ɵɵelement(3, \"span\", 11);\n    i0.ɵɵelementStart(4, \"button\", 12)(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"keyboard_return\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(7, \"app-view-navigation\", 13)(8, \"app-toolbar-menu\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"user\", ctx_r0.user);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.board);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.role === ctx_r0.Role.TEACHER);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"routerLink\", \"/project/\" + ctx_r0.project.projectID + \"/board/\" + ctx_r0.board.boardID);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"boardID\", ctx_r0.board.boardID)(\"currentView\", ctx_r0.viewType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"board\", ctx_r0.board)(\"project\", ctx_r0.project);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_5_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"mat-icon\", 18);\n    i0.ɵɵtext(2, \"timeline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"span\", 11);\n    i0.ɵɵelementStart(8, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_ng_container_5_mat_list_item_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const task_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r18.begin(task_r17));\n    });\n    i0.ɵɵtext(9, \"Begin Task\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const task_r17 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", task_r17.workflow.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", task_r17.group.name, \": \", task_r17.workflow.prompt, \" \");\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_mat_list_5_ng_container_5_mat_list_item_1_Template, 10, 3, \"mat-list-item\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.inactiveGroupTasks);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const task_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r24.view(task_r21));\n    });\n    i0.ɵɵtext(1, \"Resume Task\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r27.close());\n    });\n    i0.ɵɵtext(1, \"Hide Task\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"mat-icon\", 18);\n    i0.ɵɵtext(2, \"timeline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"span\", 11);\n    i0.ɵɵtemplate(8, CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_8_Template, 2, 0, \"button\", 22);\n    i0.ɵɵtemplate(9, CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_button_9_Template, 2, 0, \"button\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r21 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", task_r21.workflow.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", task_r21.group.name, \": \", task_r21.workflow.prompt, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.runningGroupTask && ctx_r20.runningGroupTask.groupTask.groupTaskID !== task_r21.groupTask.groupTaskID || !ctx_r20.runningGroupTask);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.runningGroupTask && ctx_r20.runningGroupTask.groupTask.groupTaskID === task_r21.groupTask.groupTaskID);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_mat_list_5_ng_container_11_mat_list_item_1_Template, 10, 5, \"mat-list-item\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.activeGroupTasks);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const task_r30 = i0.ɵɵnextContext().$implicit;\n      const ctx_r33 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r33.view(task_r30));\n    });\n    i0.ɵɵtext(1, \"View Task\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r36.close());\n    });\n    i0.ɵɵtext(1, \"Hide Task\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"mat-icon\", 18);\n    i0.ɵɵtext(2, \"timeline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"span\", 11);\n    i0.ɵɵtemplate(8, CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_8_Template, 2, 0, \"button\", 22);\n    i0.ɵɵtemplate(9, CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_button_9_Template, 2, 0, \"button\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r30 = ctx.$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", task_r30.workflow.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", task_r30.group.name, \": \", task_r30.workflow.prompt, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r29.runningGroupTask && ctx_r29.runningGroupTask.groupTask.groupTaskID !== task_r30.groupTask.groupTaskID || !ctx_r29.runningGroupTask);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r29.runningGroupTask && ctx_r29.runningGroupTask.groupTask.groupTaskID === task_r30.groupTask.groupTaskID);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_mat_list_5_ng_container_17_mat_list_item_1_Template, 10, 5, \"mat-list-item\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.completeGroupTasks);\n  }\n}\nfunction CkWorkspaceComponent_mat_list_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list\")(1, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.showInactive = !ctx_r38.showInactive);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, CkWorkspaceComponent_mat_list_5_ng_container_5_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelement(6, \"mat-divider\");\n    i0.ɵɵelementStart(7, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.showActive = !ctx_r40.showActive);\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"mat-icon\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, CkWorkspaceComponent_mat_list_5_ng_container_11_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelement(12, \"mat-divider\");\n    i0.ɵɵelementStart(13, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_mat_list_5_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.showCompleted = !ctx_r41.showCompleted);\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵelementStart(15, \"mat-icon\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, CkWorkspaceComponent_mat_list_5_ng_container_17_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelement(18, \"mat-divider\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Pending Tasks (\", ctx_r2.inactiveGroupTasks.length, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.showInactive ? \"expand_less\" : \"expand_more\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showInactive);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Active Tasks (\", ctx_r2.activeGroupTasks.length, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.showActive ? \"expand_less\" : \"expand_more\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showActive);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Completed Tasks (\", ctx_r2.completeGroupTasks.length, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.showCompleted ? \"expand_less\" : \"expand_more\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showCompleted);\n  }\n}\nfunction CkWorkspaceComponent_div_7_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Comment on each post at least once!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_7_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Tag each post at least once!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_7_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Create \", ctx_r44.numberOfPosts(ctx_r44.runningGroupTask), \" posts\");\n  }\n}\nfunction CkWorkspaceComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\", 23);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"section\")(6, \"ul\", 24);\n    i0.ɵɵtemplate(7, CkWorkspaceComponent_div_7_li_7_Template, 2, 0, \"li\", 4);\n    i0.ɵɵtemplate(8, CkWorkspaceComponent_div_7_li_8_Template, 2, 0, \"li\", 4);\n    i0.ɵɵtemplate(9, CkWorkspaceComponent_div_7_li_9_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.runningGroupTask.group.name, \": \", ctx_r3.runningGroupTask.workflow.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.runningGroupTask.workflow.prompt, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.hasCommentRequirement(ctx_r3.runningGroupTask));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.hasTagRequirement(ctx_r3.runningGroupTask));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.hasCreatePostRequirement(ctx_r3.runningGroupTask));\n  }\n}\nfunction CkWorkspaceComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" No task selected! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_mat_spinner_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 26);\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" No posts to review! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" Create a Post! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" No submitted posts! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" No reviewed posts! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template_div_click_0_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(1, \"app-html-post\", 36);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template_app_html_post_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 37)(3, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r58.swiper.swiperRef.slidePrev());\n    });\n    i0.ɵɵtext(4, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r60 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r60.swiper.swiperRef.slideNext());\n    });\n    i0.ɵɵtext(6, \"Next\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const htmlPost_r54 = i0.ɵɵnextContext().$implicit;\n    const ctx_r55 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"post\", htmlPost_r54)(\"disableDownload\", true)(\"onCommentEvent\", ctx_r55.onCommentEvent)(\"onTagEvent\", ctx_r55.onTagEvent);\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_5_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CkWorkspaceComponent_div_10_swiper_5_1_ng_template_0_Template, 7, 4, \"ng-template\", 34);\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 33);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_div_10_swiper_5_1_Template, 1, 0, null, 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"effect\", \"cards\")(\"grabCursor\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r49.posts);\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r68 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template_div_click_0_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(1, \"app-html-post\", 39);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template_app_html_post_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 37)(3, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const ctx_r67 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r67.swiper.swiperRef.slidePrev());\n    });\n    i0.ɵɵtext(4, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const ctx_r69 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r69.swiper.swiperRef.slideNext());\n    });\n    i0.ɵɵtext(6, \"Next\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const htmlPost_r63 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"post\", htmlPost_r63)(\"disableDownload\", true);\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_6_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CkWorkspaceComponent_div_10_swiper_6_1_ng_template_0_Template, 7, 2, \"ng-template\", 34);\n  }\n}\nfunction CkWorkspaceComponent_div_10_swiper_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 33);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_div_10_swiper_6_1_Template, 1, 0, null, 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r50 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"effect\", \"cards\")(\"grabCursor\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r50.submittedPosts);\n  }\n}\nfunction CkWorkspaceComponent_div_10_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_div_10_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r71 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r71.addPost());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"add\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_9_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const member_r74 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(member_r74.username);\n  }\n}\nfunction CkWorkspaceComponent_div_10_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\", 41)(2, \"div\", 42)(3, \"label\", 43);\n    i0.ɵɵtext(4, \"Your Group's Progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"mat-progress-bar\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\")(7, \"label\", 43);\n    i0.ɵɵtext(8, \"Avg. Group's Progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"mat-progress-bar\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"section\")(11, \"h4\", 46);\n    i0.ɵɵtext(12, \"Group Members:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ul\", 47);\n    i0.ɵɵtemplate(14, CkWorkspaceComponent_div_10_div_9_li_14_Template, 2, 1, \"li\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r52 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r52.currentGroupProgress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r52.averageGroupProgress);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r52.members);\n  }\n}\nfunction CkWorkspaceComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, CkWorkspaceComponent_div_10_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(2, CkWorkspaceComponent_div_10_div_2_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(3, CkWorkspaceComponent_div_10_div_3_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(4, CkWorkspaceComponent_div_10_div_4_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(5, CkWorkspaceComponent_div_10_swiper_5_Template, 2, 3, \"swiper\", 29);\n    i0.ɵɵtemplate(6, CkWorkspaceComponent_div_10_swiper_6_Template, 2, 3, \"swiper\", 29);\n    i0.ɵɵelementStart(7, \"div\", 30);\n    i0.ɵɵtemplate(8, CkWorkspaceComponent_div_10_button_8_Template, 3, 0, \"button\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, CkWorkspaceComponent_div_10_div_9_Template, 15, 3, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && ctx_r6.runningGroupTask.workflow.type !== ctx_r6.TaskWorkflowType.GENERATION && (!ctx_r6.posts || ctx_r6.posts.length === 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && ctx_r6.runningGroupTask.workflow.type === ctx_r6.TaskWorkflowType.GENERATION && !ctx_r6.showSubmittedPosts && (!ctx_r6.posts || ctx_r6.posts.length === 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && ctx_r6.runningGroupTask.workflow.type === ctx_r6.TaskWorkflowType.GENERATION && ctx_r6.showSubmittedPosts && (!ctx_r6.submittedPosts || ctx_r6.submittedPosts.length === 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && ctx_r6.runningGroupTask.workflow.type !== ctx_r6.TaskWorkflowType.GENERATION && ctx_r6.showSubmittedPosts && (!ctx_r6.submittedPosts || ctx_r6.submittedPosts.length === 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && !ctx_r6.showSubmittedPosts && ctx_r6.posts && ctx_r6.posts.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask && ctx_r6.showSubmittedPosts && ctx_r6.submittedPosts && ctx_r6.submittedPosts.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.loading && ctx_r6.runningGroupTask && ctx_r6.runningGroupTask.workflow.type === ctx_r6.TaskWorkflowType.GENERATION && !ctx_r6.createMorePosts(ctx_r6.runningGroupTask) && ctx_r6.runningGroupTask.groupTask.status !== ctx_r6.GroupTaskStatus.COMPLETE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.runningGroupTask);\n  }\n}\nfunction CkWorkspaceComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r76 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r76);\n      const ctx_r75 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r75.toggleSubmittedPosts());\n    });\n    i0.ɵɵtext(1, \" View Completed \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CkWorkspaceComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function CkWorkspaceComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r78);\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.toggleSubmittedPosts());\n    });\n    i0.ɵɵtext(1, \" View Drafts \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"padding-bottom\": \"64px\"\n  };\n};\n// install Swiper modules\nSwiperCore.use([EffectCards]);\nexport class CkWorkspaceComponent {\n  userService;\n  projectService;\n  boardService;\n  postService;\n  workflowService;\n  groupService;\n  socketService;\n  snackbarService;\n  canvasService;\n  groupTaskService;\n  converters;\n  router;\n  activatedRoute;\n  dialog;\n  swiper;\n  loading = false;\n  showInactive = true;\n  showActive = true;\n  showCompleted = false;\n  user;\n  group;\n  project;\n  board;\n  inactiveGroupTasks = [];\n  activeGroupTasks = [];\n  completeGroupTasks = [];\n  runningGroupTask;\n  currentGroupProgress;\n  averageGroupProgress;\n  listeners = [];\n  posts = [];\n  submittedPosts = [];\n  members = [];\n  showSubmittedPosts = false;\n  Role = Role;\n  TaskActionType = TaskActionType;\n  TaskWorkflowType = TaskWorkflowType;\n  GroupTaskStatus = GroupTaskStatus;\n  embedded = false; // If standalone board embed\n  viewType = ViewType.WORKSPACE;\n  constructor(userService, projectService, boardService, postService, workflowService, groupService, socketService, snackbarService, canvasService, groupTaskService, converters, router, activatedRoute, dialog) {\n    this.userService = userService;\n    this.projectService = projectService;\n    this.boardService = boardService;\n    this.postService = postService;\n    this.workflowService = workflowService;\n    this.groupService = groupService;\n    this.socketService = socketService;\n    this.snackbarService = snackbarService;\n    this.canvasService = canvasService;\n    this.groupTaskService = groupTaskService;\n    this.converters = converters;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.dialog = dialog;\n    this.activatedRoute.queryParams.subscribe(params => {\n      if (params.embedded === 'true') {\n        this.embedded = true;\n      }\n    });\n  }\n  ngOnInit() {\n    this.user = this.userService.user;\n    this.loadWorkspaceData();\n  }\n  loadWorkspaceData() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const map = _this.activatedRoute.snapshot.paramMap;\n      let boardID, projectID;\n      if (map.has('boardID') && map.has('projectID')) {\n        boardID = _this.activatedRoute.snapshot.paramMap.get('boardID') ?? '';\n        projectID = _this.activatedRoute.snapshot.paramMap.get('projectID') ?? '';\n      } else {\n        return _this.router.navigate(['error']);\n      }\n      _this.board = yield _this.boardService.get(boardID);\n      _this.project = yield _this.projectService.get(projectID);\n      _this.group = yield _this.groupService.getByProjectUser(projectID, _this.user.userID);\n      if (!_this.board.viewSettings?.allowWorkspace) {\n        _this.router.navigateByUrl(`project/${projectID}/board/${boardID}/${_this.board.defaultView?.toLowerCase()}`);\n      }\n      const tasks = yield _this.workflowService.getGroupTasks(boardID, 'expanded');\n      tasks.forEach(t => {\n        if (t.groupTask.status == GroupTaskStatus.INACTIVE) {\n          _this.inactiveGroupTasks.push(t);\n        } else if (t.groupTask.status == GroupTaskStatus.ACTIVE) {\n          _this.activeGroupTasks.push(t);\n        } else if (t.groupTask.status == GroupTaskStatus.COMPLETE) {\n          _this.completeGroupTasks.push(t);\n        }\n      });\n      _this.socketService.connect(_this.user.userID, _this.board.boardID);\n      return true;\n    })();\n  }\n  begin(expandedGroupTask) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const groupTask = expandedGroupTask.groupTask;\n      groupTask.status = GroupTaskStatus.ACTIVE;\n      yield _this2.workflowService.updateGroupTask(groupTask.groupTaskID, {\n        status: GroupTaskStatus.ACTIVE\n      });\n      _this2.inactiveGroupTasks = _this2.inactiveGroupTasks.filter(g => g.groupTask.groupTaskID !== groupTask.groupTaskID);\n      _this2.activeGroupTasks.push(expandedGroupTask);\n      _this2.view(expandedGroupTask);\n    })();\n  }\n  view(groupTask) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.loading = true;\n      _this3.runningGroupTask = groupTask;\n      _this3.runningGroupTask.groupTask = yield _this3.groupTaskService.getGroupTask(_this3.runningGroupTask.group.groupID, _this3.runningGroupTask.workflow.workflowID);\n      _this3.currentGroupProgress = _this3._calcGroupProgress(_this3.runningGroupTask);\n      _this3.averageGroupProgress = yield _this3._calcAverageProgress(_this3.runningGroupTask);\n      let postIDs = [];\n      if (groupTask.groupTask.status == GroupTaskStatus.COMPLETE) {\n        postIDs = postIDs.concat(Object.keys(groupTask.groupTask.progress));\n      } else {\n        postIDs = postIDs.concat(groupTask.groupTask.posts);\n      }\n      const submittedPostIDs = [...Object.keys(groupTask.groupTask.progress)].filter(postID => groupTask.groupTask.progress[postID].reduce((partialSum, a) => partialSum + a.amountRequired, 0) == 0);\n      const posts = yield _this3.postService.getAll(postIDs);\n      const submittedPosts = yield _this3.postService.getAll(submittedPostIDs);\n      _this3.posts = yield _this3.converters.toHTMLPosts(posts);\n      _this3.submittedPosts = yield _this3.converters.toHTMLPosts(submittedPosts);\n      _this3.members = yield _this3.userService.getMultipleByIds(groupTask.group.members);\n      _this3.loading = false;\n      // Show submitted posts by default in generative task workflow\n      if (_this3.runningGroupTask.workflow.type === TaskWorkflowType.GENERATION) {\n        _this3.showSubmittedPosts = true;\n      } else {\n        _this3.showSubmittedPosts = false;\n      }\n      _this3._startListening();\n    })();\n  }\n  close() {\n    this.runningGroupTask = null;\n    this.currentGroupProgress = 0;\n    this.averageGroupProgress = 0;\n    this.posts = [];\n    this.members = [];\n    this.listeners.map(l => l.unsubscribe());\n  }\n  submitPost(post) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this4.runningGroupTask) return;\n      const task = _this4.runningGroupTask.groupTask;\n      _this4.runningGroupTask.groupTask = yield _this4.workflowService.submitPost(task.groupTaskID, post.post.postID);\n      _this4.posts = _this4.posts.filter(p => p.post.postID !== post.post.postID);\n      // this.submittedPosts.push(post);\n      _this4.currentGroupProgress = _this4._calcGroupProgress(_this4.runningGroupTask);\n      if (_this4.currentGroupProgress >= 100) {\n        yield _this4.markComplete();\n      }\n    })();\n  }\n  markComplete() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this5.runningGroupTask) return;\n      const task = _this5.runningGroupTask.groupTask;\n      _this5.runningGroupTask.groupTask = yield _this5.workflowService.updateGroupTask(task.groupTaskID, {\n        status: GroupTaskStatus.COMPLETE\n      });\n      _this5.activeGroupTasks = _this5.activeGroupTasks.filter(g => g.groupTask.groupTaskID !== task.groupTaskID);\n      _this5.completeGroupTasks.push(_this5.runningGroupTask);\n      _this5.close();\n    })();\n  }\n  showBucketsModal() {\n    this._openDialog(BucketsModalComponent, {\n      board: this.board,\n      user: this.user,\n      allowMovePostToBoard: false\n    });\n  }\n  showListModal() {\n    this._openDialog(ListModalComponent, {\n      board: this.board\n    });\n  }\n  openGroupDialog() {\n    this.dialog.open(ManageGroupModalComponent, {\n      data: {\n        project: this.project\n      }\n    });\n  }\n  postSubmittable(post) {\n    if (!this.runningGroupTask) return false;\n    const progress = this.runningGroupTask.groupTask.progress;\n    const postProgress = progress[post.post.postID];\n    if (!postProgress) return false;\n    const amountRequired = postProgress.reduce((sum, a) => sum + a.amountRequired, 0);\n    return amountRequired == 0;\n  }\n  createMorePosts(groupTask) {\n    return groupTask.workflow.requiredActions.filter(a => a.type === TaskActionType.CREATE_POST)[0].amountRequired === Object.keys(groupTask.groupTask.progress).length;\n  }\n  taskSubmittable(groupTask) {\n    return this.runningGroupTask?.workflow.type === TaskWorkflowType.GENERATION ? this.currentGroupProgress >= 100 && groupTask.groupTask.status == GroupTaskStatus.ACTIVE : this.currentGroupProgress == 100 && groupTask.groupTask.posts.length == 0 && groupTask.groupTask.status == GroupTaskStatus.ACTIVE;\n  }\n  hasCommentRequirement(runningGroupTask) {\n    return runningGroupTask.workflow.requiredActions.find(a => a.type == TaskActionType.COMMENT) != undefined;\n  }\n  hasTagRequirement(runningGroupTask) {\n    return runningGroupTask.workflow.requiredActions.find(a => a.type == TaskActionType.TAG) != undefined;\n  }\n  hasCreatePostRequirement(runningGroupTask) {\n    return runningGroupTask.workflow.requiredActions.find(a => a.type == TaskActionType.CREATE_POST) != undefined;\n  }\n  numberOfPosts(runningGroupTask) {\n    return runningGroupTask.workflow.requiredActions.find(a => a.type == TaskActionType.CREATE_POST)?.amountRequired;\n  }\n  togglePostsSlider() {\n    this.showSubmittedPosts = !this.showSubmittedPosts;\n  }\n  addPost() {\n    var _this6 = this;\n    const dialogData = {\n      disableCreation: true,\n      board: this.board,\n      user: this.user,\n      tagRequired: this.hasTagRequirement(this.runningGroupTask),\n      onComplete: function () {\n        var _ref = _asyncToGenerator(function* (post) {\n          if (_this6.runningGroupTask) {\n            post.type = PostType.WORKFLOW;\n            const destinationType = PostType[_this6.runningGroupTask?.workflow.destinations[0].type];\n            if (destinationType === PostType.BUCKET) {\n              post.boardID = _this6.board.boardID;\n            } else {\n              const displayAttributes = {\n                position: {\n                  left: 150,\n                  top: 150\n                },\n                lock: !_this6.board.permissions.allowStudentMoveAny,\n                fillColor: _this6.defaultPostFill()\n              };\n              post.boardID = _this6.runningGroupTask?.workflow.destinations[0].id;\n              post.displayAttributes = displayAttributes;\n            }\n            const htmlPost = yield _this6.converters.toHTMLPost(post);\n            _this6.posts.push(htmlPost);\n            _this6.postService.create(post);\n            _this6.runningGroupTask.groupTask.progress[post.postID] = _this6.runningGroupTask.workflow.requiredActions.filter(action => action.type !== TaskActionType.CREATE_POST);\n            _this6.runningGroupTask.groupTask.posts.push(post.postID);\n            const t = yield _this6.workflowService.updateGroupTask(_this6.runningGroupTask.groupTask.groupTaskID, {\n              posts: _this6.posts.map(p => p.post.postID),\n              progress: _this6.runningGroupTask.groupTask.progress\n            });\n            _this6.currentGroupProgress = _this6._calcGroupProgress(_this6.runningGroupTask);\n            _this6.averageGroupProgress = yield _this6._calcAverageProgress(_this6.runningGroupTask);\n            _this6.socketService.emit(SocketEvent.WORKFLOW_PROGRESS_UPDATE, [_this6.runningGroupTask.groupTask]);\n            for (const _ of post.tags) {\n              yield _this6.onTagEvent(post.postID, 'add');\n            }\n            yield _this6.submitPost(htmlPost);\n          }\n          return;\n        });\n        return function onComplete(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    };\n    this.dialog.open(AddPostComponent, {\n      width: '500px',\n      data: dialogData\n    });\n  }\n  onCommentEvent = (() => {\n    var _this7 = this;\n    return function () {\n      var _ref2 = _asyncToGenerator(function* (postID, type) {\n        if (!_this7.runningGroupTask) return;\n        const workflowID = _this7.runningGroupTask.workflow.workflowID;\n        const groupTaskID = _this7.runningGroupTask.groupTask.groupTaskID;\n        if (type == 'add') {\n          yield _this7.workflowService.updateTaskProgress(workflowID, groupTaskID, postID, -1, 'COMMENT');\n        } else {\n          yield _this7.workflowService.updateTaskProgress(workflowID, groupTaskID, postID, 1, 'COMMENT');\n        }\n        const post = _this7.posts.find(post => post.post.postID === postID);\n        if (post && _this7.postSubmittable(post)) {\n          yield _this7.submitPost(post);\n        }\n      });\n      return function (_x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  })();\n  onTagEvent = (() => {\n    var _this8 = this;\n    return function () {\n      var _ref3 = _asyncToGenerator(function* (postID, type) {\n        if (!_this8.runningGroupTask) return;\n        const workflowID = _this8.runningGroupTask.workflow.workflowID;\n        const groupTaskID = _this8.runningGroupTask.groupTask.groupTaskID;\n        if (type == 'add') {\n          yield _this8.workflowService.updateTaskProgress(workflowID, groupTaskID, postID, -1, 'TAG');\n        } else {\n          yield _this8.workflowService.updateTaskProgress(workflowID, groupTaskID, postID, 1, 'TAG');\n        }\n        const post = _this8.posts.find(post => post.post.postID === postID);\n        if (post && _this8.postSubmittable(post)) {\n          yield _this8.submitPost(post);\n        }\n      });\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n  })();\n  toggleSubmittedPosts() {\n    this.showSubmittedPosts = !this.showSubmittedPosts;\n  }\n  _startListening() {\n    var _this9 = this;\n    this.listeners.push(this.socketService.listen(SocketEvent.WORKFLOW_PROGRESS_UPDATE, /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator(function* (updates) {\n        if (!_this9.runningGroupTask) return;\n        const found = updates.find(u => u.groupTaskID == _this9.runningGroupTask?.groupTask.groupTaskID);\n        if (found) {\n          _this9.runningGroupTask.groupTask = found;\n          if (_this9.runningGroupTask?.workflow.type === TaskWorkflowType.GENERATION) {\n            const _newPosts = found.posts.filter(p => !_this9.posts.map(post => post.post.postID).includes(p));\n            const newPosts = yield _this9.postService.getAll(_newPosts);\n            const htmlPosts = yield _this9.converters.toHTMLPosts(newPosts);\n            _this9.posts = _this9.posts.concat(htmlPosts);\n          }\n          _this9.currentGroupProgress = _this9._calcGroupProgress(_this9.runningGroupTask);\n        }\n      });\n      return function (_x6) {\n        return _ref4.apply(this, arguments);\n      };\n    }()));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_UPVOTE_ADD, result => {\n      const found = this.posts.find(p => p.post.postID == result.upvote.postID);\n      if (found) {\n        found.upvotes.push(result.upvote);\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_UPVOTE_REMOVE, result => {\n      const found = this.posts.find(p => p.post.postID == result.upvote.postID);\n      if (found) {\n        found.upvotes = found.upvotes.filter(upvote => upvote.upvoteID != result.upvote.upvoteID);\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_COMMENT_ADD, result => {\n      const found = this.posts.find(p => p.post.postID == result.comment.postID);\n      if (found) {\n        found.comments += 1;\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_COMMENT_REMOVE, result => {\n      const found = this.posts.find(p => p.post.postID == result.comment.postID);\n      if (found) {\n        found.comments -= 1;\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_TAG_ADD, ({\n      post\n    }) => {\n      const found = this.posts.find(p => p.post.postID == post.postID);\n      if (found) {\n        found.post = post;\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.POST_TAG_REMOVE, ({\n      post\n    }) => {\n      const found = this.posts.find(p => p.post.postID == post.postID);\n      if (found) {\n        found.post = post;\n      }\n    }));\n    this.listeners.push(this.socketService.listen(SocketEvent.WORKFLOW_POST_SUBMIT, postID => {\n      const submittedPost = this.posts.find(p => p.post.postID == postID);\n      this.posts = this.posts.filter(p => p.post.postID != postID);\n      if (submittedPost) this.submittedPosts.push(submittedPost);\n    }));\n    this.listeners.push(interval(30 * 1000).subscribe( /*#__PURE__*/_asyncToGenerator(function* () {\n      _this9.averageGroupProgress = yield _this9._calcAverageProgress(_this9.runningGroupTask);\n    })));\n  }\n  copyEmbedCode() {\n    const url = window.location.href + '?embedded=true';\n    navigator.clipboard.writeText(url);\n  }\n  signOut() {\n    this.userService.logout();\n    this.router.navigate(['login']);\n  }\n  ngOnDestroy() {\n    this.listeners.map(l => l.unsubscribe());\n    this.socketService.disconnect(this.user.userID, this.board.boardID);\n  }\n  _calcGroupProgress(task) {\n    if (!task) return 0;\n    // get all posts' progress\n    const values = Object.keys(task.groupTask.progress).map(function (key) {\n      return task.groupTask.progress[key];\n    });\n    // sum all amountRequired for each action per post\n    // i.e. Post A (1 tag req, 1 comment req) + Post B (1 tag req, 0 comments required)\n    let remaining = values.reduce((partialSum, a) => partialSum + a.reduce((partial, b) => partial + b.amountRequired, 0), 0);\n    // nothing left to do\n    if (remaining == 0 && task.workflow.type !== TaskWorkflowType.GENERATION) return 100;\n    // sum both required tags (1) and required comments (1) = 2\n    // multiple by number of posts since those requirements are per-post\n    let total = task.workflow.requiredActions.filter(a => a.type !== TaskActionType.CREATE_POST).reduce((partialSum, a) => partialSum + a.amountRequired, 0);\n    if (task.workflow.type === TaskWorkflowType.GENERATION) {\n      const createPosts = task.workflow.requiredActions.filter(a => a.type === TaskActionType.CREATE_POST)[0].amountRequired;\n      const postsCreated = Object.keys(task.groupTask.progress).length;\n      const actionPerPost = total;\n      if (total) total = total * createPosts + createPosts;else total = createPosts;\n      remaining += createPosts - postsCreated;\n      remaining += (createPosts - postsCreated) * actionPerPost;\n    } else {\n      total *= values.length;\n    }\n    return (total - remaining) / total * 100;\n  }\n  _calcAverageProgress(task) {\n    var _this10 = this;\n    return _asyncToGenerator(function* () {\n      if (!task) return 0;\n      const tasks = yield _this10.workflowService.getGroupTasksByWorkflow(task.workflow.workflowID, 'expanded');\n      const totalProgress = tasks.reduce(partialSum => partialSum + _this10._calcGroupProgress(task), 0);\n      return totalProgress / tasks.length;\n    })();\n  }\n  _openDialog(component, data) {\n    this.dialog.open(component, {\n      maxWidth: 1280,\n      width: '95vw',\n      autoFocus: false,\n      data: data\n    });\n  }\n  defaultPostFill() {\n    return this.userService.user?.role === Role.TEACHER ? TEACHER_POST_COLOR : STUDENT_POST_COLOR;\n  }\n  static ɵfac = function CkWorkspaceComponent_Factory(t) {\n    return new (t || CkWorkspaceComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ProjectService), i0.ɵɵdirectiveInject(i3.BoardService), i0.ɵɵdirectiveInject(i4.PostService), i0.ɵɵdirectiveInject(i5.WorkflowService), i0.ɵɵdirectiveInject(i6.GroupService), i0.ɵɵdirectiveInject(i7.SocketService), i0.ɵɵdirectiveInject(i8.SnackbarService), i0.ɵɵdirectiveInject(i9.CanvasService), i0.ɵɵdirectiveInject(i10.GroupTaskService), i0.ɵɵdirectiveInject(Converters), i0.ɵɵdirectiveInject(i11.Router), i0.ɵɵdirectiveInject(i11.ActivatedRoute), i0.ɵɵdirectiveInject(i12.MatLegacyDialog));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CkWorkspaceComponent,\n    selectors: [[\"app-ck-workspace\"]],\n    viewQuery: function CkWorkspaceComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(SwiperComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.swiper = _t.first);\n      }\n    },\n    decls: 13,\n    vars: 12,\n    consts: [[\"class\", \"toolbar\", \"style\", \"width: 100%;\", 3, \"user\", 4, \"ngIf\"], [1, \"drawer-container\"], [\"mode\", \"side\", \"opened\", \"\", 2, \"position\", \"fixed\", 3, \"fixedInViewport\", \"fixedTopGap\", \"ngStyle\"], [\"drawer\", \"\"], [4, \"ngIf\"], [\"class\", \"heading no-workflow-select\", 4, \"ngIf\"], [\"class\", \"spinner\", 4, \"ngIf\"], [\"style\", \"display: flex; flex-direction: row;position: relative;\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"style\", \"margin: 16px 10px; min-width: unset\", 3, \"click\", 4, \"ngIf\"], [1, \"toolbar\", 2, \"width\", \"100%\", 3, \"user\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Copy embeddable URL\", 3, \"click\", 4, \"ngIf\"], [2, \"flex\", \"1 1 auto\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Back to Board\", 3, \"routerLink\"], [3, \"boardID\", \"currentView\"], [\"navbarMenu\", \"\", 3, \"board\", \"project\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Copy embeddable URL\", 3, \"click\"], [\"mat-button\", \"\", 1, \"subheader-button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"matListIcon\", \"\"], [\"matLine\", \"\"], [\"matLine\", \"\", 1, \"list-task-prompt\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-left\", \"10px\", \"min-width\", \"unset\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"style\", \"margin-left: 10px; min-width: unset\", 3, \"click\", 4, \"ngIf\"], [2, \"font-weight\", \"bold\"], [2, \"list-style-position\", \"inside\", \"padding-left\", \"30px\", \"font-weight\", \"bold\"], [1, \"heading\", \"no-workflow-select\"], [1, \"spinner\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\", \"position\", \"relative\"], [\"class\", \"heading no-posts\", 4, \"ngIf\"], [\"class\", \"mySwiper\", 3, \"effect\", \"grabCursor\", 4, \"ngIf\"], [1, \"create-post-button-container\"], [\"class\", \"workflow-create-post\", \"mat-fab\", \"\", \"style\", \"position: absolute; bottom:0;\", \"color\", \"accent\", \"matTooltip\", \"Create Post\", 3, \"click\", 4, \"ngIf\"], [1, \"heading\", \"no-posts\"], [1, \"mySwiper\", 3, \"effect\", \"grabCursor\"], [\"swiperSlide\", \"\"], [2, \"display\", \"flex\", \"flex-direction\", \"column\", \"gap\", \"10px\", 3, \"click\"], [2, \"width\", \"360px\", \"height\", \"100%\", 3, \"post\", \"disableDownload\", \"onCommentEvent\", \"onTagEvent\", \"click\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 2, \"width\", \"45%\", \"margin\", \"0px 5px\", 3, \"click\"], [2, \"width\", \"360px\", \"height\", \"100%\", 3, \"post\", \"disableDownload\", \"click\"], [\"mat-fab\", \"\", \"color\", \"accent\", \"matTooltip\", \"Create Post\", 1, \"workflow-create-post\", 2, \"position\", \"absolute\", \"bottom\", \"0\", 3, \"click\"], [1, \"example-card\", 2, \"width\", \"350px\", \"margin\", \"10px auto\"], [2, \"margin-bottom\", \"10px\"], [1, \"example-margin\"], [\"mode\", \"determinate\", 3, \"value\"], [\"mode\", \"determinate\", \"color\", \"accent\", 3, \"value\"], [2, \"font-weight\", \"bold\", \"margin-top\", \"16px\"], [2, \"list-style-position\", \"inside\", \"padding-left\", \"0\", \"font-weight\", \"bold\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin\", \"16px 10px\", \"min-width\", \"unset\", 3, \"click\"]],\n    template: function CkWorkspaceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtemplate(1, CkWorkspaceComponent_app_toolbar_1_Template, 9, 8, \"app-toolbar\", 0);\n        i0.ɵɵelementStart(2, \"mat-sidenav-container\", 1)(3, \"mat-sidenav\", 2, 3);\n        i0.ɵɵtemplate(5, CkWorkspaceComponent_mat_list_5_Template, 19, 9, \"mat-list\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-sidenav-content\");\n        i0.ɵɵtemplate(7, CkWorkspaceComponent_div_7_Template, 10, 6, \"div\", 4);\n        i0.ɵɵtemplate(8, CkWorkspaceComponent_div_8_Template, 2, 0, \"div\", 5);\n        i0.ɵɵtemplate(9, CkWorkspaceComponent_mat_spinner_9_Template, 1, 0, \"mat-spinner\", 6);\n        i0.ɵɵtemplate(10, CkWorkspaceComponent_div_10_Template, 10, 8, \"div\", 7);\n        i0.ɵɵtemplate(11, CkWorkspaceComponent_button_11_Template, 2, 0, \"button\", 8);\n        i0.ɵɵtemplate(12, CkWorkspaceComponent_button_12_Template, 2, 0, \"button\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.user && ctx.project && ctx.board && !ctx.embedded);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"fixedInViewport\", !ctx.embedded ? true : false)(\"fixedTopGap\", 64)(\"ngStyle\", !ctx.embedded && i0.ɵɵpureFunction0(11, _c0) || null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeGroupTasks);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.runningGroupTask);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.runningGroupTask);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.runningGroupTask && ctx.runningGroupTask.groupTask.status !== ctx.GroupTaskStatus.COMPLETE && ctx.runningGroupTask.workflow.type !== ctx.TaskWorkflowType.GENERATION && !ctx.showSubmittedPosts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.runningGroupTask && ctx.runningGroupTask.groupTask.status !== ctx.GroupTaskStatus.COMPLETE && ctx.runningGroupTask.workflow.type !== ctx.TaskWorkflowType.GENERATION && ctx.showSubmittedPosts);\n      }\n    },\n    dependencies: [i13.NgForOf, i13.NgIf, i13.NgStyle, i11.RouterLink, i14.SwiperComponent, i14.SwiperSlideDirective, i15.MatLegacyButton, i16.MatIcon, i17.MatLegacyCard, i18.MatLine, i19.MatLegacyList, i19.MatLegacyListItem, i19.MatLegacyListIconCssMatStyler, i20.MatDivider, i21.MatLegacyTooltip, i22.MatSidenav, i22.MatSidenavContainer, i22.MatSidenavContent, i23.MatLegacyProgressSpinner, i24.MatLegacyProgressBar, i25.HtmlPostComponent, i26.ToolbarComponent, i27.ToolbarMenuComponent, i28.ViewNavigationComponent],\n    styles: [\"/**\\n * Swiper 8.4.7\\n * Most modern mobile touch slider and framework with hardware accelerated transitions\\n * https://swiperjs.com\\n *\\n * Copyright 2014-2023 Vladimir Kharlampidi\\n *\\n * Released under the MIT License\\n *\\n * Released on: January 30, 2023\\n */\\n\\n@font-face{font-family:swiper-icons;src:url('data:application/font-woff;charset=utf-8;base64, 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');font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc3dpcGVyLm1pbi5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7RUFVRTs7QUFFRixXQUFXLHdCQUF3QixDQUFDLDRyRUFBNHJFLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sNEJBQTRCLENBQUMsUUFBUSxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsaUNBQWlDLHFCQUFxQixDQUFDLGdCQUFnQixpQkFBaUIsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsNkJBQTZCLENBQUMsc0JBQXNCLENBQUMsOENBQThDLDhCQUE4QixDQUFDLHVCQUF1QixrQkFBa0IsQ0FBQyx1Q0FBdUMsa0JBQWtCLENBQUMsY0FBYyxhQUFhLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyw2QkFBNkIsQ0FBQyw4QkFBOEIsaUJBQWlCLENBQUMsb0RBQW9ELFdBQVcsQ0FBQyxtQ0FBbUMsc0JBQXNCLENBQUMsb0NBQW9DLENBQUMsc0NBQXNDLHVCQUF1QixDQUFvQywwQkFBMEIsQ0FBQyxzREFBc0Qsa0JBQWtCLENBQUMseVFBQXlRLDJCQUEyQixDQUFDLHNMQUFzTCxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDLGdDQUFnQywwQkFBMEIsQ0FBQyxxQ0FBcUMsc0VBQXNFLENBQUMsc0NBQXNDLHVFQUF1RSxDQUFDLG9DQUFvQyxxRUFBcUUsQ0FBQyx1Q0FBdUMsd0VBQXdFLENBQUMsaUNBQWlDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyx1QkFBdUIsQ0FBQyxvREFBb0QsWUFBWSxDQUFDLCtDQUErQyw2QkFBNkIsQ0FBQyxtREFBbUQsNEJBQTRCLENBQUMsaURBQWlELDRCQUE0QixDQUFDLHlDQUF5QyxVQUFVLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyw2RUFBNkUsd0RBQXdELENBQUMsMkRBQTJELFdBQVcsQ0FBQyxjQUFjLENBQUMseUNBQXlDLENBQUMsMkVBQTJFLHVEQUF1RCxDQUFDLHlEQUF5RCxVQUFVLENBQUMsYUFBYSxDQUFDLDBDQUEwQyxDQUFDLCtDQUErQywrQkFBK0IsQ0FBQyx1QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN3aXBlciA4LjQuN1xuICogTW9zdCBtb2Rlcm4gbW9iaWxlIHRvdWNoIHNsaWRlciBhbmQgZnJhbWV3b3JrIHdpdGggaGFyZHdhcmUgYWNjZWxlcmF0ZWQgdHJhbnNpdGlvbnNcbiAqIGh0dHBzOi8vc3dpcGVyanMuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTQtMjAyMyBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICpcbiAqIFJlbGVhc2VkIG9uOiBKYW51YXJ5IDMwLCAyMDIzXG4gKi9cblxuQGZvbnQtZmFjZXtmb250LWZhbWlseTpzd2lwZXItaWNvbnM7c3JjOnVybCgnZGF0YTphcHBsaWNhdGlvbi9mb250LXdvZmY7Y2hhcnNldD11dGYtODtiYXNlNjQsIGQwOUdSZ0FCQUFBQUFBWmdBQkFBQUFBQURBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCR1JsUk5BQUFHUkFBQUFCb0FBQUFjaTZxSGtVZEVSVVlBQUFXZ0FBQUFJd0FBQUNRQVlBQlhSMUJQVXdBQUJoUUFBQUF1QUFBQU51QVk3K3hIVTFWQ0FBQUZ4QUFBQUZBQUFBQm0yZlBjelU5VEx6SUFBQUhjQUFBQVNnQUFBR0JQOVY1UlkyMWhjQUFBQWtRQUFBQ0lBQUFCWXQ2RjBjQmpkblFnQUFBQ3pBQUFBQVFBQUFBRUFCRUJSR2RoYzNBQUFBV1lBQUFBQ0FBQUFBai8vd0FEWjJ4NVpnQUFBeXdBQUFETUFBQUQyTUh0cnlWb1pXRmtBQUFCYkFBQUFEQUFBQUEyRTIrZW9XaG9aV0VBQUFHY0FBQUFId0FBQUNRQzlnRHphRzEwZUFBQUFpZ0FBQUFaQUFBQXJnSmtBQkZzYjJOaEFBQUMwQUFBQUZvQUFBQmFGUUFVR0cxaGVIQUFBQUc4QUFBQUh3QUFBQ0FBY0FCQWJtRnRaUUFBQS9nQUFBRTVBQUFDWHZGZEJ3bHdiM04wQUFBRk5BQUFBR0lBQUFDRTVzNzRoWGphWTJCa1lHQUFZcGY1SHUvaitXMitNbkF6TVlEQXphWDZRakQ2LzQvL0J4ajVHQThBdVJ3TVlHa0FQeXdMMTNqYVkyQmtZR0E4OFA4QWd4NGorLzhmUURZZkExQUVCV2dEQUlCMkJPb0FlTnBqWUdSZ1lOQmg0R2RnWWdBQkVNbklBQkp6WU5BRENRQUFDV2dBc1FCNDJtTmdZZnpDT0lHQmxZR0IwWWN4allHQndSMUtmMldRWkdoaFlHQmlZR1ZtZ0FGR0JpUVFrT2Fhd3REQW9NQlF4WGpnL3dFR1BjWUREQTR3TlVBMkNDZ3dzQUFBTzRFTDZnQUFlTnBqMk0wZ3lBQUNxeGdHTldCa1oyRDQvd01BK3hrRGRnQUFBSGphWTJCZ1lHYUFZQmtHUmdZUWlBSHlHTUY4RmdZSElNM0R3TUhBQkdRck1PZ3lXRExFTTFUOS93OFVCZkVNZ0x6RS8vLy9QLzUvL2YvVi94dityNGVhQUFlTWJBeHdJVVltSU1IRWdLWUFZalVjc0RBd3NMS3hjM0J5Y2ZQdzhqRVFBL2daQkFTRmhFVkV4Y1FsSktXa1pXVGw1QlVVbFpSVlZOWFVOVFFaQmdNQUFNUitFK2dBRVFGRUFBQUFLZ0FxQUNvQU5BQStBRWdBVWdCY0FHWUFjQUI2QUlRQWpnQ1lBS0lBckFDMkFNQUF5Z0RVQU40QTZBRHlBUHdCQmdFUUFSb0JKQUV1QVRnQlFnRk1BVllCWUFGcUFYUUJmZ0dJQVpJQm5BR21BYklCemdIc0FBQjQydTJOTVE2Q1VBeUdXNTY4eDlBbmVZWWdtNE1KYmhLRmFFeElPQVZYOEFwZXdTdDRCaWM0QWZlQWlkM1ZPQml4RHhmUFlFemE1TytYZmkwNFlBRGdnaVVJVUxDdUVKSzhWaE80YlN2cGRua3RISTVRQ1l0ZGkyc2w4Wm5YYUhscVVyTkt6ZEtjVDhjamxxK3J3WlN2SVZjek5pZXpzZm5QL3V6bm1mUEZCTk9ETTJLN01UUTQ1WUVBWnFHUDgxQW1HR2NGM2lQcU9vcDByMVNQVGFUYlZrZlVlNEhYajk3d1lFK3lOd1dZeHdXdTR2MXVnV0hnbzNTMVhkWkVWcVdNN0VUMGNmbkxHeFdma2dSNDJvMlB2V3JETUJTRmovSUhMYUYwektqUmdkaVZNd1NjTlJBb1dVb0g3OFkyaWNCL3lJWTA5QW42QUgyQmR1L1VCK3l4b3BZc2hRaUV2bnZ1MGRVUmdEdDhRZUM4UER3N0ZwamkzZkVBNHovUEVKNllPQjVoS2g0ZGozRXZYaHhQcUgvU0tVWTNySjdzclo0RlpuaDFQTUF0UGh3UDZmbDJQTUpNUERnZVE0clk4WVQ2R3phbzBlQUVBNDA5RHVnZ21UbkZuT2NTQ2lFaUxNZ3hDaVRJNkNxNURaVWQzUW1wMTB2TzBMYUxUZDJjak40Zk91bWxjN2xVWWJTUWNaRmt1dFJHN2c2SktaS3kwUm1kTFk2ODBDRG5FSitVTWtwRkZlMVJON254ZFZwWHJDNGFUdG5hdXJPblllcmNaZzJZVm1MTi9kL2djemZFaW1yRS9mcy9iT3VxMjlabW44dGxvT1JhWGdaZ0dhNzh5TzkvY25YbTJCcGFHdnEyNUR2OVM0RTkrNVNJYzlQcXVwSktoWUZTU2w0NytRY3IxbVlOQUFBQWVOcHR3MGNLd2tBQUFNRFpKQThRN09VSnZrTHNQZlo2ekZWRVJQeThxSGgyWUVSKzNpL0JQODN2SUJMTHlTc29LaW1ycUtxcGEyaHA2K2pxNlJzWUdobWJtSnFaU3kwc3JheHRiTzNzSFJ5ZG5FTVU0dVI2eXg3SkpYdmVQN1dyRHljQUFBQUFBQUgvL3dBQ2VOcGpZR1JnWU9BQlloa2daZ0pDWmdaTkJrWUdMUVp0SUpzRkxNWUFBQXczQUxnQWVOb2xpekVLZ0RBUUJDY2hSYkMyc0ZFUjBZRDZxVlFpQkN2L0g5ZXpHSTZaNVhCQXc4Q0JLL201aVFRVmF1VmJYTG5Pck1adjJvTGRLRmE4UGp1cnUyaEp6R2FibU9TTHpOTXp2dXRwQjNONDJtTmdaR0JnNEdLUVl6QmhZTXhKTE1sajRHQmdBWW93L1AvUEFKSmhMTTZzU29XS2ZXQ0FBd0RBamdiUkFBQjQybU5nWUdCa0FJSWJDWm81SVBybVVuMGhHQTBBTzhFRlRRQUEnKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9OnJvb3R7LS1zd2lwZXItdGhlbWUtY29sb3I6IzAwN2FmZn0uc3dpcGVye21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO2xpc3Qtc3R5bGU6bm9uZTtwYWRkaW5nOjA7ei1pbmRleDoxfS5zd2lwZXItdmVydGljYWw+LnN3aXBlci13cmFwcGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uc3dpcGVyLXdyYXBwZXJ7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4OjE7ZGlzcGxheTpmbGV4O3RyYW5zaXRpb24tcHJvcGVydHk6dHJhbnNmb3JtO2JveC1zaXppbmc6Y29udGVudC1ib3h9LnN3aXBlci1hbmRyb2lkIC5zd2lwZXItc2xpZGUsLnN3aXBlci13cmFwcGVye3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsMCwwKX0uc3dpcGVyLXBvaW50ZXItZXZlbnRze3RvdWNoLWFjdGlvbjpwYW4teX0uc3dpcGVyLXBvaW50ZXItZXZlbnRzLnN3aXBlci12ZXJ0aWNhbHt0b3VjaC1hY3Rpb246cGFuLXh9LnN3aXBlci1zbGlkZXtmbGV4LXNocmluazowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmU7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm19LnN3aXBlci1zbGlkZS1pbnZpc2libGUtYmxhbmt7dmlzaWJpbGl0eTpoaWRkZW59LnN3aXBlci1hdXRvaGVpZ2h0LC5zd2lwZXItYXV0b2hlaWdodCAuc3dpcGVyLXNsaWRle2hlaWdodDphdXRvfS5zd2lwZXItYXV0b2hlaWdodCAuc3dpcGVyLXdyYXBwZXJ7YWxpZ24taXRlbXM6ZmxleC1zdGFydDt0cmFuc2l0aW9uLXByb3BlcnR5OnRyYW5zZm9ybSxoZWlnaHR9LnN3aXBlci1iYWNrZmFjZS1oaWRkZW4gLnN3aXBlci1zbGlkZXt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufS5zd2lwZXItM2QsLnN3aXBlci0zZC5zd2lwZXItY3NzLW1vZGUgLnN3aXBlci13cmFwcGVye3BlcnNwZWN0aXZlOjEyMDBweH0uc3dpcGVyLTNkIC5zd2lwZXItY3ViZS1zaGFkb3csLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLC5zd2lwZXItM2QgLnN3aXBlci1zbGlkZS1zaGFkb3csLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0LC5zd2lwZXItM2QgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsLnN3aXBlci0zZCAuc3dpcGVyLXdyYXBwZXJ7dHJhbnNmb3JtLXN0eWxlOnByZXNlcnZlLTNkfS5zd2lwZXItM2QgLnN3aXBlci1zbGlkZS1zaGFkb3csLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0LC5zd2lwZXItM2QgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsLnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3B7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjEwfS5zd2lwZXItM2QgLnN3aXBlci1zbGlkZS1zaGFkb3d7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xNSl9LnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0e2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGxlZnQscmdiYSgwLDAsMCwuNSkscmdiYSgwLDAsMCwwKSl9LnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodHtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byByaWdodCxyZ2JhKDAsMCwwLC41KSxyZ2JhKDAsMCwwLDApKX0uc3dpcGVyLTNkIC5zd2lwZXItc2xpZGUtc2hhZG93LXRvcHtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byB0b3AscmdiYSgwLDAsMCwuNSkscmdiYSgwLDAsMCwwKSl9LnN3aXBlci0zZCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b217YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLHJnYmEoMCwwLDAsLjUpLHJnYmEoMCwwLDAsMCkpfS5zd2lwZXItY3NzLW1vZGU+LnN3aXBlci13cmFwcGVye292ZXJmbG93OmF1dG87c2Nyb2xsYmFyLXdpZHRoOm5vbmU7LW1zLW92ZXJmbG93LXN0eWxlOm5vbmV9LnN3aXBlci1jc3MtbW9kZT4uc3dpcGVyLXdyYXBwZXI6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0uc3dpcGVyLWNzcy1tb2RlPi5zd2lwZXItd3JhcHBlcj4uc3dpcGVyLXNsaWRle3Njcm9sbC1zbmFwLWFsaWduOnN0YXJ0IHN0YXJ0fS5zd2lwZXItaG9yaXpvbnRhbC5zd2lwZXItY3NzLW1vZGU+LnN3aXBlci13cmFwcGVye3Njcm9sbC1zbmFwLXR5cGU6eCBtYW5kYXRvcnl9LnN3aXBlci12ZXJ0aWNhbC5zd2lwZXItY3NzLW1vZGU+LnN3aXBlci13cmFwcGVye3Njcm9sbC1zbmFwLXR5cGU6eSBtYW5kYXRvcnl9LnN3aXBlci1jZW50ZXJlZD4uc3dpcGVyLXdyYXBwZXI6OmJlZm9yZXtjb250ZW50OicnO2ZsZXgtc2hyaW5rOjA7b3JkZXI6OTk5OX0uc3dpcGVyLWNlbnRlcmVkLnN3aXBlci1ob3Jpem9udGFsPi5zd2lwZXItd3JhcHBlcj4uc3dpcGVyLXNsaWRlOmZpcnN0LWNoaWxke21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmUpfS5zd2lwZXItY2VudGVyZWQuc3dpcGVyLWhvcml6b250YWw+LnN3aXBlci13cmFwcGVyOjpiZWZvcmV7aGVpZ2h0OjEwMCU7bWluLWhlaWdodDoxcHg7d2lkdGg6dmFyKC0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlcil9LnN3aXBlci1jZW50ZXJlZC5zd2lwZXItdmVydGljYWw+LnN3aXBlci13cmFwcGVyPi5zd2lwZXItc2xpZGU6Zmlyc3QtY2hpbGR7bWFyZ2luLWJsb2NrLXN0YXJ0OnZhcigtLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlKX0uc3dpcGVyLWNlbnRlcmVkLnN3aXBlci12ZXJ0aWNhbD4uc3dpcGVyLXdyYXBwZXI6OmJlZm9yZXt3aWR0aDoxMDAlO21pbi13aWR0aDoxcHg7aGVpZ2h0OnZhcigtLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXIpfS5zd2lwZXItY2VudGVyZWQ+LnN3aXBlci13cmFwcGVyPi5zd2lwZXItc2xpZGV7c2Nyb2xsLXNuYXAtYWxpZ246Y2VudGVyIGNlbnRlcjtzY3JvbGwtc25hcC1zdG9wOmFsd2F5c30iXSwic291cmNlUm9vdCI6IiJ9 */.spinner {\\n  margin: 70px auto;\\n  background: transparent;\\n}\\n\\n.toolbar {\\n  width: 100%;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 999;\\n}\\n\\n.list-task-prompt {\\n  color: gray;\\n}\\n\\n.heading {\\n  font-size: 24px;\\n  font-weight: bold;\\n  color: grey;\\n}\\n\\n.no-workflow-select {\\n  position: absolute;\\n  top: 30%;\\n  left: 40%;\\n}\\n\\n.no-posts {\\n  width: 380px;\\n  height: 100%;\\n  margin: 150px 70px 0px 50px;\\n  text-align: center;\\n}\\n\\n.swiper {\\n  width: 380px;\\n  height: 100%;\\n  margin: 30px 70px 0px 50px;\\n}\\n\\n.swiper-slide {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 18px;\\n  font-size: 22px;\\n  font-weight: bold;\\n  color: #fff;\\n  padding: 15px 0px;\\n}\\n\\n.swiper-slide:nth-child(1n) {\\n  background-color: rgb(10, 184, 111);\\n}\\n\\n.swiper-slide:nth-child(2n) {\\n  background-color: rgb(211, 122, 7);\\n}\\n\\n.swiper-slide:nth-child(3n) {\\n  background-color: rgb(118, 163, 12);\\n}\\n\\n.swiper-slide:nth-child(4n) {\\n  background-color: rgb(0, 68, 255);\\n}\\n\\n.swiper-slide:nth-child(5n) {\\n  background-color: rgb(35, 99, 19);\\n}\\n\\n.swiper-slide:nth-child(6n) {\\n  background-color: rgb(218, 12, 218);\\n}\\n\\n.swiper-slide:nth-child(7n) {\\n  background-color: rgb(54, 94, 77);\\n}\\n\\n.drawer-container {\\n  position: absolute;\\n  padding-top: 56px;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n}\\n@media (min-width: breakpoint(\\\"sm\\\", \\\"min\\\")) {\\n  .drawer-container {\\n    padding-top: 64px;\\n  }\\n}\\n\\n.subheader-button {\\n  width: 100%;\\n  text-align: left !important;\\n}\\n\\nmat-sidenav {\\n  width: 30%;\\n  height: 100%;\\n}\\n\\nmat-sidenav-content {\\n  padding: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  min-height: 90vh;\\n  overflow: hidden;\\n}\\n\\n.workflow-create-post {\\n  margin: 0;\\n  padding: 0;\\n  line-height: inherit;\\n  height: inherit;\\n  margin: 20px;\\n  background-color: #6c63ff;\\n}\\n\\n.create-post-button-container {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-right: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jay13b3Jrc3BhY2UvY2std29ya3NwYWNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsaUJBQUE7RUFDQSx1QkFBQTtBQUFGOztBQUdBO0VBQ0UsV0FBQTtFQUNBLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0FBQUY7O0FBR0E7RUFDRSxXQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0FBQUY7O0FBR0E7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FBQUY7O0FBR0E7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUVBLDJCQUFBO0VBQ0Esa0JBQUE7QUFERjs7QUFJQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBRUEsMEJBQUE7QUFGRjs7QUFLQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBRUEsaUJBQUE7QUFIRjs7QUFNQTtFQUNFLG1DQUFBO0FBSEY7O0FBTUE7RUFDRSxrQ0FBQTtBQUhGOztBQU1BO0VBQ0UsbUNBQUE7QUFIRjs7QUFNQTtFQUNFLGlDQUFBO0FBSEY7O0FBTUE7RUFDRSxpQ0FBQTtBQUhGOztBQU1BO0VBQ0UsbUNBQUE7QUFIRjs7QUFNQTtFQUNFLGlDQUFBO0FBSEY7O0FBTUE7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsY0FBQTtBQUhGO0FBS0U7RUFSRjtJQVNJLGlCQUFBO0VBRkY7QUFDRjs7QUFLQTtFQUNFLFdBQUE7RUFDQSwyQkFBQTtBQUZGOztBQUtBO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUFGRjs7QUFLQTtFQUNFLGFBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUVBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFIRjs7QUFNQTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0Esb0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0FBSEY7O0FBTUE7RUFDRSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtBQUhGIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3N3aXBlci5taW4uY3NzJztcblxuLnNwaW5uZXIge1xuICBtYXJnaW46IDcwcHggYXV0bztcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi50b29sYmFyIHtcbiAgd2lkdGg6IDEwMCU7IFxuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuLmxpc3QtdGFzay1wcm9tcHQge1xuICBjb2xvcjogZ3JheTtcbn1cblxuLmhlYWRpbmcge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogZ3JleTtcbn1cblxuLm5vLXdvcmtmbG93LXNlbGVjdCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXG4gIHRvcDogMzAlOyBcbiAgbGVmdDogNDAlO1xufVxuXG4ubm8tcG9zdHMge1xuICB3aWR0aDogMzgwcHg7XG4gIGhlaWdodDogMTAwJTtcblxuICBtYXJnaW46IDE1MHB4IDcwcHggMHB4IDUwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnN3aXBlciB7XG4gIHdpZHRoOiAzODBweDtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIG1hcmdpbjogMzBweCA3MHB4IDBweCA1MHB4O1xufVxuXG4uc3dpcGVyLXNsaWRlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDE4cHg7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjZmZmO1xuXG4gIHBhZGRpbmc6IDE1cHggMHB4O1xufVxuXG4uc3dpcGVyLXNsaWRlOm50aC1jaGlsZCgxbikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTAsIDE4NCwgMTExKTtcbn1cblxuLnN3aXBlci1zbGlkZTpudGgtY2hpbGQoMm4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIxMSwgMTIyLCA3KTtcbn1cblxuLnN3aXBlci1zbGlkZTpudGgtY2hpbGQoM24pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDExOCwgMTYzLCAxMik7XG59XG5cbi5zd2lwZXItc2xpZGU6bnRoLWNoaWxkKDRuKSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCA2OCwgMjU1KTtcbn1cblxuLnN3aXBlci1zbGlkZTpudGgtY2hpbGQoNW4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDM1LCA5OSwgMTkpO1xufVxuXG4uc3dpcGVyLXNsaWRlOm50aC1jaGlsZCg2bikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjE4LCAxMiwgMjE4KTtcbn1cblxuLnN3aXBlci1zbGlkZTpudGgtY2hpbGQoN24pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDU0LCA5NCwgNzcpO1xufSBcblxuLmRyYXdlci1jb250YWluZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHBhZGRpbmctdG9wOiA1NnB4O1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBvdmVyZmxvdzogYXV0bztcblxuICBAbWVkaWEgKG1pbi13aWR0aDogYnJlYWtwb2ludCgnc20nLCAnbWluJykpIHtcbiAgICBwYWRkaW5nLXRvcDogNjRweDtcbiAgfVxufVxuXG4uc3ViaGVhZGVyLWJ1dHRvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XG59XG5cbm1hdC1zaWRlbmF2IHtcbiAgd2lkdGg6IDMwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5tYXQtc2lkZW5hdi1jb250ZW50IHtcbiAgcGFkZGluZzogMTBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cbiAgbWluLWhlaWdodDogOTB2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLndvcmtmbG93LWNyZWF0ZS1wb3N0e1xuICBtYXJnaW46IDA7IFxuICBwYWRkaW5nOiAwOyBcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7IFxuICBoZWlnaHQ6IGluaGVyaXQ7XG4gIG1hcmdpbjogMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzZjNjNmZjtcbn1cblxuLmNyZWF0ZS1wb3N0LWJ1dHRvbi1jb250YWluZXJ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["ViewType","Role","GroupTaskStatus","TaskActionType","TaskWorkflowType","BucketsModalComponent","ListModalComponent","SwiperComponent","SwiperCore","EffectCards","Converters","STUDENT_POST_COLOR","TEACHER_POST_COLOR","SocketEvent","interval","ManageGroupModalComponent","AddPostComponent","PostType","i0","$event","use","CkWorkspaceComponent","userService","projectService","boardService","postService","workflowService","groupService","socketService","snackbarService","canvasService","groupTaskService","converters","router","activatedRoute","dialog","swiper","loading","showInactive","showActive","showCompleted","user","group","project","board","inactiveGroupTasks","activeGroupTasks","completeGroupTasks","runningGroupTask","currentGroupProgress","averageGroupProgress","listeners","posts","submittedPosts","members","showSubmittedPosts","embedded","viewType","WORKSPACE","constructor","queryParams","subscribe","params","ngOnInit","loadWorkspaceData","map","snapshot","paramMap","boardID","projectID","has","get","navigate","getByProjectUser","userID","viewSettings","allowWorkspace","navigateByUrl","defaultView","toLowerCase","tasks","getGroupTasks","forEach","t","groupTask","status","INACTIVE","push","ACTIVE","COMPLETE","connect","begin","expandedGroupTask","updateGroupTask","groupTaskID","filter","g","view","getGroupTask","groupID","workflow","workflowID","_calcGroupProgress","_calcAverageProgress","postIDs","concat","Object","keys","progress","submittedPostIDs","postID","reduce","partialSum","a","amountRequired","getAll","toHTMLPosts","getMultipleByIds","type","GENERATION","_startListening","close","l","unsubscribe","submitPost","post","task","p","markComplete","showBucketsModal","_openDialog","allowMovePostToBoard","showListModal","openGroupDialog","open","data","postSubmittable","postProgress","sum","createMorePosts","requiredActions","CREATE_POST","length","taskSubmittable","hasCommentRequirement","find","COMMENT","undefined","hasTagRequirement","TAG","hasCreatePostRequirement","numberOfPosts","togglePostsSlider","addPost","dialogData","disableCreation","tagRequired","onComplete","WORKFLOW","destinationType","destinations","BUCKET","displayAttributes","position","left","top","lock","permissions","allowStudentMoveAny","fillColor","defaultPostFill","id","htmlPost","toHTMLPost","create","action","emit","WORKFLOW_PROGRESS_UPDATE","_","tags","onTagEvent","width","onCommentEvent","updateTaskProgress","toggleSubmittedPosts","listen","updates","found","u","_newPosts","includes","newPosts","htmlPosts","POST_UPVOTE_ADD","result","upvote","upvotes","POST_UPVOTE_REMOVE","upvoteID","POST_COMMENT_ADD","comment","comments","POST_COMMENT_REMOVE","POST_TAG_ADD","POST_TAG_REMOVE","WORKFLOW_POST_SUBMIT","submittedPost","copyEmbedCode","url","window","location","href","navigator","clipboard","writeText","signOut","logout","ngOnDestroy","disconnect","values","key","remaining","partial","b","total","createPosts","postsCreated","actionPerPost","getGroupTasksByWorkflow","totalProgress","component","maxWidth","autoFocus","role","TEACHER","selectors","viewQuery"],"sourceRoot":"","sources":["/Users/marieklinaeva/github/ck-board/frontend/src/app/components/ck-workspace/ck-workspace.component.ts","/Users/marieklinaeva/github/ck-board/frontend/src/app/components/ck-workspace/ck-workspace.component.html"],"sourcesContent":["import { ComponentType } from '@angular/cdk/overlay';\nimport {\n  Component,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Board, BoardScope, ViewType } from 'src/app/models/board';\nimport { Project } from 'src/app/models/project';\nimport User, { AuthUser, Role } from 'src/app/models/user';\nimport {\n  ExpandedGroupTask,\n  GroupTask,\n  GroupTaskStatus,\n  TaskAction,\n  TaskActionType,\n  TaskWorkflowType,\n} from 'src/app/models/workflow';\nimport { BoardService } from 'src/app/services/board.service';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { SnackbarService } from 'src/app/services/snackbar.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { WorkflowService } from 'src/app/services/workflow.service';\nimport { BucketsModalComponent } from '../buckets-modal/buckets-modal.component';\nimport { ListModalComponent } from '../list-modal/list-modal.component';\nimport { SwiperComponent } from 'swiper/angular';\nimport SwiperCore, { EffectCards } from 'swiper';\nimport { HTMLPost } from '../html-post/html-post.component';\nimport { Group } from 'src/app/models/group';\nimport { GroupService } from 'src/app/services/group.service';\nimport Converters from 'src/app/utils/converters';\nimport { PostService } from 'src/app/services/post.service';\nimport {\n  NEEDS_ATTENTION_TAG,\n  POST_TAGGED_BORDER_THICKNESS,\n  STUDENT_POST_COLOR,\n  TEACHER_POST_COLOR,\n  SocketEvent,\n} from 'src/app/utils/constants';\nimport { SocketService } from 'src/app/services/socket.service';\nimport { interval, Subscription } from 'rxjs';\nimport { ManageGroupModalComponent } from '../groups/manage-group-modal/manage-group-modal.component';\nimport { AddPostComponent } from '../add-post-modal/add-post.component';\nimport Post, { DisplayAttributes, PostType } from 'src/app/models/post';\nimport { CanvasService } from 'src/app/services/canvas.service';\nimport { GroupTaskService } from 'src/app/services/groupTask.service';\n\n// install Swiper modules\nSwiperCore.use([EffectCards]);\n\n@Component({\n  selector: 'app-ck-workspace',\n  templateUrl: './ck-workspace.component.html',\n  styleUrls: ['./ck-workspace.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CkWorkspaceComponent implements OnInit, OnDestroy {\n  @ViewChild(SwiperComponent) swiper: SwiperComponent;\n\n  loading = false;\n\n  showInactive = true;\n  showActive = true;\n  showCompleted = false;\n\n  user: AuthUser;\n  group: Group;\n\n  project: Project;\n  board: Board;\n\n  inactiveGroupTasks: ExpandedGroupTask[] = [];\n  activeGroupTasks: ExpandedGroupTask[] = [];\n  completeGroupTasks: ExpandedGroupTask[] = [];\n\n  runningGroupTask: ExpandedGroupTask | null;\n  currentGroupProgress: number;\n  averageGroupProgress: number;\n  listeners: Subscription[] = [];\n  posts: HTMLPost[] = [];\n  submittedPosts: HTMLPost[] = [];\n  members: User[] = [];\n\n  showSubmittedPosts: boolean = false;\n\n  Role: typeof Role = Role;\n  TaskActionType: typeof TaskActionType = TaskActionType;\n  TaskWorkflowType: typeof TaskWorkflowType = TaskWorkflowType;\n  GroupTaskStatus: typeof GroupTaskStatus = GroupTaskStatus;\n  embedded: boolean = false; // If standalone board embed\n  viewType = ViewType.WORKSPACE;\n\n  constructor(\n    public userService: UserService,\n    public projectService: ProjectService,\n    public boardService: BoardService,\n    public postService: PostService,\n    public workflowService: WorkflowService,\n    public groupService: GroupService,\n    public socketService: SocketService,\n    public snackbarService: SnackbarService,\n    public canvasService: CanvasService,\n    public groupTaskService: GroupTaskService,\n    private converters: Converters,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    public dialog: MatDialog\n  ) {\n    this.activatedRoute.queryParams.subscribe((params) => {\n      if (params.embedded === 'true') {\n        this.embedded = true;\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.user = this.userService.user!;\n    this.loadWorkspaceData();\n  }\n\n  async loadWorkspaceData(): Promise<boolean> {\n    const map = this.activatedRoute.snapshot.paramMap;\n    let boardID: string, projectID: string;\n\n    if (map.has('boardID') && map.has('projectID')) {\n      boardID = this.activatedRoute.snapshot.paramMap.get('boardID') ?? '';\n      projectID = this.activatedRoute.snapshot.paramMap.get('projectID') ?? '';\n    } else {\n      return this.router.navigate(['error']);\n    }\n\n    this.board = await this.boardService.get(boardID);\n    this.project = await this.projectService.get(projectID);\n    this.group = await this.groupService.getByProjectUser(\n      projectID,\n      this.user.userID\n    );\n\n    if (!this.board.viewSettings?.allowWorkspace) {\n      this.router.navigateByUrl(\n        `project/${projectID}/board/${boardID}/${this.board.defaultView?.toLowerCase()}`\n      );\n    }\n\n    const tasks = await this.workflowService.getGroupTasks(boardID, 'expanded');\n    tasks.forEach((t) => {\n      if (t.groupTask.status == GroupTaskStatus.INACTIVE) {\n        this.inactiveGroupTasks.push(t);\n      } else if (t.groupTask.status == GroupTaskStatus.ACTIVE) {\n        this.activeGroupTasks.push(t);\n      } else if (t.groupTask.status == GroupTaskStatus.COMPLETE) {\n        this.completeGroupTasks.push(t);\n      }\n    });\n    this.socketService.connect(this.user.userID, this.board.boardID);\n    return true;\n  }\n\n  async begin(expandedGroupTask: ExpandedGroupTask): Promise<void> {\n    const groupTask = expandedGroupTask.groupTask;\n    groupTask.status = GroupTaskStatus.ACTIVE;\n    await this.workflowService.updateGroupTask(groupTask.groupTaskID, {\n      status: GroupTaskStatus.ACTIVE,\n    });\n\n    this.inactiveGroupTasks = this.inactiveGroupTasks.filter(\n      (g) => g.groupTask.groupTaskID !== groupTask.groupTaskID\n    );\n    this.activeGroupTasks.push(expandedGroupTask);\n    this.view(expandedGroupTask);\n  }\n\n  async view(groupTask: ExpandedGroupTask): Promise<void> {\n    this.loading = true;\n    this.runningGroupTask = groupTask;\n    this.runningGroupTask.groupTask = await this.groupTaskService.getGroupTask(\n      this.runningGroupTask.group.groupID,\n      this.runningGroupTask.workflow.workflowID\n    );\n    this.currentGroupProgress = this._calcGroupProgress(this.runningGroupTask);\n    this.averageGroupProgress = await this._calcAverageProgress(\n      this.runningGroupTask\n    );\n\n    let postIDs: string[] = [];\n    if (groupTask.groupTask.status == GroupTaskStatus.COMPLETE) {\n      postIDs = postIDs.concat(Object.keys(groupTask.groupTask.progress));\n    } else {\n      postIDs = postIDs.concat(groupTask.groupTask.posts);\n    }\n    const submittedPostIDs = [\n      ...Object.keys(groupTask.groupTask.progress),\n    ].filter(\n      (postID) =>\n        groupTask.groupTask.progress[postID].reduce(\n          (partialSum, a) => partialSum + a.amountRequired,\n          0\n        ) == 0\n    );\n    const posts = await this.postService.getAll(postIDs);\n    const submittedPosts = await this.postService.getAll(submittedPostIDs);\n    this.posts = await this.converters.toHTMLPosts(posts);\n    this.submittedPosts = await this.converters.toHTMLPosts(submittedPosts);\n    this.members = await this.userService.getMultipleByIds(\n      groupTask.group.members\n    );\n    this.loading = false;\n    // Show submitted posts by default in generative task workflow\n    if (this.runningGroupTask.workflow.type === TaskWorkflowType.GENERATION) {\n      this.showSubmittedPosts = true;\n    } else {\n      this.showSubmittedPosts = false;\n    }\n\n    this._startListening();\n  }\n\n  close(): void {\n    this.runningGroupTask = null;\n    this.currentGroupProgress = 0;\n    this.averageGroupProgress = 0;\n    this.posts = [];\n    this.members = [];\n    this.listeners.map((l) => l.unsubscribe());\n  }\n\n  async submitPost(post: HTMLPost): Promise<void> {\n    if (!this.runningGroupTask) return;\n\n    const task: GroupTask = this.runningGroupTask.groupTask;\n    this.runningGroupTask.groupTask = await this.workflowService.submitPost(\n      task.groupTaskID,\n      post.post.postID\n    );\n\n    this.posts = this.posts.filter((p) => p.post.postID !== post.post.postID);\n    // this.submittedPosts.push(post);\n    this.currentGroupProgress = this._calcGroupProgress(this.runningGroupTask);\n    if (this.currentGroupProgress >= 100) {\n      await this.markComplete();\n    }\n  }\n\n  async markComplete(): Promise<void> {\n    if (!this.runningGroupTask) return;\n\n    const task: GroupTask = this.runningGroupTask.groupTask;\n    this.runningGroupTask.groupTask =\n      await this.workflowService.updateGroupTask(task.groupTaskID, {\n        status: GroupTaskStatus.COMPLETE,\n      });\n\n    this.activeGroupTasks = this.activeGroupTasks.filter(\n      (g) => g.groupTask.groupTaskID !== task.groupTaskID\n    );\n    this.completeGroupTasks.push(this.runningGroupTask);\n\n    this.close();\n  }\n\n  showBucketsModal(): void {\n    this._openDialog(BucketsModalComponent, {\n      board: this.board,\n      user: this.user,\n      allowMovePostToBoard: false,\n    });\n  }\n\n  showListModal(): void {\n    this._openDialog(ListModalComponent, {\n      board: this.board,\n    });\n  }\n\n  openGroupDialog(): void {\n    this.dialog.open(ManageGroupModalComponent, {\n      data: {\n        project: this.project,\n      },\n    });\n  }\n\n  postSubmittable(post: HTMLPost): boolean {\n    if (!this.runningGroupTask) return false;\n\n    const progress = this.runningGroupTask.groupTask.progress;\n    const postProgress = progress[post.post.postID];\n\n    if (!postProgress) return false;\n\n    const amountRequired = postProgress.reduce(\n      (sum: number, a: TaskAction) => sum + a.amountRequired,\n      0\n    );\n    return amountRequired == 0;\n  }\n\n  createMorePosts(groupTask: ExpandedGroupTask): boolean {\n    return (\n      groupTask.workflow.requiredActions.filter(\n        (a) => a.type === TaskActionType.CREATE_POST\n      )[0].amountRequired === Object.keys(groupTask.groupTask.progress).length\n    );\n  }\n\n  taskSubmittable(groupTask: ExpandedGroupTask): boolean {\n    return this.runningGroupTask?.workflow.type === TaskWorkflowType.GENERATION\n      ? this.currentGroupProgress >= 100 &&\n          groupTask.groupTask.status == GroupTaskStatus.ACTIVE\n      : this.currentGroupProgress == 100 &&\n          groupTask.groupTask.posts.length == 0 &&\n          groupTask.groupTask.status == GroupTaskStatus.ACTIVE;\n  }\n\n  hasCommentRequirement(runningGroupTask: ExpandedGroupTask): boolean {\n    return (\n      runningGroupTask.workflow.requiredActions.find(\n        (a) => a.type == TaskActionType.COMMENT\n      ) != undefined\n    );\n  }\n\n  hasTagRequirement(runningGroupTask: ExpandedGroupTask): boolean {\n    return (\n      runningGroupTask.workflow.requiredActions.find(\n        (a) => a.type == TaskActionType.TAG\n      ) != undefined\n    );\n  }\n\n  hasCreatePostRequirement(runningGroupTask: ExpandedGroupTask): boolean {\n    return (\n      runningGroupTask.workflow.requiredActions.find(\n        (a) => a.type == TaskActionType.CREATE_POST\n      ) != undefined\n    );\n  }\n\n  numberOfPosts(runningGroupTask: ExpandedGroupTask): number | undefined {\n    return runningGroupTask.workflow.requiredActions.find(\n      (a) => a.type == TaskActionType.CREATE_POST\n    )?.amountRequired;\n  }\n\n  togglePostsSlider(): void {\n    this.showSubmittedPosts = !this.showSubmittedPosts;\n  }\n\n  addPost(): void {\n    const dialogData = {\n      disableCreation: true,\n      board: this.board,\n      user: this.user,\n      tagRequired: this.hasTagRequirement(this.runningGroupTask!),\n      onComplete: async (post: Post) => {\n        if (this.runningGroupTask) {\n          post.type = PostType.WORKFLOW;\n          const destinationType =\n            PostType[this.runningGroupTask?.workflow.destinations[0].type];\n          if (destinationType === PostType.BUCKET) {\n            post.boardID = this.board.boardID;\n          } else {\n            const displayAttributes: DisplayAttributes = {\n              position: {\n                left: 150,\n                top: 150,\n              },\n              lock: !this.board.permissions.allowStudentMoveAny,\n              fillColor: this.defaultPostFill(),\n            };\n            post.boardID = this.runningGroupTask?.workflow.destinations[0].id;\n            post.displayAttributes = displayAttributes;\n          }\n          const htmlPost = await this.converters.toHTMLPost(post);\n          this.posts.push(htmlPost);\n          this.postService.create(post);\n          this.runningGroupTask.groupTask.progress[post.postID] =\n            this.runningGroupTask.workflow.requiredActions.filter(\n              (action) => action.type !== TaskActionType.CREATE_POST\n            );\n          this.runningGroupTask.groupTask.posts.push(post.postID);\n          const t = await this.workflowService.updateGroupTask(\n            this.runningGroupTask.groupTask.groupTaskID,\n            {\n              posts: this.posts.map((p) => p.post.postID),\n              progress: this.runningGroupTask.groupTask.progress,\n            }\n          );\n\n          this.currentGroupProgress = this._calcGroupProgress(\n            this.runningGroupTask\n          );\n          this.averageGroupProgress = await this._calcAverageProgress(\n            this.runningGroupTask\n          );\n          this.socketService.emit(SocketEvent.WORKFLOW_PROGRESS_UPDATE, [\n            this.runningGroupTask.groupTask,\n          ]);\n\n          for (const _ of post.tags) {\n            await this.onTagEvent(post.postID, 'add');\n          }\n          await this.submitPost(htmlPost);\n        }\n        return;\n      },\n    };\n    this.dialog.open(AddPostComponent, {\n      width: '500px',\n      data: dialogData,\n    });\n  }\n\n  onCommentEvent = async (postID: string, type: string): Promise<void> => {\n    if (!this.runningGroupTask) return;\n\n    const workflowID = this.runningGroupTask.workflow.workflowID;\n    const groupTaskID = this.runningGroupTask.groupTask.groupTaskID;\n    if (type == 'add') {\n      await this.workflowService.updateTaskProgress(\n        workflowID,\n        groupTaskID,\n        postID,\n        -1,\n        'COMMENT'\n      );\n    } else {\n      await this.workflowService.updateTaskProgress(\n        workflowID,\n        groupTaskID,\n        postID,\n        1,\n        'COMMENT'\n      );\n    }\n    const post = this.posts.find((post) => post.post.postID === postID);\n    if (post && this.postSubmittable(post)) {\n      await this.submitPost(post);\n    }\n  };\n\n  onTagEvent = async (postID: string, type: string): Promise<void> => {\n    if (!this.runningGroupTask) return;\n\n    const workflowID = this.runningGroupTask.workflow.workflowID;\n    const groupTaskID = this.runningGroupTask.groupTask.groupTaskID;\n    if (type == 'add') {\n      await this.workflowService.updateTaskProgress(\n        workflowID,\n        groupTaskID,\n        postID,\n        -1,\n        'TAG'\n      );\n    } else {\n      await this.workflowService.updateTaskProgress(\n        workflowID,\n        groupTaskID,\n        postID,\n        1,\n        'TAG'\n      );\n    }\n\n    const post = this.posts.find((post) => post.post.postID === postID);\n    if (post && this.postSubmittable(post)) {\n      await this.submitPost(post);\n    }\n  };\n\n  toggleSubmittedPosts(): void {\n    this.showSubmittedPosts = !this.showSubmittedPosts;\n  }\n\n  private _startListening(): void {\n    this.listeners.push(\n      this.socketService.listen(\n        SocketEvent.WORKFLOW_PROGRESS_UPDATE,\n        async (updates) => {\n          if (!this.runningGroupTask) return;\n\n          const found = updates.find(\n            (u) => u.groupTaskID == this.runningGroupTask?.groupTask.groupTaskID\n          );\n          if (found) {\n            this.runningGroupTask.groupTask = found;\n            if (\n              this.runningGroupTask?.workflow.type ===\n              TaskWorkflowType.GENERATION\n            ) {\n              const _newPosts = found.posts.filter(\n                (p) => !this.posts.map((post) => post.post.postID).includes(p)\n              );\n              const newPosts = await this.postService.getAll(_newPosts);\n              const htmlPosts = await this.converters.toHTMLPosts(newPosts);\n              this.posts = this.posts.concat(htmlPosts);\n            }\n            this.currentGroupProgress = this._calcGroupProgress(\n              this.runningGroupTask\n            );\n          }\n        }\n      )\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_UPVOTE_ADD, (result) => {\n        const found = this.posts.find(\n          (p) => p.post.postID == result.upvote.postID\n        );\n        if (found) {\n          found.upvotes.push(result.upvote);\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_UPVOTE_REMOVE, (result) => {\n        const found = this.posts.find(\n          (p) => p.post.postID == result.upvote.postID\n        );\n        if (found) {\n          found.upvotes = found.upvotes.filter(\n            (upvote) => upvote.upvoteID != result.upvote.upvoteID\n          );\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_COMMENT_ADD, (result) => {\n        const found = this.posts.find(\n          (p) => p.post.postID == result.comment.postID\n        );\n        if (found) {\n          found.comments += 1;\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_COMMENT_REMOVE, (result) => {\n        const found = this.posts.find(\n          (p) => p.post.postID == result.comment.postID\n        );\n        if (found) {\n          found.comments -= 1;\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_TAG_ADD, ({ post }) => {\n        const found = this.posts.find((p) => p.post.postID == post.postID);\n        if (found) {\n          found.post = post;\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(SocketEvent.POST_TAG_REMOVE, ({ post }) => {\n        const found = this.posts.find((p) => p.post.postID == post.postID);\n        if (found) {\n          found.post = post;\n        }\n      })\n    );\n    this.listeners.push(\n      this.socketService.listen(\n        SocketEvent.WORKFLOW_POST_SUBMIT,\n        (postID: string) => {\n          const submittedPost = this.posts.find((p) => p.post.postID == postID);\n          this.posts = this.posts.filter((p) => p.post.postID != postID);\n          if (submittedPost) this.submittedPosts.push(submittedPost);\n        }\n      )\n    );\n    this.listeners.push(\n      interval(30 * 1000).subscribe(async () => {\n        this.averageGroupProgress = await this._calcAverageProgress(\n          this.runningGroupTask\n        );\n      })\n    );\n  }\n\n  copyEmbedCode() {\n    const url = window.location.href + '?embedded=true';\n    navigator.clipboard.writeText(url);\n  }\n\n  signOut(): void {\n    this.userService.logout();\n    this.router.navigate(['login']);\n  }\n\n  ngOnDestroy(): void {\n    this.listeners.map((l) => l.unsubscribe());\n    this.socketService.disconnect(this.user.userID, this.board.boardID);\n  }\n\n  private _calcGroupProgress(task: ExpandedGroupTask | null): number {\n    if (!task) return 0;\n    // get all posts' progress\n    const values = Object.keys(task.groupTask.progress).map(function (key) {\n      return task.groupTask.progress[key];\n    });\n\n    // sum all amountRequired for each action per post\n    // i.e. Post A (1 tag req, 1 comment req) + Post B (1 tag req, 0 comments required)\n    let remaining = values.reduce(\n      (partialSum, a) =>\n        partialSum + a.reduce((partial, b) => partial + b.amountRequired, 0),\n      0\n    );\n\n    // nothing left to do\n    if (remaining == 0 && task.workflow.type !== TaskWorkflowType.GENERATION)\n      return 100;\n\n    // sum both required tags (1) and required comments (1) = 2\n    // multiple by number of posts since those requirements are per-post\n\n    let total = task.workflow.requiredActions\n      .filter((a) => a.type !== TaskActionType.CREATE_POST)\n      .reduce((partialSum, a) => partialSum + a.amountRequired, 0);\n    if (task.workflow.type === TaskWorkflowType.GENERATION) {\n      const createPosts = task.workflow.requiredActions.filter(\n        (a) => a.type === TaskActionType.CREATE_POST\n      )[0].amountRequired;\n      const postsCreated = Object.keys(task.groupTask.progress).length;\n\n      const actionPerPost = total;\n      if (total) total = total * createPosts + createPosts;\n      else total = createPosts;\n      remaining += createPosts - postsCreated;\n      remaining += (createPosts - postsCreated) * actionPerPost;\n    } else {\n      total *= values.length;\n    }\n    return ((total - remaining) / total) * 100;\n  }\n\n  private async _calcAverageProgress(\n    task: ExpandedGroupTask | null\n  ): Promise<number> {\n    if (!task) return 0;\n\n    const tasks: ExpandedGroupTask[] =\n      await this.workflowService.getGroupTasksByWorkflow(\n        task.workflow.workflowID,\n        'expanded'\n      );\n\n    const totalProgress = tasks.reduce(\n      (partialSum) => partialSum + this._calcGroupProgress(task),\n      0\n    );\n    return totalProgress / tasks.length;\n  }\n\n  private _openDialog(component: ComponentType<unknown>, data: any) {\n    this.dialog.open(component, {\n      maxWidth: 1280,\n      width: '95vw',\n      autoFocus: false,\n      data: data,\n    });\n  }\n\n  defaultPostFill() {\n    return this.userService.user?.role === Role.TEACHER\n      ? TEACHER_POST_COLOR\n      : STUDENT_POST_COLOR;\n  }\n}\n","<div>\n  <app-toolbar class=\"toolbar\" *ngIf=\"user && project && board && !embedded\" [user]=\"user\" style=\"width: 100%;\">\n    <span *ngIf=\"board\">CK Workspace - {{ this.board.name }}</span>\n    <button mat-icon-button *ngIf=\"user.role === Role.TEACHER\" (click)=\"copyEmbedCode()\" matTooltip=\"Copy embeddable URL\">\n      <mat-icon>file_copy</mat-icon>\n    </button>\n    <span style=\"flex: 1 1 auto\"></span>\n    <button mat-icon-button routerLink=\"{{'/project/'+project.projectID+'/board/'+board.boardID}}\" matTooltip=\"Back to Board\">\n      <mat-icon>keyboard_return</mat-icon>\n    </button>\n    <app-view-navigation [boardID]=\"board.boardID\" [currentView]=\"viewType\"></app-view-navigation>\n    <app-toolbar-menu navbarMenu [board]=\"board\" [project]=\"project\"></app-toolbar-menu>\n  </app-toolbar>\n  <mat-sidenav-container class=\"drawer-container\">\n    <mat-sidenav #drawer mode=\"side\" opened [fixedInViewport]=\"!embedded ? true : false\" [fixedTopGap]=\"64\" style=\"position: fixed;\" [ngStyle]=\"!embedded && {'padding-bottom': '64px' } || null\">\n        <mat-list *ngIf=\"activeGroupTasks\">\n          <button class=\"subheader-button\" mat-button (click)=\"showInactive = !showInactive\">\n            Pending Tasks ({{ inactiveGroupTasks.length }})\n            <mat-icon>{{ showInactive ? 'expand_less' : 'expand_more' }}</mat-icon>\n          </button>\n          <ng-container *ngIf=\"showInactive\">\n            <mat-list-item *ngFor=\"let task of inactiveGroupTasks\">\n              <mat-icon matListIcon>timeline</mat-icon>\n              <h3 matLine> {{task.workflow.name}} </h3>\n              <p matLine class=\"list-task-prompt\"> {{task.group.name}}: {{task.workflow.prompt}} </p>\n              <span style=\"flex: 1 1 auto\"></span>\n              <button mat-raised-button color=\"primary\" style=\"margin-left: 10px; min-width: unset\" (click)=\"begin(task)\">Begin Task</button>\n            </mat-list-item>\n          </ng-container>\n          <mat-divider></mat-divider>\n          <button class=\"subheader-button\" mat-button (click)=\"showActive = !showActive\">\n            Active Tasks ({{ activeGroupTasks.length }})\n            <mat-icon>{{ showActive ? 'expand_less' : 'expand_more' }}</mat-icon>\n          </button>\n          <ng-container *ngIf=\"showActive\">\n            <mat-list-item *ngFor=\"let task of activeGroupTasks\">\n              <mat-icon matListIcon>timeline</mat-icon>\n              <h3 matLine> {{task.workflow.name}} </h3>\n              <p matLine class=\"list-task-prompt\"> {{task.group.name}}: {{task.workflow.prompt}} </p>\n              <span style=\"flex: 1 1 auto\"></span>\n              <button *ngIf=\"(runningGroupTask && runningGroupTask.groupTask.groupTaskID !== task.groupTask.groupTaskID) || (!runningGroupTask)\" mat-raised-button color=\"primary\" style=\"margin-left: 10px; min-width: unset\" (click)=\"view(task)\">Resume Task</button>\n              <button *ngIf=\"runningGroupTask && runningGroupTask.groupTask.groupTaskID === task.groupTask.groupTaskID\" mat-raised-button color=\"primary\" style=\"margin-left: 10px; min-width: unset\" (click)=\"close()\">Hide Task</button>\n            </mat-list-item>\n          </ng-container>\n          <mat-divider></mat-divider>\n          <button class=\"subheader-button\" mat-button (click)=\"showCompleted = !showCompleted\">\n            Completed Tasks ({{ completeGroupTasks.length }})\n            <mat-icon>{{ showCompleted ? 'expand_less' : 'expand_more' }}</mat-icon>\n          </button>\n          <ng-container *ngIf=\"showCompleted\">\n            <mat-list-item *ngFor=\"let task of completeGroupTasks\">\n              <mat-icon matListIcon>timeline</mat-icon>\n              <h3 matLine> {{task.workflow.name}} </h3>\n              <p matLine class=\"list-task-prompt\"> {{task.group.name}}: {{task.workflow.prompt}} </p>\n              <span style=\"flex: 1 1 auto\"></span>\n              <button *ngIf=\"(runningGroupTask && runningGroupTask.groupTask.groupTaskID !== task.groupTask.groupTaskID) || (!runningGroupTask)\" mat-raised-button color=\"primary\" style=\"margin-left: 10px; min-width: unset\" (click)=\"view(task)\">View Task</button>\n              <button *ngIf=\"runningGroupTask && runningGroupTask.groupTask.groupTaskID === task.groupTask.groupTaskID\" mat-raised-button color=\"primary\" style=\"margin-left: 10px; min-width: unset\" (click)=\"close()\">Hide Task</button>\n            </mat-list-item>\n          </ng-container>\n          <mat-divider></mat-divider>\n        </mat-list>\n      <!-- </div> -->\n    </mat-sidenav>\n    <mat-sidenav-content>\n      <div *ngIf=\"!loading && runningGroupTask\">\n        <h1>{{runningGroupTask.group.name}}: {{runningGroupTask.workflow.name}}</h1>\n        <h2 style=\"font-weight: bold;\">{{ runningGroupTask.workflow.prompt }} </h2>\n        <section>\n          <ul style=\"list-style-position: inside; padding-left: 30px; font-weight: bold;\">\n            <li *ngIf=\"hasCommentRequirement(runningGroupTask)\">Comment on each post at least once!</li>\n            <li *ngIf=\"hasTagRequirement(runningGroupTask)\">Tag each post at least once!</li>\n            <li *ngIf=\"hasCreatePostRequirement(runningGroupTask)\">Create {{numberOfPosts(runningGroupTask)}} posts</li>\n          </ul>\n        </section>\n      </div>\n      <div class=\"heading no-workflow-select\" *ngIf=\"!runningGroupTask\">\n        No task selected!\n      </div>\n      <mat-spinner class=\"spinner\" *ngIf=\"loading\"></mat-spinner>\n      <div *ngIf=\"!loading\" style=\"display: flex; flex-direction: row;position: relative;\">\n        <div class=\"heading no-posts\" *ngIf=\"runningGroupTask && runningGroupTask.workflow.type !== TaskWorkflowType.GENERATION && (!posts || posts.length === 0)\">\n          No posts to review!\n        </div>\n\n        <div class=\"heading no-posts\" *ngIf=\"runningGroupTask && runningGroupTask.workflow.type === TaskWorkflowType.GENERATION && !showSubmittedPosts && (!posts || posts.length === 0)\">\n          Create a Post!\n        </div>\n\n        <div class=\"heading no-posts\" *ngIf=\"runningGroupTask && runningGroupTask.workflow.type === TaskWorkflowType.GENERATION && showSubmittedPosts && (!submittedPosts|| submittedPosts.length === 0)\">\n          No submitted posts!\n        </div>\n\n        <div class=\"heading no-posts\" *ngIf=\"runningGroupTask && runningGroupTask.workflow.type !== TaskWorkflowType.GENERATION && showSubmittedPosts && (!submittedPosts|| submittedPosts.length === 0)\">\n          No reviewed posts!\n        </div>\n        <!-- Draft post slider -->\n        <swiper [effect]=\"'cards'\" [grabCursor]=\"true\" class=\"mySwiper\" *ngIf=\"runningGroupTask && !showSubmittedPosts && posts && posts.length > 0\">\n          <ng-template swiperSlide *ngFor=\"let htmlPost of posts\">\n            <div (click)=\"$event.stopPropagation();\" style=\"display: flex; flex-direction: column; gap: 10px;\">\n              <app-html-post \n                (click)=\"$event.stopPropagation();\" \n                [post]=\"htmlPost\" [disableDownload]=\"true\"\n                [onCommentEvent]=\"onCommentEvent\" [onTagEvent]=\"onTagEvent\" \n                style=\"width: 360px; height: 100%;\">\n              </app-html-post>\n              <div style=\"display: flex; flex-direction: row;\">\n                <button (click)=\"swiper.swiperRef.slidePrev()\" mat-raised-button color=\"accent\" style=\"width: 45%; margin: 0px 5px;\">Previous</button>\n                <button (click)=\"swiper.swiperRef.slideNext()\" mat-raised-button color=\"accent\" style=\"width: 45%; margin: 0px 5px;\">Next</button>\n              </div>\n            </div>\n          </ng-template>\n        </swiper>\n        <!-- Submitted Post Slider -->\n        <swiper [effect]=\"'cards'\" [grabCursor]=\"true\" class=\"mySwiper\" *ngIf=\"runningGroupTask && showSubmittedPosts && submittedPosts && submittedPosts.length > 0\">\n          <ng-template swiperSlide *ngFor=\"let htmlPost of submittedPosts\">\n            <div (click)=\"$event.stopPropagation();\" style=\"display: flex; flex-direction: column; gap: 10px;\">\n              <app-html-post \n                (click)=\"$event.stopPropagation();\" \n                [post]=\"htmlPost\" [disableDownload]=\"true\" \n                style=\"width: 360px; height: 100%;\">\n              </app-html-post>\n              <div style=\"display: flex; flex-direction: row;\">\n                <button (click)=\"swiper.swiperRef.slidePrev()\" mat-raised-button color=\"accent\" style=\"width: 45%; margin: 0px 5px;\">Previous</button>\n                <button (click)=\"swiper.swiperRef.slideNext()\" mat-raised-button color=\"accent\" style=\"width: 45%; margin: 0px 5px;\">Next</button>\n              </div>\n            </div>\n          </ng-template>\n        </swiper>\n        <div class=\"create-post-button-container\">\n          <button\n          *ngIf=\"!loading && runningGroupTask && runningGroupTask.workflow.type === TaskWorkflowType.GENERATION && !createMorePosts(runningGroupTask) && runningGroupTask.groupTask.status !== GroupTaskStatus.COMPLETE\" \n          class=\"workflow-create-post\"\n          mat-fab\n          style=\"position: absolute; bottom:0;\"\n          color=\"accent\"\n          matTooltip=\"Create Post\"\n          (click)=\"addPost()\"\n          >\n          <mat-icon>add</mat-icon>\n        </button>\n      </div>\n        <div *ngIf=\"runningGroupTask\">\n          <mat-card class=\"example-card\" style=\"width: 350px; margin: 10px auto\">\n            <div style=\"margin-bottom: 10px;\">\n              <label class=\"example-margin\">Your Group's Progress</label>\n              <mat-progress-bar mode=\"determinate\" [value]=\"currentGroupProgress\"></mat-progress-bar>\n            </div>\n            <div>\n              <label class=\"example-margin\">Avg. Group's Progress</label>\n              <mat-progress-bar mode=\"determinate\" [value]=\"averageGroupProgress\" color=\"accent\"></mat-progress-bar>\n            </div>\n            <section>\n              <h4 style=\"font-weight: bold; margin-top:16px;\">Group Members:</h4>\n              <ul style=\"list-style-position: inside; padding-left: 0; font-weight: bold;\">\n                <li *ngFor=\"let member of members\">{{member.username}}</li>\n              </ul>\n            </section>\n          </mat-card>\n        </div>\n      </div>\n      <button *ngIf=\"!loading && runningGroupTask && runningGroupTask.groupTask.status !== GroupTaskStatus.COMPLETE && runningGroupTask.workflow.type !== TaskWorkflowType.GENERATION && !showSubmittedPosts\" mat-raised-button color=\"primary\" style=\"margin: 16px 10px; min-width: unset\" (click)=\"toggleSubmittedPosts()\">\n        View Completed\n      </button>\n      <button *ngIf=\"!loading && runningGroupTask && runningGroupTask.groupTask.status !== GroupTaskStatus.COMPLETE && runningGroupTask.workflow.type !== TaskWorkflowType.GENERATION && showSubmittedPosts\" mat-raised-button color=\"primary\" style=\"margin: 16px 10px; min-width: unset\" (click)=\"toggleSubmittedPosts()\">\n        View Drafts\n      </button>\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}