{"ast":null,"code":"import _asyncToGenerator from \"/Users/marieklinaeva/github/ck-board/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CompletionQuality } from 'src/app/models/todoItem';\nimport { EXPANDED_TODO_TYPE, TODO_TYPE_COLORS, EXPANDED_COMPLETION_QUALITY } from 'src/app/utils/constants';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { AddTodoListModalComponent } from '../add-todo-list-modal/add-todo-list-modal.component';\nimport { TodoItemCardModalComponent } from '../todo-item-card-modal/todo-item-card-modal.component';\nimport { ConfirmModalComponent } from '../confirm-modal/confirm-modal.component';\nimport { interval } from 'rxjs';\nimport { pausable } from 'rxjs-pausable';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/todoItem.service\";\nimport * as i3 from \"src/app/services/group.service\";\nfunction TodoListModalComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 29)(1, \"mat-checkbox\", 30);\n    i0.ɵɵlistener(\"change\", function TodoListModalComponent_th_8_Template_mat_checkbox_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r40.masterToggle(ctx_r40.personalDataSource) : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r0.selection.hasValue() && ctx_r0.isAllSelected(ctx_r0.personalDataSource))(\"indeterminate\", ctx_r0.selection.hasValue() && !ctx_r0.isAllSelected(ctx_r0.personalDataSource));\n  }\n}\nfunction TodoListModalComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"mat-checkbox\", 32);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_td_9_Template_mat_checkbox_click_1_listener($event) {\n      return $event.stopPropagation();\n    })(\"change\", function TodoListModalComponent_td_9_Template_mat_checkbox_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const row_r42 = restoredCtx.$implicit;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r44.selection.toggle(row_r42) : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r42 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r1.selection.isSelected(row_r42));\n  }\n}\nfunction TodoListModalComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Task Title\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const todo_r46 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", todo_r46.title, \" \");\n  }\n}\nfunction TodoListModalComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Task Type \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0,\n    margin: \"2px\"\n  };\n};\nfunction TodoListModalComponent_td_15_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r49 = ctx.$implicit;\n    const ctx_r48 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r48.todoItemColors[type_r49]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r48.todoItemTypes[type_r49], \" \");\n  }\n}\nfunction TodoListModalComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtemplate(1, TodoListModalComponent_td_15_mat_chip_1_Template, 2, 4, \"mat-chip\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r47 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", todo_r47.type);\n  }\n}\nfunction TodoListModalComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Deadline\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r50 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", todo_r50.deadline.date, \" @ \", todo_r50.deadline.time, \" \");\n  }\n}\nfunction TodoListModalComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 29);\n  }\n}\nfunction TodoListModalComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_td_21_Template_button_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const todo_r51 = restoredCtx.$implicit;\n      const ctx_r52 = i0.ɵɵnextContext();\n      ctx_r52.editTodoItem(todo_r51);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"more_vert\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction TodoListModalComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction TodoListModalComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 38);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_tr_23_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r56);\n      const row_r54 = restoredCtx.$implicit;\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.openTodoItemViewModal(row_r54));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_th_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 29)(1, \"mat-checkbox\", 30);\n    i0.ɵɵlistener(\"change\", function TodoListModalComponent_th_37_Template_mat_checkbox_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r58);\n      const ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r57.masterToggle(ctx_r57.groupDataSource) : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r12.selection.hasValue() && ctx_r12.isAllSelected(ctx_r12.groupDataSource))(\"indeterminate\", ctx_r12.selection.hasValue() && !ctx_r12.isAllSelected(ctx_r12.groupDataSource));\n  }\n}\nfunction TodoListModalComponent_td_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"mat-checkbox\", 32);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_td_38_Template_mat_checkbox_click_1_listener($event) {\n      return $event.stopPropagation();\n    })(\"change\", function TodoListModalComponent_td_38_Template_mat_checkbox_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const row_r59 = restoredCtx.$implicit;\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r61.selection.toggle(row_r59) : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r59 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r13.selection.isSelected(row_r59));\n  }\n}\nfunction TodoListModalComponent_th_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Task Title\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const todo_r63 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", todo_r63.title, \" \");\n  }\n}\nfunction TodoListModalComponent_th_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Task Type\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_44_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r66 = ctx.$implicit;\n    const ctx_r65 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r65.todoItemColors[type_r66]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r65.todoItemTypes[type_r66], \" \");\n  }\n}\nfunction TodoListModalComponent_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtemplate(1, TodoListModalComponent_td_44_mat_chip_1_Template, 2, 4, \"mat-chip\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r64 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", todo_r64.type);\n  }\n}\nfunction TodoListModalComponent_th_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Group Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"mat-chip\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const todo_r67 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.groupIDtoGroupMap[todo_r67.groupID].name, \" \");\n  }\n}\nfunction TodoListModalComponent_th_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Deadline\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r68 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", todo_r68.deadline.date, \" @ \", todo_r68.deadline.time, \" \");\n  }\n}\nfunction TodoListModalComponent_th_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 29);\n  }\n}\nfunction TodoListModalComponent_td_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_td_53_Template_button_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r71);\n      const todo_r69 = restoredCtx.$implicit;\n      const ctx_r70 = i0.ɵɵnextContext();\n      ctx_r70.editTodoItem(todo_r69);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"more_vert\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction TodoListModalComponent_tr_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction TodoListModalComponent_tr_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r74 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 38);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_tr_55_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r74);\n      const row_r72 = restoredCtx.$implicit;\n      const ctx_r73 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r73.openTodoItemViewModal(row_r72));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_th_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Task Title\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const todo_r75 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", todo_r75.title, \" \");\n  }\n}\nfunction TodoListModalComponent_th_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Completion Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r76 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", todo_r76.deadline.date, \" @ \", todo_r76.deadline.time, \" \");\n  }\n}\nfunction TodoListModalComponent_th_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Task Type\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_76_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r79 = ctx.$implicit;\n    const ctx_r78 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r78.todoItemColors[type_r79]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r78.todoItemTypes[type_r79], \" \");\n  }\n}\nfunction TodoListModalComponent_td_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtemplate(1, TodoListModalComponent_td_76_mat_chip_1_Template, 2, 4, \"mat-chip\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r77 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", todo_r77.type);\n  }\n}\nfunction TodoListModalComponent_th_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Category\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_79_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r80 = i0.ɵɵnextContext().$implicit;\n    const ctx_r81 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Group: \", ctx_r81.groupIDtoGroupMap[todo_r80.groupID].name, \" \");\n  }\n}\nfunction TodoListModalComponent_td_79_mat_chip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 42);\n    i0.ɵɵtext(1, \" Personal \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListModalComponent_td_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtemplate(1, TodoListModalComponent_td_79_mat_chip_1_Template, 2, 1, \"mat-chip\", 40);\n    i0.ɵɵtemplate(2, TodoListModalComponent_td_79_mat_chip_2_Template, 2, 0, \"mat-chip\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r80 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", todo_r80.groupID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !todo_r80.groupID);\n  }\n}\nfunction TodoListModalComponent_th_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Quality\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    color: a0\n  };\n};\nfunction TodoListModalComponent_td_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const todo_r84 = ctx.$implicit;\n    const ctx_r35 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c1, todo_r84.quality === ctx_r35.CompletionQuality.INCOMPLETE ? \"red\" : \"green\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r35.EXPANDED_COMPLETION_QUALITY[todo_r84.quality], \" \");\n  }\n}\nfunction TodoListModalComponent_th_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 29);\n  }\n}\nfunction TodoListModalComponent_td_85_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r87 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 31)(1, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_td_85_Template_button_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r87);\n      const todo_r85 = restoredCtx.$implicit;\n      const ctx_r86 = i0.ɵɵnextContext();\n      ctx_r86.restoreTodoItem(todo_r85);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"more_vert\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction TodoListModalComponent_tr_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction TodoListModalComponent_tr_87_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r90 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 38);\n    i0.ɵɵlistener(\"click\", function TodoListModalComponent_tr_87_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r90);\n      const row_r88 = restoredCtx.$implicit;\n      const ctx_r89 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r89.openTodoItemViewModal(row_r88));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class TodoListModalComponent {\n  constructor(dialog, todoItemService, groupService) {\n    this.dialog = dialog;\n    this.todoItemService = todoItemService;\n    this.groupService = groupService;\n    this.selection = new SelectionModel(true, []);\n    this.CONFETTI_DELAY = 3400;\n    this.CONFETTI_DURATION = 500;\n    this.todoItemTypes = EXPANDED_TODO_TYPE;\n    this.todoItemColors = TODO_TYPE_COLORS;\n    this.EXPANDED_COMPLETION_QUALITY = EXPANDED_COMPLETION_QUALITY;\n    this.CompletionQuality = CompletionQuality;\n    this.displayColumns = ['select', 'task-title', 'type', 'deadline', 'edit'];\n    this.displayGroupColumns = ['select', 'task-title', 'type', 'group', 'deadline', 'edit'];\n    this.completedDisplayColums = ['task-title', 'type', 'group', 'quality', 'completion-date', 'options'];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.getTodoItems();\n      _this.pausable = interval(800).pipe(pausable());\n      _this.pausable.subscribe(_this.shoot.bind(_this));\n      _this.pausable.pause();\n    })();\n  }\n  ngOnChanges() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.getTodoItems();\n    })();\n  }\n  getTodoItems() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.personalTodoItems = yield _this3.todoItemService.getByUserProject(_this3.userID, _this3.projectID);\n      _this3.userGroups = yield _this3.groupService.getByUserAndProject(_this3.userID, _this3.projectID);\n      _this3.groupIDtoGroupMap = _this3.userGroups.reduce(function (map, obj) {\n        map[obj.groupID] = obj;\n        return map;\n      }, {});\n      _this3.groupTodoItems = yield _this3.todoItemService.getMultipleByGroup(_this3.userGroups.map(group => group.groupID));\n      _this3.updateTableDataSource();\n    })();\n  }\n  updateTableDataSource() {\n    this.personalDataSource = new MatTableDataSource(this.personalTodoItems.filter(todoItem => !todoItem.completed && !todoItem.groupID));\n    this.groupDataSource = new MatTableDataSource(this.groupTodoItems.filter(todoItem => !todoItem.completed));\n    this.todoItemsMap = new Map(this.personalTodoItems.map(todo => [todo.todoItemID, todo]));\n    this.completedItemsDataSource = new MatTableDataSource([...this.todoItemsMap.values()].filter(todoItem => todoItem.completed));\n  }\n  isAllSelected(dataSource) {\n    const numSelected = this.selection.selected.length;\n    const numRows = dataSource.data.length;\n    return numSelected === numRows;\n  }\n  masterToggle(dataSource) {\n    this.isAllSelected(dataSource) ? this.selection.clear() : dataSource.data.forEach(row => this.selection.select(row));\n  }\n  completeTodoItem() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.playAudio();\n      setTimeout(() => {\n        _this4.shoot();\n        _this4.pausable.resume();\n        setTimeout(() => _this4.pausable.pause(), _this4.CONFETTI_DURATION);\n      }, _this4.CONFETTI_DELAY);\n    })();\n  }\n  handleDeleteTodoItems() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      if (_this5.selection.selected.length > 0) {\n        _this5.dialog.open(ConfirmModalComponent, {\n          width: '500px',\n          data: {\n            title: 'Confirmation',\n            message: 'This will permanently delete the selected Todo Items. Are you sure you want to do this?',\n            handleConfirm: function () {\n              var _ref = _asyncToGenerator(function* () {\n                for (let i = 0; i < _this5.selection.selected.length; i++) {\n                  yield _this5.todoItemService.remove(_this5.selection.selected[i].todoItemID);\n                }\n                yield _this5.getTodoItems();\n              });\n              return function handleConfirm() {\n                return _ref.apply(this, arguments);\n              };\n            }()\n          }\n        });\n        ``;\n      }\n    })();\n  }\n  deleteTodoItems() {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      _this6.selection.selected.forEach( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (todoItem) {\n          yield _this6.todoItemService.remove(todoItem.todoItemID);\n        });\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      yield _this6.getTodoItems();\n    })();\n  }\n  openAddTodoItemModal() {\n    var _this7 = this;\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        onComplete: function () {\n          var _ref3 = _asyncToGenerator(function* (todoItem) {\n            let dataSource;\n            if (todoItem.groupID) {\n              _this7.groupTodoItems.push(todoItem);\n              dataSource = _this7.groupDataSource;\n            } else {\n              dataSource = _this7.personalDataSource;\n              _this7.personalTodoItems.push(todoItem);\n            }\n            const data = dataSource.data;\n            data.push(todoItem);\n            dataSource.data = data;\n          });\n          return function onComplete(_x2) {\n            return _ref3.apply(this, arguments);\n          };\n        }()\n      }\n    });\n  }\n  editTodoItem(todoItem) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      _this8.dialog.open(AddTodoListModalComponent, {\n        width: '600px',\n        data: {\n          projectID: _this8.projectID,\n          userID: _this8.userID,\n          todoItem: todoItem,\n          group: todoItem.groupID ? yield _this8.groupService.getById(todoItem.groupID) : null,\n          onComplete: function () {\n            var _ref4 = _asyncToGenerator(function* (t) {\n              if (t && t !== todoItem) {\n                _this8.groupTodoItems = _this8.groupTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n                _this8.personalTodoItems = _this8.personalTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n                _this8.updateTableDataSource();\n                if (t.groupID) {\n                  _this8.groupTodoItems.push(t);\n                } else {\n                  _this8.personalTodoItems.push(t);\n                }\n                _this8.updateTableDataSource();\n              }\n            });\n            return function onComplete(_x3) {\n              return _ref4.apply(this, arguments);\n            };\n          }()\n        }\n      });\n    })();\n  }\n  openTodoItemViewModal(todoItem) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      _this9.dialog.open(TodoItemCardModalComponent, {\n        width: '500px',\n        data: {\n          todoItem: todoItem,\n          projectID: _this9.projectID,\n          userID: _this9.userID,\n          group: todoItem.groupID ? yield _this9.groupService.getById(todoItem.groupID) : null,\n          onComplete: function () {\n            var _ref5 = _asyncToGenerator(function* (t) {\n              _this9.groupTodoItems = _this9.groupTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n              _this9.personalTodoItems = _this9.personalTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n              _this9.todoItemsMap.delete(todoItem.todoItemID);\n              if (t.groupID) {\n                _this9.groupTodoItems.push(t);\n              } else {\n                _this9.personalTodoItems.push(t);\n              }\n              _this9.updateTableDataSource();\n              if (t.quality !== CompletionQuality.INCOMPLETE) yield _this9.completeTodoItem();\n            });\n            return function onComplete(_x4) {\n              return _ref5.apply(this, arguments);\n            };\n          }(),\n          onEdit: function () {\n            var _ref6 = _asyncToGenerator(function* (t) {\n              if (t && t !== todoItem) {\n                _this9.groupTodoItems = _this9.groupTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n                _this9.personalTodoItems = _this9.personalTodoItems.filter(ti => ti.todoItemID !== t.todoItemID);\n                _this9.updateTableDataSource();\n                if (t.groupID) {\n                  _this9.groupTodoItems.push(t);\n                } else {\n                  _this9.personalTodoItems.push(t);\n                }\n                _this9.updateTableDataSource();\n              }\n            });\n            return function onEdit(_x5) {\n              return _ref6.apply(this, arguments);\n            };\n          }(),\n          onRestore: function () {\n            var _ref7 = _asyncToGenerator(function* (t) {\n              if (t) {\n                _this9.todoItemsMap.delete(todoItem.todoItemID);\n                if (t.groupID) {\n                  _this9.groupTodoItems.push(t);\n                } else {\n                  _this9.personalTodoItems.push(t);\n                }\n                _this9.updateTableDataSource();\n              }\n            });\n            return function onRestore(_x6) {\n              return _ref7.apply(this, arguments);\n            };\n          }()\n        }\n      });\n    })();\n  }\n  restoreTodoItem(todoItem) {\n    var _this10 = this;\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        restoreTodoItem: todoItem,\n        onComplete: function () {\n          var _ref8 = _asyncToGenerator(function* (t) {\n            if (t) {\n              _this10.todoItemsMap.delete(todoItem.todoItemID);\n              if (t.groupID) {\n                _this10.groupTodoItems.push(t);\n              } else {\n                _this10.personalTodoItems.push(t);\n              }\n              _this10.updateTableDataSource();\n            }\n          });\n          return function onComplete(_x7) {\n            return _ref8.apply(this, arguments);\n          };\n        }()\n      }\n    });\n  }\n  shoot() {\n    try {\n      this.confetti({\n        angle: this.random(60, 120),\n        spread: this.random(10, 50),\n        particleCount: this.random(50, 60),\n        origin: {\n          y: 0.6\n        }\n      });\n    } catch (e) {\n      // noop, confettijs may not be loaded yet\n    }\n  }\n  playAudio() {\n    const audio = new Audio();\n    audio.src = '../../../assets/celebration-sound-effect.wav';\n    audio.load();\n    audio.play();\n  }\n  random(min, max) {\n    return Math.random() * (max - min) + min;\n  }\n  confetti(args) {\n    return window['confetti'].apply(this, arguments);\n  }\n}\nTodoListModalComponent.ɵfac = function TodoListModalComponent_Factory(t) {\n  return new (t || TodoListModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.TodoItemService), i0.ɵɵdirectiveInject(i3.GroupService));\n};\nTodoListModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoListModalComponent,\n  selectors: [[\"app-todo-list-modal\"]],\n  inputs: {\n    projectID: \"projectID\",\n    userID: \"userID\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 88,\n  vars: 9,\n  consts: [[\"mat-dialog-title\", \"\"], [2, \"position\", \"relative\"], [\"dynamicHeight\", \"\", \"animationDuration\", \"0ms\"], [\"label\", \"Personal Todo List\"], [1, \"mat-elevation-z3\", \"table_style\"], [\"mat-table\", \"\", 1, \"table\", 3, \"dataSource\"], [\"matColumnDef\", \"select\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"task-title\"], [\"matColumnDef\", \"type\"], [\"mat-header-cell\", \"\", \"class\", \"table-type-header\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"deadline\"], [\"matColumnDef\", \"edit\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"todoItemRow\", 3, \"click\", 4, \"matRowDef\", \"matRowDefColumns\"], [2, \"display\", \"flex\", \"margin-top\", \"10px\", \"height\", \"60px\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", \"selected\", \"\", 2, \"text-align\", \"center\", \"margin-right\", \"10px\", 3, \"click\"], [1, \"chip-icon\", 2, \"width\", \"0px\", \"overflow\", \"initial\"], [2, \"width\", \"100%\", \"text-align\", \"center\"], [\"mat-mini-fab\", \"\", \"color\", \"accent\", \"matTooltip\", \"Add Todo Item\", \"matTooltipPosition\", \"before\", 1, \"addTodoItemButton\", 3, \"click\"], [1, \"addTodoItemIcon\"], [\"label\", \"Group Todo List\"], [\"matColumnDef\", \"group\"], [\"label\", \"Completed Tasks\"], [\"matColumnDef\", \"completion-date\"], [\"matColumnDef\", \"quality\"], [\"mat-cell\", \"\", 3, \"ngStyle\", 4, \"matCellDef\"], [\"matColumnDef\", \"options\"], [\"mat-header-cell\", \"\"], [3, \"checked\", \"indeterminate\", \"change\"], [\"mat-cell\", \"\"], [3, \"checked\", \"click\", \"change\"], [\"mat-header-cell\", \"\", 1, \"table-type-header\"], [\"class\", \"chip-base\", 3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [1, \"chip-base\", 3, \"ngStyle\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Edit Task\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 1, \"todoItemRow\", 3, \"click\"], [1, \"chip-base\", 2, \"background-color\", \"#63e388\"], [\"class\", \"chip-base\", \"style\", \"background-color: #63e388\", 4, \"ngIf\"], [\"class\", \"chip-base\", \"style\", \"background-color: #f8391d\", 4, \"ngIf\"], [1, \"chip-base\", 2, \"background-color\", \"#f8391d\"], [\"mat-cell\", \"\", 3, \"ngStyle\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Restore Task\", 3, \"click\"]],\n  template: function TodoListModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Todo List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"mat-tab-group\", 2)(4, \"mat-tab\", 3)(5, \"div\", 4)(6, \"table\", 5);\n      i0.ɵɵelementContainerStart(7, 6);\n      i0.ɵɵtemplate(8, TodoListModalComponent_th_8_Template, 2, 2, \"th\", 7);\n      i0.ɵɵtemplate(9, TodoListModalComponent_td_9_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(10, 9);\n      i0.ɵɵtemplate(11, TodoListModalComponent_th_11_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(12, TodoListModalComponent_td_12_Template, 3, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(13, 10);\n      i0.ɵɵtemplate(14, TodoListModalComponent_th_14_Template, 2, 0, \"th\", 11);\n      i0.ɵɵtemplate(15, TodoListModalComponent_td_15_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(16, 12);\n      i0.ɵɵtemplate(17, TodoListModalComponent_th_17_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(18, TodoListModalComponent_td_18_Template, 2, 2, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(19, 13);\n      i0.ɵɵtemplate(20, TodoListModalComponent_th_20_Template, 1, 0, \"th\", 7);\n      i0.ɵɵtemplate(21, TodoListModalComponent_td_21_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(22, TodoListModalComponent_tr_22_Template, 1, 0, \"tr\", 14);\n      i0.ɵɵtemplate(23, TodoListModalComponent_tr_23_Template, 1, 0, \"tr\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"mat-chip-list\", 16)(25, \"mat-chip\", 17);\n      i0.ɵɵlistener(\"click\", function TodoListModalComponent_Template_mat_chip_click_25_listener() {\n        return ctx.handleDeleteTodoItems();\n      });\n      i0.ɵɵelementStart(26, \"mat-icon\", 18);\n      i0.ɵɵtext(27, \"delete\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"span\", 19);\n      i0.ɵɵtext(29, \" Delete Todo Items \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function TodoListModalComponent_Template_button_click_30_listener() {\n        return ctx.openAddTodoItemModal();\n      });\n      i0.ɵɵelementStart(31, \"mat-icon\", 21);\n      i0.ɵɵtext(32, \"add\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(33, \"mat-tab\", 22)(34, \"div\", 4)(35, \"table\", 5);\n      i0.ɵɵelementContainerStart(36, 6);\n      i0.ɵɵtemplate(37, TodoListModalComponent_th_37_Template, 2, 2, \"th\", 7);\n      i0.ɵɵtemplate(38, TodoListModalComponent_td_38_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(39, 9);\n      i0.ɵɵtemplate(40, TodoListModalComponent_th_40_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(41, TodoListModalComponent_td_41_Template, 3, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(42, 10);\n      i0.ɵɵtemplate(43, TodoListModalComponent_th_43_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(44, TodoListModalComponent_td_44_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(45, 23);\n      i0.ɵɵtemplate(46, TodoListModalComponent_th_46_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(47, TodoListModalComponent_td_47_Template, 3, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(48, 12);\n      i0.ɵɵtemplate(49, TodoListModalComponent_th_49_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(50, TodoListModalComponent_td_50_Template, 2, 2, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(51, 13);\n      i0.ɵɵtemplate(52, TodoListModalComponent_th_52_Template, 1, 0, \"th\", 7);\n      i0.ɵɵtemplate(53, TodoListModalComponent_td_53_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(54, TodoListModalComponent_tr_54_Template, 1, 0, \"tr\", 14);\n      i0.ɵɵtemplate(55, TodoListModalComponent_tr_55_Template, 1, 0, \"tr\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(56, \"mat-chip-list\", 16)(57, \"mat-chip\", 17);\n      i0.ɵɵlistener(\"click\", function TodoListModalComponent_Template_mat_chip_click_57_listener() {\n        return ctx.handleDeleteTodoItems();\n      });\n      i0.ɵɵelementStart(58, \"mat-icon\", 18);\n      i0.ɵɵtext(59, \"delete\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"span\", 19);\n      i0.ɵɵtext(61, \" Delete Todo Items \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(62, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function TodoListModalComponent_Template_button_click_62_listener() {\n        return ctx.openAddTodoItemModal();\n      });\n      i0.ɵɵelementStart(63, \"mat-icon\", 21);\n      i0.ɵɵtext(64, \"add\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(65, \"mat-tab\", 24)(66, \"div\", 4)(67, \"table\", 5);\n      i0.ɵɵelementContainerStart(68, 9);\n      i0.ɵɵtemplate(69, TodoListModalComponent_th_69_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(70, TodoListModalComponent_td_70_Template, 3, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(71, 25);\n      i0.ɵɵtemplate(72, TodoListModalComponent_th_72_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(73, TodoListModalComponent_td_73_Template, 2, 2, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(74, 10);\n      i0.ɵɵtemplate(75, TodoListModalComponent_th_75_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(76, TodoListModalComponent_td_76_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(77, 23);\n      i0.ɵɵtemplate(78, TodoListModalComponent_th_78_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(79, TodoListModalComponent_td_79_Template, 3, 2, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(80, 26);\n      i0.ɵɵtemplate(81, TodoListModalComponent_th_81_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(82, TodoListModalComponent_td_82_Template, 2, 4, \"td\", 27);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(83, 28);\n      i0.ɵɵtemplate(84, TodoListModalComponent_th_84_Template, 1, 0, \"th\", 7);\n      i0.ɵɵtemplate(85, TodoListModalComponent_td_85_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(86, TodoListModalComponent_tr_86_Template, 1, 0, \"tr\", 14);\n      i0.ɵɵtemplate(87, TodoListModalComponent_tr_87_Template, 1, 0, \"tr\", 15);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"dataSource\", ctx.personalDataSource);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayColumns);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"dataSource\", ctx.groupDataSource);\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayGroupColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayGroupColumns);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"dataSource\", ctx.completedItemsDataSource);\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.completedDisplayColums);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.completedDisplayColums);\n    }\n  },\n  styles: [\".table[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.todoItemRow[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  background: #f5f5f5;\\n}\\n\\n.mat-column-task-title[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  padding: 0 12px;\\n}\\n\\n.mat-column-group[_ngcontent-%COMP%] {\\n  margin-right: 16px;\\n  font-size: 16px;\\n  padding-right: 16px;\\n}\\n\\n.mat-column-quality[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  padding: 0 12px;\\n}\\n\\n.mat-column-type[_ngcontent-%COMP%] {\\n  margin-right: 16px;\\n  font-size: 16px;\\n  margin: 10px 0;\\n}\\n\\n.mat-column-deadline[_ngcontent-%COMP%], .mat-column-completion-date[_ngcontent-%COMP%] {\\n  font-style: italic;\\n  font-size: 15px;\\n  margin-right: 16px;\\n}\\n\\n.addTodoItemButton[_ngcontent-%COMP%] {\\n  float: right;\\n  position: absolute;\\n  right: 0;\\n  margin: 10px 10px;\\n}\\n\\n.canvas[_ngcontent-%COMP%] {\\n  height: 100%; \\n  width: 100%;\\n}\\n\\n.chip-icon[_ngcontent-%COMP%] {\\n  padding-right: 10px;\\n  width: 12px;\\n  height: 15px;\\n  font-size: medium;\\n  margin-right: 10px;\\n}\\n\\n.chip-base[_ngcontent-%COMP%] {\\n  line-height: 1.1rem;\\n  height: 100%;\\n}\\n\\n.table_style[_ngcontent-%COMP%] {\\n  overflow-y: auto;\\n  max-height: 500px;\\n  margin-top: 15px;\\n}\\n\\n.mat_icon_styling[_ngcontent-%COMP%] {\\n  width: 0px;\\n  overflow: initial;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90b2RvLWxpc3QtbW9kYWwvdG9kby1saXN0LW1vZGFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQSxFQUFBLHlDQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxVQUFBO0VBQ0EsaUJBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4udG9kb0l0ZW1Sb3c6aG92ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG59XG5cbi5tYXQtY29sdW1uLXRhc2stdGl0bGUge1xuICBmb250LXNpemU6IDE2cHg7XG4gIHBhZGRpbmc6IDAgMTJweDtcbn1cblxuLm1hdC1jb2x1bW4tZ3JvdXAge1xuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgcGFkZGluZy1yaWdodDogMTZweDtcbn1cblxuLm1hdC1jb2x1bW4tcXVhbGl0eSB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgcGFkZGluZzogMCAxMnB4O1xufVxuXG4ubWF0LWNvbHVtbi10eXBlIHtcbiAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIG1hcmdpbjogMTBweCAwO1xufVxuXG4ubWF0LWNvbHVtbi1kZWFkbGluZSxcbi5tYXQtY29sdW1uLWNvbXBsZXRpb24tZGF0ZSB7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgZm9udC1zaXplOiAxNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG59XG5cbi5hZGRUb2RvSXRlbUJ1dHRvbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgbWFyZ2luOiAxMHB4IDEwcHg7XG59XG5cbi5jYW52YXMge1xuICBoZWlnaHQ6IDEwMCU7IC8qIHdlIG5lZWQgdGhlc2UgZm9yIGZ1bGwtc2NyZWVuIGVmZmVjdCAqL1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNoaXAtaWNvbiB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gIHdpZHRoOiAxMnB4O1xuICBoZWlnaHQ6IDE1cHg7XG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5jaGlwLWJhc2Uge1xuICBsaW5lLWhlaWdodDogMS4xcmVtO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi50YWJsZV9zdHlsZSB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDUwMHB4O1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4ubWF0X2ljb25fc3R5bGluZyB7XG4gIHdpZHRoOiAwcHg7XG4gIG92ZXJmbG93OiBpbml0aWFsO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAQA,SAAmBA,iBAAiB,QAAQ,yBAAyB;AACrE,SACEC,kBAAkB,EAClBC,gBAAgB,EAChBC,2BAA2B,QACtB,yBAAyB;AAChC,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,SAASC,0BAA0B,QAAQ,wDAAwD;AACnG,SAASC,qBAAqB,QAAQ,0CAA0C;AAChF,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAA6BC,QAAQ,QAAQ,eAAe;;;;;;;;ICbhDC,8BAAsC;IAElCA;MAAAA;MAAA;MAAA,OAAUA,wBAASC,gDAAgC,GAAG,IAAI;IAAA,EAAC;IAQ7DD,iBAAe;;;;IAPbA,eAEC;IAFDA,wGAEC;;;;;;IAOLA,8BAAmC;IAE/BA;MAAA,OAASE,wBAAwB;IAAA,EAAC;MAAA;MAAA;MAAA;MAAA,OACxBF,wBAASG,iCAAqB,GAAG,IAAI;IAAA,EADb;IAIpCH,iBAAe;;;;;IAFbA,eAAqC;IAArCA,8DAAqC;;;;;IAOzCA,8BAAsC;IAAAA,0BAAU;IAAAA,iBAAK;;;;;IACrDA,8BAAoC;IAC/BA,YAAiB;IAAAA,iBAAI;;;;IAArBA,eAAiB;IAAjBA,8CAAiB;;;;;IAKtBA,8BAAgE;IAACA,2BAAU;IAAAA,iBAAK;;;;;;;;;;;IAE9EA,oCAOC;IACCA,YACF;IAAAA,iBAAW;;;;;IANTA,sFAGE;IAEFA,eACF;IADEA,gEACF;;;;;IAVFA,8BAAoC;IAClCA,wFASW;IACbA,iBAAK;;;;IARgBA,eAAY;IAAZA,uCAAY;;;;;IAYjCA,8BAAsC;IAAAA,wBAAQ;IAAAA,iBAAK;;;;;IACnDA,8BAAoC;IAClCA,YACF;IAAAA,iBAAK;;;;IADHA,eACF;IADEA,sFACF;;;;;IAIAA,yBAA2C;;;;;;IAC3CA,8BAAoC;IAGhCA;MAAA;MAAA;MAAA;MAASI,8BAAkB;MAAA,OAAEJ,uCAAwB;IAAA,EAAC;IAGtDA,gCAAU;IAAAA,yBAAS;IAAAA,iBAAW;;;;;IAKpCA,yBAA0D;;;;;;IAC1DA,8BAKC;IAFCA;MAAA;MAAA;MAAA;MAAA,OAASA,qDAA0B;IAAA,EAAC;IAErCA,iBAAK;;;;;;IAkCJA,8BAAsC;IAElCA;MAAAA;MAAA;MAAA,OAAUA,wBAASK,6CAA6B,GAAG,IAAI;IAAA,EAAC;IAQ1DL,iBAAe;;;;IAPbA,eAEC;IAFDA,wGAEC;;;;;;IAOLA,8BAAmC;IAE/BA;MAAA,OAASE,wBAAwB;IAAA,EAAC;MAAA;MAAA;MAAA;MAAA,OACxBF,wBAASM,iCAAqB,GAAG,IAAI;IAAA,EADb;IAIpCN,iBAAe;;;;;IAFbA,eAAqC;IAArCA,+DAAqC;;;;;IAOzCA,8BAAsC;IAAAA,0BAAU;IAAAA,iBAAK;;;;;IACrDA,8BAAoC;IAC/BA,YAAiB;IAAAA,iBAAI;;;;IAArBA,eAAiB;IAAjBA,8CAAiB;;;;;IAKtBA,8BAAsC;IAAAA,yBAAS;IAAAA,iBAAK;;;;;IAElDA,oCAOC;IACCA,YACF;IAAAA,iBAAW;;;;;IANTA,sFAGE;IAEFA,eACF;IADEA,gEACF;;;;;IAVFA,8BAAoC;IAClCA,wFASW;IACbA,iBAAK;;;;IARgBA,eAAY;IAAZA,uCAAY;;;;;IAYjCA,8BAAsC;IAAAA,0BAAU;IAAAA,iBAAK;;;;;IACrDA,8BAAoC;IAEhCA,YACF;IAAAA,iBAAW;;;;;IADTA,eACF;IADEA,iFACF;;;;;IAKFA,8BAAsC;IAAAA,wBAAQ;IAAAA,iBAAK;;;;;IACnDA,8BAAoC;IAClCA,YACF;IAAAA,iBAAK;;;;IADHA,eACF;IADEA,sFACF;;;;;IAIAA,yBAA2C;;;;;;IAC3CA,8BAAoC;IAGhCA;MAAA;MAAA;MAAA;MAASO,8BAAkB;MAAA,OAAEP,uCAAwB;IAAA,EAAC;IAGtDA,gCAAU;IAAAA,yBAAS;IAAAA,iBAAW;;;;;IAKpCA,yBAA+D;;;;;;IAC/DA,8BAKC;IADCA;MAAA;MAAA;MAAA;MAAA,OAASA,qDAA0B;IAAA,EAAC;IACrCA,iBAAK;;;;;IAkCJA,8BAAsC;IAAAA,0BAAU;IAAAA,iBAAK;;;;;IACrDA,8BAAoC;IAC/BA,YAAiB;IAAAA,iBAAI;;;;IAArBA,eAAiB;IAAjBA,8CAAiB;;;;;IAKtBA,8BAAsC;IAAAA,+BAAe;IAAAA,iBAAK;;;;;IAC1DA,8BAAoC;IAClCA,YACF;IAAAA,iBAAK;;;;IADHA,eACF;IADEA,sFACF;;;;;IAIAA,8BAAsC;IAAAA,yBAAS;IAAAA,iBAAK;;;;;IAElDA,oCAOC;IACCA,YACF;IAAAA,iBAAW;;;;;IANTA,sFAGE;IAEFA,eACF;IADEA,gEACF;;;;;IAVFA,8BAAoC;IAClCA,wFASW;IACbA,iBAAK;;;;IARgBA,eAAY;IAAZA,uCAAY;;;;;IAYjCA,8BAAsC;IAAAA,wBAAQ;IAAAA,iBAAK;;;;;IAEjDA,oCAIC;IACCA,YACF;IAAAA,iBAAW;;;;;IADTA,eACF;IADEA,wFACF;;;;;IACAA,oCAIC;IACCA,0BACF;IAAAA,iBAAW;;;;;IAdbA,8BAAoC;IAClCA,wFAMW;IACXA,wFAMW;IACbA,iBAAK;;;;IAZAA,eAAkB;IAAlBA,uCAAkB;IAOlBA,eAAmB;IAAnBA,wCAAmB;;;;;IASxBA,8BAAsC;IAAAA,uBAAO;IAAAA,iBAAK;;;;;;;;;;IAClDA,8BASC;IACCA,YACF;IAAAA,iBAAK;;;;;IARHA,iIAKE;IAEFA,eACF;IADEA,sFACF;;;;;IAIAA,yBAA2C;;;;;;IAC3CA,8BAAoC;IAGhCA;MAAA;MAAA;MAAA;MAASQ,iCAAqB;MAAA,OAAER,uCAAwB;IAAA,EAAC;IAGzDA,gCAAU;IAAAA,yBAAS;IAAAA,iBAAW;;;;;IAKpCA,yBAAkE;;;;;;IAClEA,8BAKC;IADCA;MAAA;MAAA;MAAA;MAAA,OAASA,qDAA0B;IAAA,EAAC;IACrCA,iBAAK;;;AD1RhB,OAAM,MAAOS,sBAAsB;EA4CjCC,YACSC,MAAiB,EACjBC,eAAgC,EAChCC,YAA0B;IAF1B,WAAM,GAANF,MAAM;IACN,oBAAe,GAAfC,eAAe;IACf,iBAAY,GAAZC,YAAY;IArCrB,cAAS,GAAG,IAAInB,cAAc,CAAW,IAAI,EAAE,EAAE,CAAC;IAGlD,mBAAc,GAAG,IAAI;IACrB,sBAAiB,GAAG,GAAG;IACvB,kBAAa,GAAGJ,kBAAkB;IAClC,mBAAc,GAAGC,gBAAgB;IACjC,gCAA2B,GACzBC,2BAA2B;IAC7B,sBAAiB,GAA6BH,iBAAiB;IAC/D,mBAAc,GAAG,CAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC;IACrE,wBAAmB,GAAG,CACpB,QAAQ,EACR,YAAY,EACZ,MAAM,EACN,OAAO,EACP,UAAU,EACV,MAAM,CACP;IACD,2BAAsB,GAAG,CACvB,YAAY,EACZ,MAAM,EACN,OAAO,EACP,SAAS,EACT,iBAAiB,EACjB,SAAS,CACV;EAYE;EAEGyB,QAAQ;IAAA;IAAA;MACZ,MAAM,KAAI,CAACC,YAAY,EAAE;MACzB,KAAI,CAAChB,QAAQ,GAAGD,QAAQ,CAAC,GAAG,CAAC,CAACkB,IAAI,CAChCjB,QAAQ,EAAE,CACmB;MAC/B,KAAI,CAACA,QAAQ,CAACkB,SAAS,CAAC,KAAI,CAACC,KAAK,CAACC,IAAI,CAAC,KAAI,CAAC,CAAC;MAC9C,KAAI,CAACpB,QAAQ,CAACqB,KAAK,EAAE;IAAC;EACxB;EAEMC,WAAW;IAAA;IAAA;MACf,MAAM,MAAI,CAACN,YAAY,EAAE;IAAC;EAC5B;EAEMA,YAAY;IAAA;IAAA;MAChB,MAAI,CAACO,iBAAiB,SAAS,MAAI,CAACV,eAAe,CAACW,gBAAgB,CAClE,MAAI,CAACC,MAAM,EACX,MAAI,CAACC,SAAS,CACf;MAED,MAAI,CAACC,UAAU,SAAS,MAAI,CAACb,YAAY,CAACc,mBAAmB,CAC3D,MAAI,CAACH,MAAM,EACX,MAAI,CAACC,SAAS,CACf;MAED,MAAI,CAACG,iBAAiB,GAAG,MAAI,CAACF,UAAU,CAACG,MAAM,CAAC,UAAUC,GAAG,EAAEC,GAAG;QAChED,GAAG,CAACC,GAAG,CAACC,OAAO,CAAC,GAAGD,GAAG;QACtB,OAAOD,GAAG;MACZ,CAAC,EAAE,EAAE,CAAC;MAEN,MAAI,CAACG,cAAc,SAAS,MAAI,CAACrB,eAAe,CAACsB,kBAAkB,CACjE,MAAI,CAACR,UAAU,CAACI,GAAG,CAAEK,KAAK,IAAKA,KAAK,CAACH,OAAO,CAAC,CAC9C;MAED,MAAI,CAACI,qBAAqB,EAAE;IAAC;EAC/B;EAEAA,qBAAqB;IACnB,IAAI,CAACC,kBAAkB,GAAG,IAAI5C,kBAAkB,CAC9C,IAAI,CAAC6B,iBAAiB,CAACgB,MAAM,CAC1BC,QAAkB,IAAK,CAACA,QAAQ,CAACC,SAAS,IAAI,CAACD,QAAQ,CAACP,OAAO,CACjE,CACF;IAED,IAAI,CAACS,eAAe,GAAG,IAAIhD,kBAAkB,CAC3C,IAAI,CAACwC,cAAc,CAACK,MAAM,CAAEC,QAAkB,IAAK,CAACA,QAAQ,CAACC,SAAS,CAAC,CACxE;IAED,IAAI,CAACE,YAAY,GAAG,IAAIC,GAAG,CACzB,IAAI,CAACrB,iBAAiB,CAACQ,GAAG,CAAEc,IAAI,IAAK,CAACA,IAAI,CAACC,UAAU,EAAED,IAAI,CAAC,CAAC,CAC9D;IAED,IAAI,CAACE,wBAAwB,GAAG,IAAIrD,kBAAkB,CACpD,CAAC,GAAG,IAAI,CAACiD,YAAY,CAACK,MAAM,EAAE,CAAC,CAACT,MAAM,CACnCC,QAAkB,IAAKA,QAAQ,CAACC,SAAS,CAC3C,CACF;EACH;EAEAQ,aAAa,CAACC,UAAU;IACtB,MAAMC,WAAW,GAAG,IAAI,CAACC,SAAS,CAACC,QAAQ,CAACC,MAAM;IAClD,MAAMC,OAAO,GAAGL,UAAU,CAACM,IAAI,CAACF,MAAM;IACtC,OAAOH,WAAW,KAAKI,OAAO;EAChC;EAEAE,YAAY,CAACP,UAAU;IACrB,IAAI,CAACD,aAAa,CAACC,UAAU,CAAC,GAC1B,IAAI,CAACE,SAAS,CAACM,KAAK,EAAE,GACtBR,UAAU,CAACM,IAAI,CAACG,OAAO,CAAEC,GAAG,IAAK,IAAI,CAACR,SAAS,CAACS,MAAM,CAACD,GAAG,CAAC,CAAC;EAClE;EAEME,gBAAgB;IAAA;IAAA;MACpB,MAAI,CAACC,SAAS,EAAE;MAChBC,UAAU,CAAC,MAAK;QACd,MAAI,CAAC7C,KAAK,EAAE;QACZ,MAAI,CAACnB,QAAQ,CAACiE,MAAM,EAAE;QACtBD,UAAU,CAAC,MAAM,MAAI,CAAChE,QAAQ,CAACqB,KAAK,EAAE,EAAE,MAAI,CAAC6C,iBAAiB,CAAC;MACjE,CAAC,EAAE,MAAI,CAACC,cAAc,CAAC;IAAC;EAC1B;EAEMC,qBAAqB;IAAA;IAAA;MACzB,IAAI,MAAI,CAAChB,SAAS,CAACC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;QACtC,MAAI,CAAC1C,MAAM,CAACyD,IAAI,CAACvE,qBAAqB,EAAE;UACtCwE,KAAK,EAAE,OAAO;UACdd,IAAI,EAAE;YACJe,KAAK,EAAE,cAAc;YACrBC,OAAO,EACL,yFAAyF;YAC3FC,aAAa;cAAA,6BAAE,aAAW;gBACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,MAAI,CAACtB,SAAS,CAACC,QAAQ,CAACC,MAAM,EAAEoB,CAAC,EAAE,EAAE;kBACvD,MAAM,MAAI,CAAC7D,eAAe,CAAC8D,MAAM,CAC/B,MAAI,CAACvB,SAAS,CAACC,QAAQ,CAACqB,CAAC,CAAC,CAAC5B,UAAU,CACtC;;gBAEH,MAAM,MAAI,CAAC9B,YAAY,EAAE;cAC3B,CAAC;cAAA;gBAAA;cAAA;YAAA;;SAEJ,CAAC;QACF,EAAE;;IACH;EACH;EAEM4D,eAAe;IAAA;IAAA;MACnB,MAAI,CAACxB,SAAS,CAACC,QAAQ,CAACM,OAAO;QAAA,8BAAC,WAAOnB,QAAQ,EAAI;UACjD,MAAM,MAAI,CAAC3B,eAAe,CAAC8D,MAAM,CAACnC,QAAQ,CAACM,UAAU,CAAC;QACxD,CAAC;QAAA;UAAA;QAAA;MAAA,IAAC;MACF,MAAM,MAAI,CAAC9B,YAAY,EAAE;IAAC;EAC5B;EAEA6D,oBAAoB;IAAA;IAClB,IAAI,CAACjE,MAAM,CAACyD,IAAI,CAACzE,yBAAyB,EAAE;MAC1C0E,KAAK,EAAE,OAAO;MACdd,IAAI,EAAE;QACJ9B,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBD,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBqD,UAAU;UAAA,8BAAE,WAAOtC,QAAkB,EAAI;YACvC,IAAIU,UAAwC;YAC5C,IAAIV,QAAQ,CAACP,OAAO,EAAE;cACpB,MAAI,CAACC,cAAc,CAAC6C,IAAI,CAACvC,QAAQ,CAAC;cAClCU,UAAU,GAAG,MAAI,CAACR,eAAe;aAClC,MAAM;cACLQ,UAAU,GAAG,MAAI,CAACZ,kBAAkB;cACpC,MAAI,CAACf,iBAAiB,CAACwD,IAAI,CAACvC,QAAQ,CAAC;;YAEvC,MAAMgB,IAAI,GAAGN,UAAU,CAACM,IAAI;YAC5BA,IAAI,CAACuB,IAAI,CAACvC,QAAQ,CAAC;YACnBU,UAAU,CAACM,IAAI,GAAGA,IAAI;UACxB,CAAC;UAAA;YAAA;UAAA;QAAA;;KAEJ,CAAC;EACJ;EAEMwB,YAAY,CAACxC,QAAkB;IAAA;IAAA;MACnC,MAAI,CAAC5B,MAAM,CAACyD,IAAI,CAACzE,yBAAyB,EAAE;QAC1C0E,KAAK,EAAE,OAAO;QACdd,IAAI,EAAE;UACJ9B,SAAS,EAAE,MAAI,CAACA,SAAS;UACzBD,MAAM,EAAE,MAAI,CAACA,MAAM;UACnBe,QAAQ,EAAEA,QAAQ;UAClBJ,KAAK,EAAEI,QAAQ,CAACP,OAAO,SACb,MAAI,CAACnB,YAAY,CAACmE,OAAO,CAACzC,QAAQ,CAACP,OAAO,CAAC,GACjD,IAAI;UACR6C,UAAU;YAAA,8BAAE,WAAOI,CAAY,EAAI;cACjC,IAAIA,CAAC,IAAIA,CAAC,KAAK1C,QAAQ,EAAE;gBACvB,MAAI,CAACN,cAAc,GAAG,MAAI,CAACA,cAAc,CAACK,MAAM,CAC7C4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;gBACD,MAAI,CAACvB,iBAAiB,GAAG,MAAI,CAACA,iBAAiB,CAACgB,MAAM,CACnD4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;gBACD,MAAI,CAACT,qBAAqB,EAAE;gBAC5B,IAAI6C,CAAC,CAACjD,OAAO,EAAE;kBACb,MAAI,CAACC,cAAc,CAAC6C,IAAI,CAACG,CAAC,CAAC;iBAC5B,MAAM;kBACL,MAAI,CAAC3D,iBAAiB,CAACwD,IAAI,CAACG,CAAC,CAAC;;gBAEhC,MAAI,CAAC7C,qBAAqB,EAAE;;YAEhC,CAAC;YAAA;cAAA;YAAA;UAAA;;OAEJ,CAAC;IAAC;EACL;EAEM+C,qBAAqB,CAAC5C,QAAkB;IAAA;IAAA;MAC5C,MAAI,CAAC5B,MAAM,CAACyD,IAAI,CAACxE,0BAA0B,EAAE;QAC3CyE,KAAK,EAAE,OAAO;QACdd,IAAI,EAAE;UACJhB,QAAQ,EAAEA,QAAQ;UAClBd,SAAS,EAAE,MAAI,CAACA,SAAS;UACzBD,MAAM,EAAE,MAAI,CAACA,MAAM;UACnBW,KAAK,EAAEI,QAAQ,CAACP,OAAO,SACb,MAAI,CAACnB,YAAY,CAACmE,OAAO,CAACzC,QAAQ,CAACP,OAAO,CAAC,GACjD,IAAI;UACR6C,UAAU;YAAA,8BAAE,WAAOI,CAAW,EAAI;cAChC,MAAI,CAAChD,cAAc,GAAG,MAAI,CAACA,cAAc,CAACK,MAAM,CAC7C4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;cACD,MAAI,CAACvB,iBAAiB,GAAG,MAAI,CAACA,iBAAiB,CAACgB,MAAM,CACnD4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;cACD,MAAI,CAACH,YAAY,CAAC0C,MAAM,CAAC7C,QAAQ,CAACM,UAAU,CAAC;cAC7C,IAAIoC,CAAC,CAACjD,OAAO,EAAE;gBACb,MAAI,CAACC,cAAc,CAAC6C,IAAI,CAACG,CAAC,CAAC;eAC5B,MAAM;gBACL,MAAI,CAAC3D,iBAAiB,CAACwD,IAAI,CAACG,CAAC,CAAC;;cAEhC,MAAI,CAAC7C,qBAAqB,EAAE;cAC5B,IAAI6C,CAAC,CAACI,OAAO,KAAKhG,iBAAiB,CAACiG,UAAU,EAC5C,MAAM,MAAI,CAACzB,gBAAgB,EAAE;YACjC,CAAC;YAAA;cAAA;YAAA;UAAA;UACD0B,MAAM;YAAA,8BAAE,WAAON,CAAW,EAAI;cAC5B,IAAIA,CAAC,IAAIA,CAAC,KAAK1C,QAAQ,EAAE;gBACvB,MAAI,CAACN,cAAc,GAAG,MAAI,CAACA,cAAc,CAACK,MAAM,CAC7C4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;gBACD,MAAI,CAACvB,iBAAiB,GAAG,MAAI,CAACA,iBAAiB,CAACgB,MAAM,CACnD4C,EAAE,IAAKA,EAAE,CAACrC,UAAU,KAAKoC,CAAC,CAACpC,UAAU,CACvC;gBACD,MAAI,CAACT,qBAAqB,EAAE;gBAC5B,IAAI6C,CAAC,CAACjD,OAAO,EAAE;kBACb,MAAI,CAACC,cAAc,CAAC6C,IAAI,CAACG,CAAC,CAAC;iBAC5B,MAAM;kBACL,MAAI,CAAC3D,iBAAiB,CAACwD,IAAI,CAACG,CAAC,CAAC;;gBAEhC,MAAI,CAAC7C,qBAAqB,EAAE;;YAEhC,CAAC;YAAA;cAAA;YAAA;UAAA;UACDoD,SAAS;YAAA,8BAAE,WAAOP,CAAW,EAAI;cAC/B,IAAIA,CAAC,EAAE;gBACL,MAAI,CAACvC,YAAY,CAAC0C,MAAM,CAAC7C,QAAQ,CAACM,UAAU,CAAC;gBAC7C,IAAIoC,CAAC,CAACjD,OAAO,EAAE;kBACb,MAAI,CAACC,cAAc,CAAC6C,IAAI,CAACG,CAAC,CAAC;iBAC5B,MAAM;kBACL,MAAI,CAAC3D,iBAAiB,CAACwD,IAAI,CAACG,CAAC,CAAC;;gBAEhC,MAAI,CAAC7C,qBAAqB,EAAE;;YAEhC,CAAC;YAAA;cAAA;YAAA;UAAA;;OAEJ,CAAC;IAAC;EACL;EAEAqD,eAAe,CAAClD,QAAkB;IAAA;IAChC,IAAI,CAAC5B,MAAM,CAACyD,IAAI,CAACzE,yBAAyB,EAAE;MAC1C0E,KAAK,EAAE,OAAO;MACdd,IAAI,EAAE;QACJ9B,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBD,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBiE,eAAe,EAAElD,QAAQ;QACzBsC,UAAU;UAAA,8BAAE,WAAOI,CAAY,EAAI;YACjC,IAAIA,CAAC,EAAE;cACL,OAAI,CAACvC,YAAY,CAAC0C,MAAM,CAAC7C,QAAQ,CAACM,UAAU,CAAC;cAC7C,IAAIoC,CAAC,CAACjD,OAAO,EAAE;gBACb,OAAI,CAACC,cAAc,CAAC6C,IAAI,CAACG,CAAC,CAAC;eAC5B,MAAM;gBACL,OAAI,CAAC3D,iBAAiB,CAACwD,IAAI,CAACG,CAAC,CAAC;;cAEhC,OAAI,CAAC7C,qBAAqB,EAAE;;UAEhC,CAAC;UAAA;YAAA;UAAA;QAAA;;KAEJ,CAAC;EACJ;EAEAlB,KAAK;IACH,IAAI;MACF,IAAI,CAACwE,QAAQ,CAAC;QACZC,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC;QAC3BC,MAAM,EAAE,IAAI,CAACD,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC;QAC3BE,aAAa,EAAE,IAAI,CAACF,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC;QAClCG,MAAM,EAAE;UACNC,CAAC,EAAE;;OAEN,CAAC;KACH,CAAC,OAAOC,CAAC,EAAE;MACV;IAAA;EAEJ;EAEAnC,SAAS;IACP,MAAMoC,KAAK,GAAG,IAAIC,KAAK,EAAE;IACzBD,KAAK,CAACE,GAAG,GAAG,8CAA8C;IAC1DF,KAAK,CAACG,IAAI,EAAE;IACZH,KAAK,CAACI,IAAI,EAAE;EACd;EAEAV,MAAM,CAACW,GAAW,EAAEC,GAAW;IAC7B,OAAOC,IAAI,CAACb,MAAM,EAAE,IAAIY,GAAG,GAAGD,GAAG,CAAC,GAAGA,GAAG;EAC1C;EAEAb,QAAQ,CAACgB,IAAS;IAChB,OAAOC,MAAM,CAAC,UAAU,CAAC,CAACC,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;EAClD;;;mBAjUWpG,sBAAsB;AAAA;;QAAtBA,sBAAsB;EAAAqG;EAAAC;IAAAtF;IAAAD;EAAA;EAAAwF;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MC5BnCpH,6BAAqB;MAAAA,yBAAS;MAAAA,iBAAK;MACnCA,8BAAgC;MAKtBA,gCAAoC;MAClCA,qEAWK;MACLA,qEAOK;MACPA,0BAAe;MAEfA,iCAAwC;MACtCA,uEAAqD;MACrDA,uEAEK;MACPA,0BAAe;MAEfA,kCAAkC;MAChCA,wEAAgF;MAChFA,uEAWK;MACPA,0BAAe;MAEfA,kCAAsC;MACpCA,uEAAmD;MACnDA,uEAEK;MACPA,0BAAe;MAEfA,kCAAkC;MAChCA,uEAA2C;MAC3CA,uEAQK;MACPA,0BAAe;MAEfA,wEAA0D;MAC1DA,wEAKM;MACRA,iBAAQ;MAEVA,0CAAqE;MAIjEA;QAAA,OAASqH,2BAAuB;MAAA,EAAC;MAIjCrH,qCACG;MAAAA,uBAAM;MAAAA,iBACR;MACDA,iCAA8C;MAC5CA,oCACF;MAAAA,iBAAO;MAETA,mCAOC;MADCA;QAAA,OAASqH,0BAAsB;MAAA,EAAC;MAEhCrH,qCAAkC;MAAAA,oBAAG;MAAAA,iBAAW;MAItDA,oCAAiC;MAG3BA,iCAAoC;MAClCA,uEAWK;MACLA,uEAOK;MACPA,0BAAe;MAEfA,iCAAwC;MACtCA,uEAAqD;MACrDA,uEAEK;MACPA,0BAAe;MAEfA,kCAAkC;MAChCA,uEAAoD;MACpDA,uEAWK;MACPA,0BAAe;MAEfA,kCAAmC;MACjCA,uEAAqD;MACrDA,uEAIK;MACPA,0BAAe;MAEfA,kCAAsC;MACpCA,uEAAmD;MACnDA,uEAEK;MACPA,0BAAe;MAEfA,kCAAkC;MAChCA,uEAA2C;MAC3CA,uEAQK;MACPA,0BAAe;MAEfA,wEAA+D;MAC/DA,wEAKM;MACRA,iBAAQ;MAEVA,0CAAqE;MAIjEA;QAAA,OAASqH,2BAAuB;MAAA,EAAC;MAIjCrH,qCACG;MAAAA,uBAAM;MAAAA,iBACR;MACDA,iCAA8C;MAC5CA,oCACF;MAAAA,iBAAO;MAETA,mCAOC;MADCA;QAAA,OAASqH,0BAAsB;MAAA,EAAC;MAEhCrH,qCAAkC;MAAAA,oBAAG;MAAAA,iBAAW;MAItDA,oCAAiC;MAG3BA,iCAAwC;MACtCA,uEAAqD;MACrDA,uEAEK;MACPA,0BAAe;MAEfA,kCAA6C;MAC3CA,uEAA0D;MAC1DA,uEAEK;MACPA,0BAAe;MAEfA,kCAAkC;MAChCA,uEAAoD;MACpDA,uEAWK;MACPA,0BAAe;MAEfA,kCAAmC;MACjCA,uEAAmD;MACnDA,uEAeK;MACPA,0BAAe;MAEfA,kCAAqC;MACnCA,uEAAkD;MAClDA,wEAWK;MACPA,0BAAe;MAEfA,kCAAqC;MACnCA,uEAA2C;MAC3CA,uEAQK;MACPA,0BAAe;MAEfA,wEAAkE;MAClEA,wEAKM;MACRA,iBAAQ;;;MAlTSA,eAAiC;MAAjCA,mDAAiC;MAmE5BA,gBAA+B;MAA/BA,oDAA+B;MAK5BA,eAAuB;MAAvBA,qDAAuB;MAiC/BA,gBAA8B;MAA9BA,gDAA8B;MA4EzBA,gBAAoC;MAApCA,yDAAoC;MAIjCA,eAA4B;MAA5BA,0DAA4B;MAkCpCA,gBAAuC;MAAvCA,yDAAuC;MAgFlCA,gBAAuC;MAAvCA,4DAAuC;MAIpCA,eAA+B;MAA/BA,6DAA+B","names":["CompletionQuality","EXPANDED_TODO_TYPE","TODO_TYPE_COLORS","EXPANDED_COMPLETION_QUALITY","MatTableDataSource","SelectionModel","AddTodoListModalComponent","TodoItemCardModalComponent","ConfirmModalComponent","interval","pausable","i0","ctx_r40","$event","ctx_r44","ctx_r52","ctx_r57","ctx_r61","ctx_r70","ctx_r86","TodoListModalComponent","constructor","dialog","todoItemService","groupService","ngOnInit","getTodoItems","pipe","subscribe","shoot","bind","pause","ngOnChanges","personalTodoItems","getByUserProject","userID","projectID","userGroups","getByUserAndProject","groupIDtoGroupMap","reduce","map","obj","groupID","groupTodoItems","getMultipleByGroup","group","updateTableDataSource","personalDataSource","filter","todoItem","completed","groupDataSource","todoItemsMap","Map","todo","todoItemID","completedItemsDataSource","values","isAllSelected","dataSource","numSelected","selection","selected","length","numRows","data","masterToggle","clear","forEach","row","select","completeTodoItem","playAudio","setTimeout","resume","CONFETTI_DURATION","CONFETTI_DELAY","handleDeleteTodoItems","open","width","title","message","handleConfirm","i","remove","deleteTodoItems","openAddTodoItemModal","onComplete","push","editTodoItem","getById","t","ti","openTodoItemViewModal","delete","quality","INCOMPLETE","onEdit","onRestore","restoreTodoItem","confetti","angle","random","spread","particleCount","origin","y","e","audio","Audio","src","load","play","min","max","Math","args","window","apply","arguments","selectors","inputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/marieklinaeva/github/ck-board/frontend/src/app/components/todo-list-modal/todo-list-modal.component.ts","/Users/marieklinaeva/github/ck-board/frontend/src/app/components/todo-list-modal/todo-list-modal.component.html"],"sourcesContent":["import { Component, OnInit, Inject, Input, OnChanges } from '@angular/core';\nimport {\n  MatDialogRef,\n  MAT_DIALOG_DATA,\n  MatDialog,\n} from '@angular/material/dialog';\nimport { TodoItemService } from 'src/app/services/todoItem.service';\nimport { GroupService } from 'src/app/services/group.service';\nimport { TodoItem, CompletionQuality } from 'src/app/models/todoItem';\nimport {\n  EXPANDED_TODO_TYPE,\n  TODO_TYPE_COLORS,\n  EXPANDED_COMPLETION_QUALITY,\n} from 'src/app/utils/constants';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { AddTodoListModalComponent } from '../add-todo-list-modal/add-todo-list-modal.component';\nimport { TodoItemCardModalComponent } from '../todo-item-card-modal/todo-item-card-modal.component';\nimport { ConfirmModalComponent } from '../confirm-modal/confirm-modal.component';\nimport { interval } from 'rxjs';\nimport { PausableObservable, pausable } from 'rxjs-pausable';\nimport { Group } from 'src/app/models/group';\n\n@Component({\n  selector: 'app-todo-list-modal',\n  templateUrl: './todo-list-modal.component.html',\n  styleUrls: ['./todo-list-modal.component.scss'],\n})\nexport class TodoListModalComponent implements OnInit, OnChanges {\n  minDate: Date;\n  userGroups: Group[];\n  personalTodoItems: TodoItem[];\n  groupTodoItems: TodoItem[];\n  todoItemsMap: Map<string, TodoItem>;\n  personalDataSource: MatTableDataSource<TodoItem>;\n  groupDataSource: MatTableDataSource<TodoItem>;\n  groupIDtoGroupMap: object;\n\n  selection = new SelectionModel<TodoItem>(true, []);\n  pausable: PausableObservable<number>;\n  completedItemsDataSource: MatTableDataSource<TodoItem>;\n  CONFETTI_DELAY = 3400;\n  CONFETTI_DURATION = 500;\n  todoItemTypes = EXPANDED_TODO_TYPE;\n  todoItemColors = TODO_TYPE_COLORS;\n  EXPANDED_COMPLETION_QUALITY: typeof EXPANDED_COMPLETION_QUALITY =\n    EXPANDED_COMPLETION_QUALITY;\n  CompletionQuality: typeof CompletionQuality = CompletionQuality;\n  displayColumns = ['select', 'task-title', 'type', 'deadline', 'edit'];\n  displayGroupColumns = [\n    'select',\n    'task-title',\n    'type',\n    'group',\n    'deadline',\n    'edit',\n  ];\n  completedDisplayColums = [\n    'task-title',\n    'type',\n    'group',\n    'quality',\n    'completion-date',\n    'options',\n  ];\n\n  @Input()\n  projectID: string;\n\n  @Input()\n  userID: string;\n\n  constructor(\n    public dialog: MatDialog,\n    public todoItemService: TodoItemService,\n    public groupService: GroupService\n  ) {}\n\n  async ngOnInit() {\n    await this.getTodoItems();\n    this.pausable = interval(800).pipe(\n      pausable()\n    ) as PausableObservable<number>;\n    this.pausable.subscribe(this.shoot.bind(this));\n    this.pausable.pause();\n  }\n\n  async ngOnChanges() {\n    await this.getTodoItems();\n  }\n\n  async getTodoItems() {\n    this.personalTodoItems = await this.todoItemService.getByUserProject(\n      this.userID,\n      this.projectID\n    );\n\n    this.userGroups = await this.groupService.getByUserAndProject(\n      this.userID,\n      this.projectID\n    );\n\n    this.groupIDtoGroupMap = this.userGroups.reduce(function (map, obj) {\n      map[obj.groupID] = obj;\n      return map;\n    }, {});\n\n    this.groupTodoItems = await this.todoItemService.getMultipleByGroup(\n      this.userGroups.map((group) => group.groupID)\n    );\n\n    this.updateTableDataSource();\n  }\n\n  updateTableDataSource() {\n    this.personalDataSource = new MatTableDataSource<TodoItem>(\n      this.personalTodoItems.filter(\n        (todoItem: TodoItem) => !todoItem.completed && !todoItem.groupID\n      )\n    );\n\n    this.groupDataSource = new MatTableDataSource<TodoItem>(\n      this.groupTodoItems.filter((todoItem: TodoItem) => !todoItem.completed)\n    );\n\n    this.todoItemsMap = new Map(\n      this.personalTodoItems.map((todo) => [todo.todoItemID, todo])\n    );\n\n    this.completedItemsDataSource = new MatTableDataSource<TodoItem>(\n      [...this.todoItemsMap.values()].filter(\n        (todoItem: TodoItem) => todoItem.completed\n      )\n    );\n  }\n\n  isAllSelected(dataSource) {\n    const numSelected = this.selection.selected.length;\n    const numRows = dataSource.data.length;\n    return numSelected === numRows;\n  }\n\n  masterToggle(dataSource) {\n    this.isAllSelected(dataSource)\n      ? this.selection.clear()\n      : dataSource.data.forEach((row) => this.selection.select(row));\n  }\n\n  async completeTodoItem() {\n    this.playAudio();\n    setTimeout(() => {\n      this.shoot();\n      this.pausable.resume();\n      setTimeout(() => this.pausable.pause(), this.CONFETTI_DURATION);\n    }, this.CONFETTI_DELAY);\n  }\n\n  async handleDeleteTodoItems() {\n    if (this.selection.selected.length > 0) {\n      this.dialog.open(ConfirmModalComponent, {\n        width: '500px',\n        data: {\n          title: 'Confirmation',\n          message:\n            'This will permanently delete the selected Todo Items. Are you sure you want to do this?',\n          handleConfirm: async () => {\n            for (let i = 0; i < this.selection.selected.length; i++) {\n              await this.todoItemService.remove(\n                this.selection.selected[i].todoItemID\n              );\n            }\n            await this.getTodoItems();\n          },\n        },\n      });\n      ``;\n    }\n  }\n\n  async deleteTodoItems() {\n    this.selection.selected.forEach(async (todoItem) => {\n      await this.todoItemService.remove(todoItem.todoItemID);\n    });\n    await this.getTodoItems();\n  }\n\n  openAddTodoItemModal() {\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        onComplete: async (todoItem: TodoItem) => {\n          let dataSource: MatTableDataSource<TodoItem>;\n          if (todoItem.groupID) {\n            this.groupTodoItems.push(todoItem);\n            dataSource = this.groupDataSource;\n          } else {\n            dataSource = this.personalDataSource;\n            this.personalTodoItems.push(todoItem);\n          }\n          const data = dataSource.data;\n          data.push(todoItem);\n          dataSource.data = data;\n        },\n      },\n    });\n  }\n\n  async editTodoItem(todoItem: TodoItem) {\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        todoItem: todoItem,\n        group: todoItem.groupID\n          ? await this.groupService.getById(todoItem.groupID)\n          : null,\n        onComplete: async (t?: TodoItem) => {\n          if (t && t !== todoItem) {\n            this.groupTodoItems = this.groupTodoItems.filter(\n              (ti) => ti.todoItemID !== t.todoItemID\n            );\n            this.personalTodoItems = this.personalTodoItems.filter(\n              (ti) => ti.todoItemID !== t.todoItemID\n            );\n            this.updateTableDataSource();\n            if (t.groupID) {\n              this.groupTodoItems.push(t);\n            } else {\n              this.personalTodoItems.push(t);\n            }\n            this.updateTableDataSource();\n          }\n        },\n      },\n    });\n  }\n\n  async openTodoItemViewModal(todoItem: TodoItem) {\n    this.dialog.open(TodoItemCardModalComponent, {\n      width: '500px',\n      data: {\n        todoItem: todoItem,\n        projectID: this.projectID,\n        userID: this.userID,\n        group: todoItem.groupID\n          ? await this.groupService.getById(todoItem.groupID)\n          : null,\n        onComplete: async (t: TodoItem) => {\n          this.groupTodoItems = this.groupTodoItems.filter(\n            (ti) => ti.todoItemID !== t.todoItemID\n          );\n          this.personalTodoItems = this.personalTodoItems.filter(\n            (ti) => ti.todoItemID !== t.todoItemID\n          );\n          this.todoItemsMap.delete(todoItem.todoItemID);\n          if (t.groupID) {\n            this.groupTodoItems.push(t);\n          } else {\n            this.personalTodoItems.push(t);\n          }\n          this.updateTableDataSource();\n          if (t.quality !== CompletionQuality.INCOMPLETE)\n            await this.completeTodoItem();\n        },\n        onEdit: async (t: TodoItem) => {\n          if (t && t !== todoItem) {\n            this.groupTodoItems = this.groupTodoItems.filter(\n              (ti) => ti.todoItemID !== t.todoItemID\n            );\n            this.personalTodoItems = this.personalTodoItems.filter(\n              (ti) => ti.todoItemID !== t.todoItemID\n            );\n            this.updateTableDataSource();\n            if (t.groupID) {\n              this.groupTodoItems.push(t);\n            } else {\n              this.personalTodoItems.push(t);\n            }\n            this.updateTableDataSource();\n          }\n        },\n        onRestore: async (t: TodoItem) => {\n          if (t) {\n            this.todoItemsMap.delete(todoItem.todoItemID);\n            if (t.groupID) {\n              this.groupTodoItems.push(t);\n            } else {\n              this.personalTodoItems.push(t);\n            }\n            this.updateTableDataSource();\n          }\n        },\n      },\n    });\n  }\n\n  restoreTodoItem(todoItem: TodoItem) {\n    this.dialog.open(AddTodoListModalComponent, {\n      width: '600px',\n      data: {\n        projectID: this.projectID,\n        userID: this.userID,\n        restoreTodoItem: todoItem,\n        onComplete: async (t?: TodoItem) => {\n          if (t) {\n            this.todoItemsMap.delete(todoItem.todoItemID);\n            if (t.groupID) {\n              this.groupTodoItems.push(t);\n            } else {\n              this.personalTodoItems.push(t);\n            }\n            this.updateTableDataSource();\n          }\n        },\n      },\n    });\n  }\n\n  shoot() {\n    try {\n      this.confetti({\n        angle: this.random(60, 120),\n        spread: this.random(10, 50),\n        particleCount: this.random(50, 60),\n        origin: {\n          y: 0.6,\n        },\n      });\n    } catch (e) {\n      // noop, confettijs may not be loaded yet\n    }\n  }\n\n  playAudio() {\n    const audio = new Audio();\n    audio.src = '../../../assets/celebration-sound-effect.wav';\n    audio.load();\n    audio.play();\n  }\n\n  random(min: number, max: number) {\n    return Math.random() * (max - min) + min;\n  }\n\n  confetti(args: any) {\n    return window['confetti'].apply(this, arguments);\n  }\n}\n","<h1 mat-dialog-title>Todo List</h1>\n<div style=\"position: relative\">\n  <mat-tab-group dynamicHeight animationDuration=\"0ms\">\n    <mat-tab label=\"Personal Todo List\">\n      <div class=\"mat-elevation-z3 table_style\">\n        <table mat-table [dataSource]=\"personalDataSource\" class=\"table\">\n          <ng-container matColumnDef=\"select\">\n            <th mat-header-cell *matHeaderCellDef>\n              <mat-checkbox\n                (change)=\"$event ? masterToggle(personalDataSource) : null\"\n                [checked]=\"\n                  selection.hasValue() && isAllSelected(personalDataSource)\n                \"\n                [indeterminate]=\"\n                  selection.hasValue() && !isAllSelected(personalDataSource)\n                \"\n              >\n              </mat-checkbox>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <mat-checkbox\n                (click)=\"$event.stopPropagation()\"\n                (change)=\"$event ? selection.toggle(row) : null\"\n                [checked]=\"selection.isSelected(row)\"\n              >\n              </mat-checkbox>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"task-title\">\n            <th mat-header-cell *matHeaderCellDef>Task Title</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <a>{{ todo.title }} </a>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"type\">\n            <th mat-header-cell class=\"table-type-header\" *matHeaderCellDef> Task Type </th>\n            <td mat-cell *matCellDef=\"let todo\"> \n              <mat-chip\n                class=\"chip-base\"\n                *ngFor=\"let type of todo.type\"\n                [ngStyle]=\"{\n                  'background-color': todoItemColors[type],\n                  margin: '2px'\n                }\"\n              >\n                {{ todoItemTypes[type] }}\n              </mat-chip>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"deadline\">\n            <th mat-header-cell *matHeaderCellDef>Deadline</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              {{ todo.deadline.date }} @ {{ todo.deadline.time }}\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"edit\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <button\n                mat-icon-button\n                (click)=\"editTodoItem(todo); $event.stopPropagation()\"\n                matTooltip=\"Edit Task\"\n              >\n                <mat-icon>more_vert</mat-icon>\n              </button>\n            </td>\n          </ng-container>\n\n          <tr mat-header-row *matHeaderRowDef=\"displayColumns\"></tr>\n          <tr\n            mat-row\n            class=\"todoItemRow\"\n            (click)=\"openTodoItemViewModal(row)\"\n            *matRowDef=\"let row; columns: displayColumns\"\n          ></tr>\n        </table>\n      </div>\n      <mat-chip-list style=\"display: flex; margin-top: 10px; height: 60px\">\n        <mat-chip\n          mat-raised-button\n          color=\"warn\"\n          (click)=\"handleDeleteTodoItems()\"\n          style=\"text-align: center; margin-right: 10px\"\n          selected\n        >\n          <mat-icon class=\"chip-icon\" style=\"width: 0px; overflow: initial\"\n            >delete</mat-icon\n          >\n          <span style=\"width: 100%; text-align: center\">\n            Delete Todo Items\n          </span>\n        </mat-chip>\n        <button\n          mat-mini-fab\n          color=\"accent\"\n          matTooltip=\"Add Todo Item\"\n          matTooltipPosition=\"before\"\n          class=\"addTodoItemButton\"\n          (click)=\"openAddTodoItemModal()\"\n        >\n          <mat-icon class=\"addTodoItemIcon\">add</mat-icon>\n        </button>\n      </mat-chip-list>\n    </mat-tab>\n    <mat-tab label=\"Group Todo List\">\n      <div class=\"mat-elevation-z3 table_style\">\n        <table mat-table [dataSource]=\"groupDataSource\" class=\"table\">\n          <ng-container matColumnDef=\"select\">\n            <th mat-header-cell *matHeaderCellDef>\n              <mat-checkbox\n                (change)=\"$event ? masterToggle(groupDataSource) : null\"\n                [checked]=\"\n                  selection.hasValue() && isAllSelected(groupDataSource)\n                \"\n                [indeterminate]=\"\n                  selection.hasValue() && !isAllSelected(groupDataSource)\n                \"\n              >\n              </mat-checkbox>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <mat-checkbox\n                (click)=\"$event.stopPropagation()\"\n                (change)=\"$event ? selection.toggle(row) : null\"\n                [checked]=\"selection.isSelected(row)\"\n              >\n              </mat-checkbox>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"task-title\">\n            <th mat-header-cell *matHeaderCellDef>Task Title</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <a>{{ todo.title }} </a>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"type\">\n            <th mat-header-cell *matHeaderCellDef>Task Type</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <mat-chip\n                class=\"chip-base\"\n                *ngFor=\"let type of todo.type\"\n                [ngStyle]=\"{\n                  'background-color': todoItemColors[type],\n                  margin: '2px'\n                }\"\n              >\n                {{ todoItemTypes[type] }}\n              </mat-chip>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"group\">\n            <th mat-header-cell *matHeaderCellDef>Group Name</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <mat-chip class=\"chip-base\" style=\"background-color: #63e388\">\n                {{ groupIDtoGroupMap[todo.groupID].name }}\n              </mat-chip>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"deadline\">\n            <th mat-header-cell *matHeaderCellDef>Deadline</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              {{ todo.deadline.date }} @ {{ todo.deadline.time }}\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"edit\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <button\n                mat-icon-button\n                (click)=\"editTodoItem(todo); $event.stopPropagation()\"\n                matTooltip=\"Edit Task\"\n              >\n                <mat-icon>more_vert</mat-icon>\n              </button>\n            </td>\n          </ng-container>\n\n          <tr mat-header-row *matHeaderRowDef=\"displayGroupColumns\"></tr>\n          <tr\n            mat-row\n            class=\"todoItemRow\"\n            *matRowDef=\"let row; columns: displayGroupColumns\"\n            (click)=\"openTodoItemViewModal(row)\"\n          ></tr>\n        </table>\n      </div>\n      <mat-chip-list style=\"display: flex; margin-top: 10px; height: 60px\">\n        <mat-chip\n          mat-raised-button\n          color=\"warn\"\n          (click)=\"handleDeleteTodoItems()\"\n          style=\"text-align: center; margin-right: 10px\"\n          selected\n        >\n          <mat-icon class=\"chip-icon\" style=\"width: 0px; overflow: initial\"\n            >delete</mat-icon\n          >\n          <span style=\"width: 100%; text-align: center\">\n            Delete Todo Items\n          </span>\n        </mat-chip>\n        <button\n          mat-mini-fab\n          color=\"accent\"\n          matTooltip=\"Add Todo Item\"\n          matTooltipPosition=\"before\"\n          class=\"addTodoItemButton\"\n          (click)=\"openAddTodoItemModal()\"\n        >\n          <mat-icon class=\"addTodoItemIcon\">add</mat-icon>\n        </button>\n      </mat-chip-list>\n    </mat-tab>\n    <mat-tab label=\"Completed Tasks\">\n      <div class=\"mat-elevation-z3 table_style\">\n        <table mat-table [dataSource]=\"completedItemsDataSource\" class=\"table\">\n          <ng-container matColumnDef=\"task-title\">\n            <th mat-header-cell *matHeaderCellDef>Task Title</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <a>{{ todo.title }} </a>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"completion-date\">\n            <th mat-header-cell *matHeaderCellDef>Completion Date</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              {{ todo.deadline.date }} @ {{ todo.deadline.time }}\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"type\">\n            <th mat-header-cell *matHeaderCellDef>Task Type</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <mat-chip\n                class=\"chip-base\"\n                *ngFor=\"let type of todo.type\"\n                [ngStyle]=\"{\n                  'background-color': todoItemColors[type],\n                  margin: '2px'\n                }\"\n              >\n                {{ todoItemTypes[type] }}\n              </mat-chip>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"group\">\n            <th mat-header-cell *matHeaderCellDef>Category</th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <mat-chip\n                class=\"chip-base\"\n                *ngIf=\"todo.groupID\"\n                style=\"background-color: #63e388\"\n              >\n                Group: {{ groupIDtoGroupMap[todo.groupID].name }}\n              </mat-chip>\n              <mat-chip\n                class=\"chip-base\"\n                *ngIf=\"!todo.groupID\"\n                style=\"background-color: #f8391d\"\n              >\n                Personal\n              </mat-chip>\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"quality\">\n            <th mat-header-cell *matHeaderCellDef>Quality</th>\n            <td\n              mat-cell\n              *matCellDef=\"let todo\"\n              [ngStyle]=\"{\n                color:\n                  todo.quality === CompletionQuality.INCOMPLETE\n                    ? 'red'\n                    : 'green'\n              }\"\n            >\n              {{ EXPANDED_COMPLETION_QUALITY[todo.quality] }}\n            </td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"options\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let todo\">\n              <button\n                mat-icon-button\n                (click)=\"restoreTodoItem(todo); $event.stopPropagation()\"\n                matTooltip=\"Restore Task\"\n              >\n                <mat-icon>more_vert</mat-icon>\n              </button>\n            </td>\n          </ng-container>\n\n          <tr mat-header-row *matHeaderRowDef=\"completedDisplayColums\"></tr>\n          <tr\n            mat-row\n            class=\"todoItemRow\"\n            *matRowDef=\"let row; columns: completedDisplayColums\"\n            (click)=\"openTodoItemViewModal(row)\"\n          ></tr>\n        </table>\n      </div>\n    </mat-tab>\n  </mat-tab-group>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}