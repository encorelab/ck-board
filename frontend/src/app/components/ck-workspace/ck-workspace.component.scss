@import './../../../../node_modules/swiper/swiper.min.css';
@import './../../../../node_modules/swiper/swiper-bundle.min.css';

// Assuming this is the content of ck-workspace.component.scss
// If :host is used, these styles would be inside it.
// If not, .ck-workspace-container is the top-level scope provided.

.ck-workspace-container {
  .spinner {
    margin: 70px auto;
    background: transparent;
  }

  .toolbar {
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 999; // Main toolbar is above most things
  }

  .list-task-prompt {
    color: gray;
  }

  .no-task-selected {
    margin-top: 20px;
    text-align: center;
    width: 100%;
    font-size: 24px;
    font-weight: bold;
    color: #666;
  }

  .no-posts-message {
    width: 100%;
    text-align: center;
    color: gray;
    margin-top: 20px;
  }

  .drawer-container { // This is mat-sidenav-container
    position: absolute; // Relative to .ck-workspace-container or viewport if .ck-workspace-container is static
    left: 0;
    right: 0;
    bottom: 0;
    top: 0; // This makes it fill the parent, or viewport if parent is body
    // overflow: none; // This is not a valid value, should be hidden or auto/scroll for children
    min-height: calc(100vh);
  }

  .subheader-button {
    width: 100%;
    text-align: left !important;
  }

  mat-sidenav {
    height: 100%;
    width: 90%;

    @media (max-width: 599px) {
      width: 100%;
    }

    @media (min-width: 600px) {
      width: 30%;
    }
  }

  mat-sidenav-content {
    padding: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-y: auto; // This is the main scrolling area
    position: relative; // Important if any children use position:absolute relative to this

    padding-top: 64px; // For the fixed toolbar

    @media (max-width: 599px) {
      padding-top: 56px;
    }
  }

  .workflow-create-post { // This seems like another FAB, ensure its positioning is also considered
    background-color: #6c63ff;
    position: absolute; // Relative to its nearest positioned ancestor
    bottom: 20px;
    right: 20px;
  }

  .task-view {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  .task-title {
    font-size: 24px;
    font-weight: bold;
    text-align: center;
  }

  .task-prompt {
    font-size: 18px;
    font-weight: normal;
    text-align: center;
    color: gray;
  }

  .task-requirements {
    ul {
      list-style-position: inside;
      padding-left: 0;
      text-align: center;
      font-weight: bold;
    }
  }

  .progress-bars {
    width: 100%;
    max-width: 600px;

    > div {
      margin-bottom: 10px;
    }

    > div:last-child {
      // Target the *last* div child
      margin-bottom: 40px;
    }
  }

  .view-toggle-buttons {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  .swiper-container {
    width: 60%;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    position: relative;
  }

  .create-post-fab {
    position: fixed;      // Position relative to the viewport
    bottom: 2rem;         // Distance from the bottom of the screen
    right: 2rem;          // Distance from the right of the screen
    z-index: 990;         // Ensure it's above most page content, but below modals/main toolbar if necessary
    background-color: #6c63ff; // Keep existing color
  }

  // ::ng-deep rules are generally discouraged. Prefer to style components via their own SCSS
  // or use ::host-context or other encapsulation-respecting methods if possible.
  // For now, keeping them as they were in your provided SCSS.
  ::ng-deep .mat-toolbar-single-row button[mat-icon-button] {
    z-index: 3;
  }

  // Target the app-html-post component *inside* the Swiper slides.
  ::ng-deep .swiper-slide app-html-post {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  .refresh-button-container {
    width: 100%;
    display: flex;
    margin-top: 1rem;
    align-items: center;
    justify-content: space-between;
  }

  .group-info-and-buttons-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    margin-top: 3rem;
    gap: 1rem;
    .group-info {
      width: 100%;
      max-width: 600px;
      text-align: center;
      .group-name {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 8px;
      }
      .group-members {
        list-style-position: inside;
        padding-left: 0;
      }
    }
  }
}
