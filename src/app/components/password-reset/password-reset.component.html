<div class="wrapper">
    <div class="container">
        <img src="../../assets/Login.png" />
        <ng-container *ngIf="oobCodeChecked; else notOobCodeChecked">
            <form class="formContainer" (ngSubmit)="onHandleResetPassword()">
                <div>
                    <h1 class="header">Please Enter Your New Password</h1>
                    <p class="subheader"></p>
                    <div class="credentialsContainer">
                        <p class="label">New Password</p>
                        <mat-form-field appearance="fill" style="width: 80%">
                            <mat-label>Password</mat-label>
                            <input autocomplete="current-password" type="password" matInput [(ngModel)]="newPassword" name="password"/>
                        </mat-form-field>

                        <p class="label">Confirm New Password</p>
                        <mat-form-field appearance="fill" style="width: 80%">
                            <mat-label>Password</mat-label>
                            <input autocomplete="current-password" type="password" matInput [(ngModel)]="confirmPassword" name="confirmPassword"/>
                        </mat-form-field>
                    </div>
                    <div class="next">
                        <button type="submit" (click)="onSubmitPassword()" mat-button>Submit</button>
                        <button type="submit" (click)="onCancelPassword()" mat-button>Cancel</button>
                    </div>
                </div>
            </form>
        </ng-container>  

        <ng-template #notOobCodeChecked> 
            <ng-container>
                <form class="formContainer" (ngSubmit)="onHandleEmail()">
                    <div>
                        <h1 class="header">Please Enter Your Email Address</h1>
                        <p class="subheader"></p>
                        <div class="credentialsContainer">
                            <p class="label">Email</p>
                            <mat-form-field appearance="fill" style="width: 80%">
                                <mat-label>Email</mat-label>
                                <input autocomplete="username" type="email" matInput [(ngModel)]="email" name="username"/>
                            </mat-form-field>
                        </div>
                        <p *ngIf="msg === 'Missing Email'" class="fail">Please enter your email address</p>
                        <p *ngIf="msg === 'Success'" class="success">A link to reset your password has been to your email</p>
                        <p *ngIf="msg === 'Wrong Email'" class="fail">Your email has not been registered</p>
                        <div class="next" >
                            <button type="submit" (click)="onSubmitEmail()" mat-button>Submit</button>
                            <button type="submit" (click)="onCancelEmail()" mat-button>Cancel</button>
                        </div>
                    </div>
                </form>
            </ng-container>  
        </ng-template>
    </div>
</div>
